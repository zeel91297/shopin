/******/!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),s=n(2),a=n(3),r=n(4),o=n(5),l=n(6),c=n(7),d=n(8),u=n(9),m=n(10),v=n(11),p=n(12),h=n(13),g=n(14),f=n(15),y=n(16),b=n(17),S=n(18),_=n(19),k=n(20),w=n(21),C=n(22),P=n(23),D=n(24),T=n(25),I=n(26),E=n(27),A=n(28),M=n(29),R=n(30),O=n(31),N=n(32),x=n(33),L=n(34),q=n(35),F=n(36),U=n(37),B=n(38),j=n(39),z=n(40),V=n(41),H=n(42),W=n(43),Y=n(44),G=n(45),Q=n(46),K=n(47),Z=n(48),J=n(49),X=n(50),ee=n(51),te=n(52),ne=n(53),ie=n(54),se=n(55),ae=n(56),re=n(57),oe=n(58),le=n(59),ce=n(60),de=n(61),ue=n(62),me=n(63),ve=n(64),pe=n(65),he=n(66),ge=n(67),fe=n(68),ye=n(69),be=n(70),Se=n(71),_e=n(72),ke=n(73),we=n(74),Ce=n(75),Pe=n(76),De=n(77),Te=n(78),Ie=n(79),$e=n(80),Ee=n(81),Ae=n(82),Me=n(83),Re=n(84),Oe=n(85),Ne=n(86),xe=n(87),Le=n(88),qe=n(89),Fe=n(90),Ue=n(91),Be=n(92),je=n(93),ze=n(94),Ve=n(95),He=n(96),We=n(97),Ye=n(98),Ge=n(99),Qe=n(100),Ke=n(101),Ze=n(102),Je=n(103),Xe=n(104),et=n(105),tt=n(106),nt=n(107),it=n(108),st=n(109),at=n(110),rt=n(111),ot=n(112),lt=n(113),ct=n(114),dt=n(115),ut=n(116),mt=n(117),vt=n(118),pt=n(119),ht=n(120),gt=n(121),ft=n(122),yt=n(123),bt=n(124),St=n(125),_t=n(126),kt=n(127),wt=n(128),Ct=n(129),Pt=n(130),Dt=n(131),Tt=n(132),It=n(137),$t=n(138),Et=n(139),At=n(140),Mt=n(141),Rt=n(142),Ot=n(143);angular.module("ngHopscotch",["ngCookies","ngAnimate","ngTouch","ngSanitize","ngMessages","ui.router","toastr","angular-carousel","ngDialog","angulartics","angulartics.google.analytics","ng.deviceDetector","ngSegment","infinite-scroll","imageCropper"]).config(i.config).config(s.routerConfig).config(h.HSAngularticsGtmConfigurer).run(["ResourceService","AppStateService","ModalService","ConfigService","PageTrackingService","CustomerService","MomentsService","UtmService","$window","$anchorScroll","$analytics","$timeout","$state","$rootScope","$cookies","toastr","SegmentService","$location","$log","MetaStateService",function(e,t,n,i,s,a,r,o,l,c,d,u,m,v,p,h,g,f,y,b){"ngInject";var S=l.matchMedia("only screen and (max-width: 640px)").matches,_=l.matchMedia("only screen and (max-width: 1024px)").matches;S?t.setDeviceType("mobile"):_?t.setDeviceType("tablet"):t.setDeviceType("computer");var k=!0;a.isLoggedIn()&&!a.isUserTypeSet()&&(k=!1,a.autoLogin(!1).then(function(e){o.setUtm()})),g.init(),v.historyCounter=0,t.loadUtmFromLocation();var w=t.getUtmParams();w.dimension1=t.getDeviceType(),d.setUserProperties(w),e.setVisitorId(),e.fetchResource(),e.fetchSpecialOffer(),k&&o.setUtm(),l.addEventListener("popstate",function(e){var t=e.state||{},n=t.tracking||{},i=t.segment||{};v.historyCounter=t.index||0,n.funnel&&s.restore(n),i.from_screen&&g.restore(i)});var C=function(e){var t=l.window.history[e];l.window.history[e]=function(){var e=arguments[0]||{};e.index=++v.historyCounter,e.tracking=s.getBackup(),e.segment=g.getBackup(),arguments[0]=e;var n=t.apply(this,Array.prototype.slice.call(arguments));return u(function(){var e,t=$("#plp-container"),n=location.pathname.indexOf("search")>-1;if(n)var i=location.search.length>0&&location.search.indexOf("minPrice")>-1&&location.search.indexOf("maxPrice")>-1;var s=location.pathname.indexOf("collection")>-1;if(s)var a=location.search.length>0;var r=location.pathname.indexOf("products")>-1;if(r)var o=location.search.length>0&&location.search.indexOf("minPrice")>-1&&location.search.indexOf("maxPrice")>-1;t[0]&&(a||i||o)&&(e="plp-container"),c(e)}),n}};C("pushState"),C("replaceState");var P=(v.$on("$stateChangeError",function(e,t,s,a,r,o){s.redirectIfLoginFails&&p.putObject(i.REDIRECT_TO,{state:t.name,params:s},{expires:new Date((new Date).getTime()+i.REDIRECT_TIMEOUT)}),h.error(o.message),a.name.length||m.go("home"),o.showLoginModal&&u(function(){n.showLoginModal()},300)}),v.$watch(function(){return p.get("OtherSessionInfo")},function(e,n){if(e&&e!=n){var i=t.getUtmParams(),s={};for(var a in i)s["session_"+a.replace("-","_")]=i[a];s.session_deeplink=f.path(),g.trackSession(s,e,n)}else e&&e===n&&(g.sessionStarted=!0,g.processQueue())}),v.$on("$locationChangeSuccess",function(e,t,i,a,r){s.setPrev(location.pathname),i.split("#cart").length>1&&n.closeAllModals(),t==i?v.pageRefreshed=!0:v.pageRefreshed=!1}),!0);v.$on("$stateChangeStart",function(e,t,n,i,a){s.setBackup(),s.backupDone=!1;var r=n.funnel||n.section||n.subsection||n.plp,o=n.from_screen||n.from_section;if(r||o)e.preventDefault(),u(function(){r&&(s.setBackup(),s.onStateChange(n,P)),o&&(g.setBackup(),g.onStateChange(n)),P=!1,m.go(t,n,{location:"replace"})});else if(P){P=!1;var l={home:s.FUNNELS.NEW,search:s.FUNNELS.SEARCH,"department-baby":s.FUNNELS.BABY,"department-girls":s.FUNNELS.GIRLS,"department-boys":s.FUNNELS.BOYS,"department-mom":s.FUNNELS.MOM,moments:s.FUNNELS.MOMENTS};l[t.name]&&s.setFunnel(l[t.name])}}),v.$on("$stateChangeSuccess",function(e,n,a,o,l){if(t.setRouteChangeNumber(),b.setNewMetaData({},["boutique","products","product","department-baby","department-girls","department-boys","department-mom"].indexOf(n.name)>-1),-1==i.TRACKING_STATES.indexOf(n.name))s.clearDepartmentTrackingDetail(),s.clearLastState();else{var c=n.name+"-"+angular.toJson(a);""===o.name&&s.getLastState()!=c&&s.clearDepartmentTrackingDetail(),s.setLastState(c)}var d="momentDetail"===o.name&&"moments"===n.name,u="momentDetail"===n.name&&"moments"===o.name;d||u||r.resetGetMomentsData(),v.toState=n,v.fromState=o})}]).service("BoutiqueService",a.BoutiqueService).service("ProductService",r.ProductService).service("OrderService",o.OrderService).service("CustomerService",l.CustomerService).service("CartService",c.CartService).service("DeliveryService",u.DeliveryService).service("ResourceService",m.ResourceService).service("MetaStateService",v.MetaStateService).service("DepartmentService",p.DepartmentService).service("AnalyticsUtil",w.AnalyticsUtil).service("SegmentService",C.SegmentService).service("ModalService",g.ModalService).service("TimeService",f.TimeService).service("ConfigService",y.ConfigService).service("LocalStorageService",S.LocalStorageService).service("SessionStorageService",_.SessionStorageService).service("AppStateService",k.AppStateService).service("CachingHttpService",b.CachingHttpService).service("PageTrackingService",P.PageTrackingService).service("HeadersAutoLoginInterceptor",D.HeadersAutoLoginInterceptor).service("LockingInterceptor",T.LockingInterceptor).service("ServiceUnavailableInterceptor",I.ServiceUnavailableInterceptor).controller("HomeController",E.HomeController).controller("CollectionsController",A.CollectionsController).controller("BoutiquePLPController",M.BoutiquePLPController).controller("DepartmentController",R.DepartmentController).controller("ComingSoonBoutiquesController",O.ComingSoonBoutiquesController).controller("SaleBoutiquesController",N.SaleBoutiquesController).controller("LoginRegisterController",ee.LoginRegisterController).controller("ProductDetailsController",x.ProductDetailsController).controller("CheckoutController",L.CheckoutController).controller("PaymentResultController",q.PaymentResultController).controller("AppController",B.AppController).controller("AccountDetailController",j.AccountDetailController).controller("OrdersListController",z.OrdersListController).controller("OrderDetailController",V.OrderDetailController).controller("PlaceOrderForCustomerController",F.PlaceOrderForCustomerController).controller("ResetPasswordController",te.ResetPasswordController).controller("HelpController",ne.HelpController).controller("FeedbackController",dt.FeedbackController).controller("MomentsController",U.MomentsController).component("orderDetailItem",Y.OrderDetailItemComponent).controller("OrderDetailItemController",Y.OrderDetailItemController).component("boutiqueList",le.BoutiqueListComponent).controller("BoutiqueListController",le.BoutiqueListController).component("boutique",re.BoutiqueCardComponent).controller("BoutiqueCardController",re.BoutiqueCardController).component("multiBoutiqueTile",oe.MultiBoutiqueTileComponent).controller("MultiBoutiqueTileController",oe.MultiBoutiqueTileController).component("productList",ce.ProductListComponent).controller("ProductListController",ce.ProductListController).component("product",de.ProductCardComponent).controller("ProductCardController",de.ProductCardController).component("hsNavbar",ie.NavbarComponent).controller("NavbarController",ie.NavbarController).component("hsFooter",se.FooterComponent).controller("FooterController",se.FooterController).component("timeLeft",ue.TimeleftComponent).controller("TimeleftController",ue.TimeleftController).component("divider",me.DividerComponent).component("recommendedProduct",pe.RecommendedProductComponent).controller("RecommendedProductController",pe.RecommendedProductController).component("recommendedMatching",fe.RecommendedMatchingComponent).controller("RecommendedMatchingController",fe.RecommendedMatchingController).component("recommendedProductCarousel",he.RecommendedProductCarouselComponent).controller("RecommendedProductCarouselController",he.RecommendedProductCarouselController).component("productCarousel",ge.ProductCarouselComponent).controller("ProductCarouselController",ge.ProductCarouselController).component("placeholder",ye.PlaceholderComponent).controller("PlaceholderController",ye.PlaceholderController).component("spinner",be.SpinnerComponent).component("titleLoader",He.TitleLoaderComponent).component("filterLoader",We.FilterLoaderComponent).component("pdpLoader",Ye.PDPLoaderComponent).component("orderDetailLoader",Ge.OrderDetailLoaderComponent).component("hsAlertbar",ae.AlertbarComponent).controller("AlertbarController",ae.AlertbarController).component("hsAutocomplete",ve.AutocompleteComponent).controller("AutocompleteController",ve.AutocompleteController).component("cartItem",Re.CartItemComponent).controller("CartItemController",Re.CartItemController).component("cartDetails",Me.CartDetailsComponent).controller("CartDetailsController",Me.CartDetailsController).controller("CartController",Oe.CartController).service("CartService",c.CartService).controller("CartAlertDialogController",Ne.CartAlertDialogController).service("PaymentService",d.PaymentService).component("accordion",Se.AccordionComponent).controller("AccordionController",Se.AccordionController).component("hsFilter",ke.FilterComponent).controller("FilterController",ke.FilterController).directive("slider",we.NoUISliderDirective).component("sizeChart",Te.SizeChartComponent).controller("SizeChartController",Te.SizeChartController).directive("autocompleteSuggestions",Qe.AutocompleteSuggestionsDirective).controller("AutocompleteSuggestionsController",Qe.AutocompleteSuggestionsController).component("sizeSelector",Ie.SizeSelectorComponent).controller("SizeSelectorController",Ie.SizeSelectorController).controller("PincodeCheckerModalController",$e.PincodeCheckerModalController).component("refundQtySelector",Ae.RefundQtySelectorComponent).controller("RefundQtySelectorController",Ae.RefundQtySelectorController).directive("ellipsis",_e.EllipsisDirective).directive("lazySrc",Ce.LazySrcDirective).directive("lazyBg",Pe.LazyBgDirective).component("cartNotification",Ke.CartNotificationComponent).controller("CartNotificationController",Ke.CartNotificationController).directive("salvattore",De.SalvattoreDirective).directive("confirmPassword",Ze.ConfirmPassword).controller("DeliveryController",xe.DeliveryController).controller("PaymentController",Le.PaymentController).controller("CancellationController",G.CancellationController).component("cancellableItem",Q.CancellableItemComponent).controller("CancellableItemController",Q.CancellableItemController).controller("OrderTrackController",H.OrderTrackController).controller("ReturnController",K.ReturnController).service("OrderReturnService",J.OrderReturnService).component("returnItem",X.ReturnItemComponent).controller("ReturnItemController",X.ReturnItemController).controller("ReturnConfirmController",Z.ReturnConfirmController).service("PaymentValidationService",qe.PaymentValidationService).directive("validateCard",Fe.ValidateCardDirective).directive("formatCard",Ue.FormatCardDirective).directive("formatPhone",Be.FormatPhoneDirective).directive("formatZipcode",je.FormatZipcodeDirective).directive("formatExpiry",ze.FormatExpiryDirective).directive("autoFocus",Ve.AutoFocusDirectory).component("resetPassword",Je.ResetPasswordFormComponent).controller("ResetPasswordFormController",Je.ResetPasswordFormController).component("departmentBanner",Xe.DepartmentBannerComponent).controller("DepartmentBannerController",Xe.DepartmentBannerController).component("departmentStore",et.DepartmentStoreComponent).controller("DepartmentStoreController",et.DepartmentStoreController).component("departmentSba",tt.DepartmentSBAComponent).controller("DepartmentSBAController",tt.DepartmentSBAController).component("departmentTrending",nt.DepartmentTrendingComponent).controller("DepartmentTrendingController",nt.DepartmentTrendingController).component("departmentBrand",it.DepartmentBrandComponent).controller("DepartmentBrandController",it.DepartmentBrandController).component("departmentSbc",st.DepartmentSBCComponent).controller("DepartmentSBCController",st.DepartmentSBCController).directive("goToTop",Ee.GoToTopComponent).component("phoneVerification",at.PhoneVerificationComponent).controller("PhoneVerificationController",at.PhoneVerificationController).directive("branchBanner",rt.BranchBannerDirective).directive("autofillFix",ot.AutofillFixDirective).component("quickShop",lt.QuickShopComponent).controller("QuickShopController",x.ProductDetailsController).directive("lazyScroll",ct.LazyScroll).directive("milestoneScrollDir",ut.MilestoneScrollDir).directive("scroller",mt.ScrollDirective).component("vid",vt.VideoComponent).controller("VideoController",vt.VideoController).directive("fitVideo",pt.FitVideo).component("specialPageBoutiqueComponent",ht.SpecialPageBoutiqueComponent).controller("SpecialPageBoutiqueController",ht.SpecialPageBoutiqueController).directive("pickColor",gt.PickBackgroundDirective).service("UtmService",ft.UtmService).service("LatencyService",yt.LatencyService).filter("ImagePolicy",bt.ImagePolicyFilter).controller("CardNotificationController",St.CardNotificationController).component("cardNotification",St.CardNotificationComponent).controller("StoredCardComponentController",Pt.StoredCardComponentController).component("storedCardComponent",Pt.StoredCardComponent).controller("PersonalDetailController",_t.PersonalDetailController).controller("AddressBookController",kt.AddressBookController).controller("StoredCardController",wt.StoredCardController).controller("FavouriteBrandController",Ct.FavouriteBrandController).controller("MomentDetailController",Dt.MomentDetailController).controller("MomentUploadController",Tt.MomentUploadController).directive("salvattoreMoments",It.SalvattoreMomentsDirective).component("momentCard",$t.MomentCardComponent).controller("MomentCardController",$t.MomentCardController).controller("ProfileController",Rt.ProfileController).service("MomentsService",Et.MomentsService).controller("ReportModalController",Mt.ReportModalController).directive("stickyOnScroll",At.StickyOnScrollDirective).directive("script",W.LazyScriptLoad).component("customSizePicker",Ot.CustomSizePickerComponent).controller("CustomSizePickerController",Ot.CustomSizePickerController)},function(e,t){"use strict";function n(e,t,n,i,s,a,r,o,l,c){"ngInject";e.debugEnabled(!0),s.setOpenOnePerName(!0);var d=r.$get(),u={"api-version":"v1.8","client-auth-method":"v1","client-id":"web-client/1.0","secret-key":"SdeF21dn1ll23ms1AEcn223Ln039kds",Accept:"application/json, text/javascript, */*; q=0.01","device-id":"","install-id":"",browser:d.browser+"_"+d.browser_version,os:d.os+"_"+d.os_version};for(var m in u)n.defaults.headers.common[m]=u[m];n.interceptors.push("HeadersAutoLoginInterceptor"),n.interceptors.push("LockingInterceptor"),n.interceptors.push("ServiceUnavailableInterceptor"),o.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|whatsapp):/),i.html5Mode(!0).hashPrefix("!"),t.allowHtml=!0,t.timeOut=5e3,t.positionClass="toast-top-full-width",t.containerId="custom-toast-container",t.preventOpenDuplicates=!0,t.autoDismiss=!0,t.maxOpened=1,l.setKey(segmentConfig.key).setDebug(segmentConfig.debug),c.decorator("$exceptionHandler",["$delegate","$window",function(e,t){return function(n,i){t.analytics.track("error_occured",{event_name:"$exceptionHandler",cookies:t.document.cookie,local_storage:angular.toJson(t.localStorage),session_storage:angular.toJson(t.sessionStorage),error_message:n.message,error_stack:n.stack,cause:i}),segmentConfig.debug&&e(n,i)}}])}n.$inject=["$logProvider","toastrConfig","$httpProvider","$locationProvider","ngDialogProvider","$cookiesProvider","deviceDetectorProvider","$compileProvider","segmentProvider","$provide"],Object.defineProperty(t,"__esModule",{value:!0}),t.config=n},function(e,t){"use strict";function n(e,t){"ngInject";var n={accessOnlyIfLoggedIn:["CustomerService","$q",function(e,t){return e.checkLoggedIn()?void 0:t.reject({message:"Please login to access this information",showLoginModal:!0})}],accessOnlyIfCartHasItems:["CustomerService","$q",function(e,t){return e.getCartItemQty()?void 0:t.reject({message:"Your cart is empty. You cannot access this information."})}]};e.state("home",{url:"/?funnel&section&subsection&plp&from_screen&from_section&department&customTileId",views:{"@":{templateUrl:"app/sections/home/home.html",controller:"HomeController",controllerAs:"vm"}},data:{pageNames:["homepage","FB"],secondSectionHeader:"Bestsellers"},params:{showMenu:!0,resetFunnel:!0,ref:null}}).state("cart",{url:"/shoppingcart?funnel&section&subsection&plp&from_screen&from_section",views:{"@":{templateUrl:"app/sections/home/home.html",controller:"HomeController",controllerAs:"vm"}},data:{pageNames:["homepage","FB"],secondSectionHeader:"Bestsellers"},params:{showMenu:!0}}).state("bestsellers",{url:"/bestsellers?funnel&section&subsection&plp&from_screen&from_section",views:{"@":{templateUrl:"app/sections/home/home.html",controller:"HomeController",controllerAs:"vm"}},data:{pageNames:["FB","homepage"],secondSectionHeader:"New Collections"},params:{showMenu:!0,resetFunnel:!0,ref:null}}).state("department",{url:"/department/:deptId?funnel&section&subsection&plp&from_screen&from_section",views:s,params:{showMenu:!0}}).state("department-girls",{url:"/girls?funnel&section&subsection&plp&from_screen&from_section",views:s,params:{deptId:"girls",ref:null,resetFunnel:!0,showMenu:!0}}).state("department-boys",{url:"/boys?funnel&section&subsection&plp&from_screen&from_section",views:s,params:{deptId:"boys",ref:null,resetFunnel:!0,showMenu:!0}}).state("department-mom",{url:"/mom?funnel&section&subsection&plp&from_screen&from_section",views:s,params:{deptId:"mom",ref:null,resetFunnel:!0,showMenu:!0}}).state("department-baby",{url:"/baby?funnel&section&subsection&plp&from_screen&from_section",views:s,params:{deptId:"baby",ref:null,resetFunnel:!0,showMenu:!0}}).state("moments",{url:"/moments/:upload",templateUrl:"app/sections/moments/moments.html",controller:"MomentsController",controllerAs:"vm",params:{ref:null,resetFunnel:!0,showMenu:!0}}).state("momentUpload",{url:"/moments/upload-moment",templateUrl:"app/components/widgets/moments/upload/upload.html",controller:"MomentUploadController",controllerAs:"vm",resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{dummy:{},redirectIfLoginFails:!0}}).state("momentDetail",{url:"/moment/:id?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/components/widgets/moments/detail/detail.html",controller:"MomentDetailController",controllerAs:"vm",params:{dummy:{}}}).state("momentDetail2",{url:"/moment/:id/:platform?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/components/widgets/moments/detail/detail.html",controller:"MomentDetailController",controllerAs:"vm",params:{dummy:{}}}).state("momentProfile",{url:"/moment/profile/:id/:source",templateUrl:"app/components/widgets/moments/profile/profile.html",controller:"ProfileController",controllerAs:"vm",params:{dummy:{},showMenu:!0}}).state("coming-soon",{url:"/coming-soon?funnel&section&subsection&plp&from_screen&from_section&department&customTileId",views:a,params:{id:"coming",resetFunnel:!0,showMenu:!0}}).state("ending-soon",{url:"/ending-soon?funnel&section&subsection&plp&from_screen&from_section&department&customTileId",views:a,params:{id:"ending",resetFunnel:!0,showMenu:!0}}).state("sale",{url:"/sale?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/sale/sale.html",controller:"SaleBoutiquesController",controllerAs:"vm",params:{showMenu:!0}}).state("boutique",{url:"/collection/:boutiqueId/:boutiqueName?subCategorys&shopForGender&sizeList&ageList&maxPrice&minPrice&orderRule&brandIds&isFromRefineFilter&funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/boutique/boutique-plp.html",controller:"BoutiquePLPController",controllerAs:"vm",reloadOnSearch:!1,params:{showMenu:!0,resetFunnel:!0}}).state("search",{url:"/search?subCategorys&shopForGender&sizeList&ageList&maxPrice&minPrice&orderRule&brandIds&filterQuery&keyWord&shopForCategory&brandId&colour&productTypeId&searchBy&isFromRefineFilter&smartFilterType&smartFilterSequence&smartFilterValue&fromSmartFilter&cancelOrdersku&cancelOrderProductId&excludePreOrder&getItNowForCollectionId&moreSimilarProductsForCollectionId&similarProductId&funnel&section&subsection&plp&from_screen&from_section&recoType&screenName&from_location&custom_tile_id",templateUrl:"app/sections/boutique/boutique-plp.html",controller:"BoutiquePLPController",controllerAs:"vm",reloadOnSearch:!1,params:{showMenu:!0,resetFunnel:!0,hsection:null,hsubSection:null,hplp:null}}).state("collections",{url:"/collections/:pageName?funnel&section&subsection&plp&from_screen&from_section&custom_tile_id&from_location&position&custom_product_tile_id",templateUrl:"app/sections/collections/collections.html",controller:"CollectionsController",controllerAs:"vm",params:{showMenu:!0}}).state("products",{url:"/products/:id/:name?q&subCategorys&shopForGender&sizeList&ageList&maxPrice&minPrice&orderRule&brandIds&filterQuery&keyWord&shopForCategory&brandId&isFromRefineFilter&smartFilterType&smartFilterSequence&smartFilterValue&fromSmartFilter&excludePreOrder&funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/boutique/boutique-plp.html",controller:"BoutiquePLPController",controllerAs:"vm",reloadOnSearch:!1,params:{showMenu:!0,resetFunnel:!0,hsection:null,hsubSection:null,hplp:null}}).state("product",{url:"/product/:productId/:ignoredName?funnel&section&subsection&plp&from_screen&from_section&boutiqueId",templateUrl:"app/sections/product/product-details.html",controller:"ProductDetailsController",controllerAs:"vm"}).state("account",{url:"/my",templateUrl:"app/sections/account/account.html","abstract":!0,resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{redirectIfLoginFails:!0}}).state("account.detail",{url:"/account?funnel&section&subsection&plp&from_screen&from_section",views:{"@account":{templateUrl:"app/sections/account/account-detail/account-detail.html",controller:"AccountDetailController",controllerAs:"vm"}}}).state("account.detail.orders",{url:"/orders?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/order/orders-list.html",controller:"OrdersListController",controllerAs:"vm"}).state("account.detail.moments",{url:"/moments?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/moments/moments.html",controller:"MomentsController",controllerAs:"vm"}).state("account.detail.favourite-brand",{url:"/favourite-brands?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/favourite-brand/favourite-brand.html",controller:"FavouriteBrandController",controllerAs:"vm"}).state("account.detail.personal-details",{url:"/personal-details?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/personal-detail/personal-detail.html",controller:"OrdersListController",controllerAs:"vm"}).state("account.detail.address-book",{url:"/address-book?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/address-book/address-book.html",controller:"AddressBookController",controllerAs:"vm"}).state("account.detail.stored-card",{url:"/stored-card?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/stored-card/stored-card.html",controller:"StoredCardController",controllerAs:"vm"}).state("account.orders",{url:"/orders?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/order/orders-list.html",controller:"OrdersListController",controllerAs:"vm"}).state("account.orderDetail",{url:"/order/:orderId?q=&orderItemId&funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/account/order-detail/order-detail.html",controller:"OrderDetailController",controllerAs:"vm"}).state("checkout",{url:"/checkout?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/checkout/checkout.html",controller:"CheckoutController",controllerAs:"coCtrl",resolve:n,"abstract":!0,params:{redirectIfLoginFails:!0}}).state("checkout.review",{url:"/review?funnel&section&subsection&plp&from_screen&from_section",views:i}).state("checkout.delivery",{url:"/delivery?funnel&section&subsection&plp&from_screen&from_section",views:i}).state("checkout.payment",{url:"/payment?paymentResult&orderId?funnel&section&subsection&plp&from_screen&from_section",views:i}).state("paymentresult",{url:"/order/completed/:orderId?orderPlaced",templateUrl:"app/sections/payment/payment-result.html",controller:"PaymentResultController",controllerAs:"vm",resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{redirectIfLoginFails:!0}}).state("orderconfirmed",{url:"/order/confirmed/:orderId",templateUrl:"app/sections/payment/payment-result.html",controller:"PaymentResultController",controllerAs:"vm",resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{redirectIfLoginFails:!0,amplitude:-1}}).state("paymentresult2",{url:"/payment/:orderId/:recordId/:result",templateUrl:"app/sections/payment/payment-result.html",controller:"PaymentResultController",controllerAs:"vm"}).state("ordercancellation",{url:"/cancel/:orderId?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/cancellation/cancellation.html",controller:"CancellationController",controllerAs:"vm",resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{redirectIfLoginFails:!0}}).state("orderreturn",{url:"/return/:orderId?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/return/return.html",controller:"ReturnController",controllerAs:"vm",resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{redirectIfLoginFails:!0}}).state("returnConfirm",{url:"/return/confirm/:barcodeId/:reasonId/:itemCount?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/return/confirm/confirm.html",controller:"ReturnConfirmController",controllerAs:"vm",resolve:{accessOnlyIfLoggedIn:n.accessOnlyIfLoggedIn},params:{redirectIfLoginFails:!0}}).state("placeorderforcustomer",{url:"/customer/place_order/:crmTicket?funnel&section&subsection&plp&from_screen&from_section",template:" ",controller:"PlaceOrderForCustomerController",controllerAs:"vm"}).state("resetpassword",{url:"/resetPassword/:uuid/:resetToken?returnUrl?funnel&section&subsection&plp&from_screen&from_section",templateUrl:"app/sections/reset-password/reset-password.html",controller:"ResetPasswordController",controllerAs:"vm"}).state("help",{url:"/help",templateUrl:"static-pages/help.html",controller:"HelpController",controllerAs:"vm"}).state("privacy",{url:"/about/privacy",templateUrl:"static-pages/privacy.html"}).state("terms",{url:"/about/Terms",templateUrl:"static-pages/terms.html"}).state("about",{url:"/about/AboutUs",templateUrl:"static-pages/about.html"}).state("feedback",{url:"/feedback/:orderId/:origin?id&name&rating",templateUrl:"app/sections/feedback/feedback.html",controller:"FeedbackController",controllerAs:"vm"}).state("sitemap.xml",{url:"sitemap.xml"}),t.otherwise("/")}n.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.routerConfig=n;var i={review:{templateUrl:"app/sections/checkout/review/review.html",controller:"CartController",controllerAs:"vm"},delivery:{templateUrl:"app/sections/checkout/delivery/delivery.html",controller:"DeliveryController",controllerAs:"vm"},payment:{templateUrl:"app/sections/checkout/payment/payment.html",controller:"PaymentController",controllerAs:"vm"}},s={"@":{templateUrl:"app/sections/department/department.html",controller:"DepartmentController",controllerAs:"vm"}},a={"@":{templateUrl:"app/sections/coming-soon/coming-soon.html",controller:"ComingSoonBoutiquesController",controllerAs:"vm"}}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a){"ngInject";n(this,e),this._CachingHttpService=t,this._$state=s,this._ConfigService=i,this._$location=a}return e.$inject=["CachingHttpService","ConfigService","$state","$location"],i(e,[{key:"addHrefAndImageToBoutique",value:function(e){var t=this;e.getBoutiqueImage=function(){return e.flexiImageHeight?e.flexiImageUrl:e.imageUrl};var n=e.name,i=e.id;e.href=e.pageName?t._$state.href("collections",{pageName:e.pageName}):e.isTile?e.tileAction:t._$state.href("boutique",{boutiqueId:i,boutiqueName:(n||"").replace(/\s/g,"-")})}},{key:"getCustomTileParams",value:function(e){var t=this;t._ConfigService.tiles.customTilesId?(e.customTilesId=t._ConfigService.tiles.customTilesId,e.from=t._ConfigService.tiles.from,t._ConfigService.tiles.customTilesId=null,t._ConfigService.tiles.from=null):t._ConfigService.tiles.cptId&&(e.cptId=t._ConfigService.tiles.cptId,t._ConfigService.tiles.cptId=null)}},{key:"queryBoutiques",value:function(e){var t=this;return e=e||{},e.pageNo=e.pageNo||1,e.pageSize=e.pageSize||20,t.getCustomTileParams(e),this._$location.search()!={}&&angular.extend(e,this._$location.search()),this._CachingHttpService.doCacheableGet("/api/boutiques",e).then(function(n){for(var i=n.boutiqueList||[],s=!1,a=0,r=-1,o=0;a<i.length;){var l=i[a];l.index=a+1,l.pageBlock=e.pageName,1===l.isTile&&"COLLECTION"===l.tileType?(s||(s=!0,r=a+1,l.tiles=[]),o++,l.tileGrid.$_customTileID=l.id,i[r-1].tiles.push(l.tileGrid),i[r-1].showTileName=l.showTileName,l.showPadding===!0&&(i.splice(r,o-1),a=r-1,r=-1,o=0,s=!1),t.addHrefAndImageToBoutique(l),a++):(r=-1,o=0,s=!1,t.addHrefAndImageToBoutique(l),a++)}return n})}},{key:"queryComingSoon",value:function(e,t){var n=this;return e=e||{},e.retryAndShow503Modal=!1,e.pageNo=e.pageNo||1,e.pageSize=e.pageSize||6,n.getCustomTileParams(e),this._CachingHttpService.doCacheableGet(t?t:"/api/coming-soon/list",e).then(function(e){var i=(t?e.endingSoonList:e.upcomingList)||[];return angular.forEach(i,function(e){n.addHrefAndImageToBoutique(e)}),e})}},{key:"queryEndingSoon",value:function(e){return this.queryComingSoon(e,"/api/ending-soon/list")}},{key:"loadRecommendedBoutiques",value:function(e){var t=this;return this._CachingHttpService.doCacheableGet("/api/reco/boutique/"+e,{params:{retryAndShow503Modal:!1}}).then(function(e){var n=e.boutiqueList||[];return angular.forEach(n,function(e){t.addHrefAndImageToBoutique(e)}),e})}}]),e}();t.BoutiqueService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{
value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o){"ngInject";n(this,e),this._$http=t,this._$state=i,this._ResourceService=r,this._CachingHttpService=s,this._ConfigService=a,this._$q=o}return e.$inject=["$http","$state","CachingHttpService","ConfigService","ResourceService","$q"],i(e,[{key:"searchProducts",value:function(e,t){return e=e||{},e.pageNo=e.pageNo||1,e.pageSize=e.pageSize||72,e.suggestedSearchText=e.keyWord?"":e.searchBy,this._$http.get("/api/search/product",{params:e},t)}},{key:"searchProductList",value:function(e){return this._CachingHttpService.doCacheableGet("/api/searchList",e)}},{key:"browseProductsForBoutique",value:function(e,t,n){var i={pageNo:t||1,pageSize:n||72,salePlanId:e};return this.searchProducts(i)}},{key:"recommendedProducts",value:function(e,t){return t=t||{},t.retryAndShow503Modal=!1,t.pageNo=1,t.pageSize=12,t.fromPlp=t.fromPlp||"boutique",this._$http.get("/api/reco/product/"+e,{params:t})}},{key:"getProductDetail",value:function(e){var t=this,n={};return t._ConfigService.tiles.customTilesId?(n.customTilesId=t._ConfigService.tiles.customTilesId,n.from=t._ConfigService.tiles.from,t._ConfigService.tiles.customTilesId=null,t._ConfigService.tiles.from=null):t._ConfigService.tiles.cptId&&(n.cptId=t._ConfigService.tiles.cptId,t._ConfigService.tiles.cptId=null),this._$http.get("/api/product/"+e,{params:n})}},{key:"getAutoSuggestions",value:function(e){return this._ResourceService.getResource().then(function(t){var n=t.brands||[],i=t.categories,s=_.chain(i).map(function(e){if(e.subCategory){for(var t=0;t<e.subCategory.length;t++)e.subCategory[t].parentName=e.name;return e.subCategory}return null}).flatten().compact().value(),a=_.chain(s).map(function(e){if(e.productTypeList){for(var t=0;t<e.productTypeList.length;t++)e.productTypeList[t].parentName=e.parentName;return e.productTypeList}return null}).flatten().compact().value(),r=function(t){return t.name.toLowerCase().indexOf(e.toLowerCase())>-1};return[].concat(_.chain(a).filter(r).map(function(e){return{label:e.name+" in "+e.parentName,id:e.id,name:e.name,type:"productTypeList"}}).value()).concat(_.chain(s).filter(r).map(function(e){return{label:e.name+" in "+e.parentName,id:e.id,name:e.name,type:"subCategories"}}).value()).concat(_.chain(i).filter(r).map(function(e){return{label:e.name,id:e.id,name:e.name,type:"categories"}}).value()).concat(_.chain(n).filter(r).map(function(e){return{label:e.name+" in Brands",id:e.id,name:e.name,type:"brands"}}).value())})}},{key:"getProductSizeChart",value:function(e,t){return this._$http.get("/api/sizeChart/"+e,{params:t||{}})}},{key:"getProductDashedUrl",value:function(e){return this._$state.href("product",{productId:e.id||e.productId,ignoredName:this.getDashedParameter(e),boutiqueId:null})}},{key:"getDashedParameter",value:function(e){var t="";return(e.brandName||e.brand)&&(t=(e.brandName||e.brand)+"-"),t+=e.name||e.productName,t.replace(/\s+/g,"-")}},{key:"getCategoryProducts",value:function(e,t,n){return e.pageNo=e.pageNo||1,e.pageSize=e.pageSize||72,e.suggestedSearchText=e.searchBy||"",n?this._CachingHttpService.doCacheableGet("/api/products",e,t):this._$http.get("/api/products",{params:e},t)}},{key:"getSubCategorys",value:function(e){return this._ResourceService.getResource().then(function(t){var n="",i=_.filter(t.categories,function(t){return t.id===e});return i[0]&&i[0].hasOwnProperty("subCategory")&&(n=_.reduce(i[0].subCategory,function(e,t){return e+","+t.id},"")),n})}},{key:"checkEddForPincode",value:function(e,t){return this._$http.get("/api/products/pincode?productId="+e+"&pincode="+t)}}]),e}();t.ProductService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){"ngInject";n(this,e),this._$http=t,this.$q=i}return e.$inject=["$http","$q"],i(e,[{key:"getOrders",value:function(e){return e=e||{},e.pageNo=e.pageNo||1,e.pageSize=e.pageSize||20,this._$http.get("/api/orders",{params:e})}},{key:"getOrderDetails",value:function(e){return this._$http.get("/api/order/"+e)}},{key:"getCancellableItemsForOrder",value:function(e){return this._$http.get("/api/order/"+e+"/cancelItems")}},{key:"cancelOrder",value:function(e){return this._$http.post("/api/order/cancel",e)}},{key:"trackOrder",value:function(e){return this._$http.get("/api/track/detail/"+e)}}]),e}();t.OrderService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="hs_persistent_ticket",a="hs_customer_info",r="WEBSITE_customersegment",o=function(){function e(t,i,r,o,l,c,d,u,m){"ngInject";n(this,e),this._$analytics=m,this._$http=c,this._$cookies=d,this._$q=u,this._CachingHttpService=t,this._customerInfo=d.getObject(a)||null,this._$injector=o,this._SegmentService=r,this.activeAccountCardCount=0,this._authMethod="",this._addresses=null,this._customerInfo&&(this._$analytics.setUsername(this._customerInfo.userId),this._$analytics.setUserProperties({email:this._customerInfo.email,name:this._customerInfo.firstName+" "+this._customerInfo.lastName}));var v=this;v.handleSuccessfulAuthentication=function(e,t){var n={expires:new Date(i.getCurrentTime()+2592e6)};return v._$cookies.put(s,t.data.persistentTicket,n),v._customerInfo=t.data,v._$cookies.putObject(a,v._customerInfo,n),v._$analytics.setUsername(v._customerInfo.userId),v._$analytics.setUserProperties({email:v._customerInfo.email,name:v._customerInfo.firstName+" "+v._customerInfo.lastName}),v._SegmentService.identify(t.data,v._authMethod),v._CachingHttpService.clearCache(),e&&l.$broadcast("hs.loggedIn"),t},l.$watch(function(){return v._customerInfo},function(){var e={expires:new Date(i.getCurrentTime()+2592e6)};v._$cookies.putObject(a,v._customerInfo,e)},!0)}return e.$inject=["CachingHttpService","TimeService","SegmentService","$injector","$rootScope","$http","$cookies","$q","$analytics"],i(e,[{key:"login",value:function(e){return this._authMethod=this._SegmentService.CONSTANT.EMAIL,this._$injector.get("CartService").resetCacheBusterTs(),this._$http.post("/api/customer/login",e).then(this.handleSuccessfulAuthentication.bind(null,!0))}},{key:"loginUsingTicket",value:function(e){return this._$injector.get("CartService").resetCacheBusterTs(),this._$http.post("/api/customer/login/ticket",{crmTicket:e}).then(this.handleSuccessfulAuthentication.bind(null,!0))}},{key:"autoLogin",value:function(e){var t=this._$cookies.get(s);this._$injector.get("CartService").resetCacheBusterTs();var n=this;return t?this._$http.post("/api/customer/login/auto",{persistentTicket:t}).then(this.handleSuccessfulAuthentication.bind(null,e),function(){n.clearCustomerInfo()}):this._$q.reject({data:{message:"Please login to access this information"}})}},{key:"logout",value:function(){var e=this;return this._$injector.get("CartService").resetCacheBusterTs(),this.setCustomerAddresses(null),this._$http.get("/api/customer/logout").then(function(t){return e.clearCustomerInfo(),e._SegmentService.reset(),e._SegmentService.track(e._SegmentService.EVENTS.LOGGED_OUT,{}),t})}},{key:"clearCustomerInfo",value:function(){this._$cookies.remove(s),this._$cookies.remove(a),this._customerInfo=null,this._CachingHttpService.clearCache()}},{key:"register",value:function(e){return this._authMethod=this._SegmentService.CONSTANT.EMAIL,this._$injector.get("CartService").resetCacheBusterTs(),this._$http.post("/api/customer/register",e).then(this.handleSuccessfulAuthentication.bind(null,!0))}},{key:"isRegistered",value:function(e){return this._$http.get("/api/customer/exist",{params:{email:e}})}},{key:"forgotPassword",value:function(e){var t={returnUrl:e.returnUrl};return this._$http.post("/api/customer/forgot-password",e,{params:t})}},{key:"getCustomerInfo",value:function(){return this._customerInfo}},{key:"getCustomerEmail",value:function(){return this._customerInfo.email}},{key:"getCustomerFirstName",value:function(){return this._customerInfo.firstName}},{key:"getCartItemQty",value:function(){return this._customerInfo?this._customerInfo.cartItemQty:0}},{key:"setCartItemQty",value:function(e){this._customerInfo&&(this._customerInfo.cartItemQty=e)}},{key:"isLoggedIn",value:function(){return!!this._customerInfo}},{key:"checkLoggedIn",value:function(){return this._customerInfo||(this._customerInfo=this._$cookies.getObject(a)||null),!!this._customerInfo}},{key:"facebookLogin",value:function(){var e=this._$q.defer(),t=this;return this._authMethod=this._SegmentService.CONSTANT.FACEBOOK,this._$injector.get("CartService").resetCacheBusterTs(),FB.login(function(n){n.authResponse?FB.api("/"+n.authResponse.userID+"?fields=email,name,gender",function(i){i.profilePhoto="http://graph.facebook.com/"+i.id+"/picture",i.accessToken=n.authResponse.accessToken,i.userId=i.id,delete i.id,t._SegmentService.identify(i.data,t._SegmentService.CONSTANT.FACEBOOK),e.resolve(i)}):e.reject("User cancelled login or did not fully authorize")},{scope:"email,public_profile"}),e.promise.then(function(e){return t._$http.post("/api/facebook/login",e).then(t.handleSuccessfulAuthentication.bind(null,!0))})}},{key:"validateResetToken",value:function(e,t){return this._$http.get("/api/resetPassword/"+e+"/"+t)}},{key:"resetPassword",value:function(e,t,n){return this._$http.post("/api/resetPassword/"+e+"/"+t,n)}},{key:"getMyAccountDetails",value:function(){return this._$http.get("/api/myaccount")}},{key:"isUserTypeSet",value:function(){var e=this._$cookies.get(r)?!0:!1;return e}},{key:"verifyAndSubmitFeedback",value:function(e){return this._$http.post("/api/feedback",e)}},{key:"getAccountCardsCount",value:function(){var e=this;e._$http.get("/api/accountcard/count").then(function(t){e.activeAccountCardCount=t.data.count},function(e){})}},{key:"getAccountCards",value:function(e){return this._$http.get("/api/accountcard/cards",{params:e})}},{key:"closeAccountCard",value:function(e){return this._$http.post("/api/accountcard/close",{cardIds:e})}},{key:"setActiveAccountCardCount",value:function(e){this.activeAccountCardCount=e}},{key:"getActiveAccountCardCount",value:function(){return this.activeAccountCardCount}},{key:"getCustomerAddresses",value:function(){var e=this,t=this;return null!==this._addresses?this._$q.when(this._addresses):this._$http.get("/api/delivery/addresses").then(function(n){return t._addresses=n.data.allAddressItems,t._$q.when(e._addresses)},function(e){t._addresses=null,t._$q.reject({data:{message:"Error getting address."}})})}},{key:"setCustomerAddresses",value:function(e){this._addresses=e}}]),e}();t.CustomerService=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this._$http=r,this._$q=c,this._TimeService=t,this._cacheBusterTs=this._TimeService.getCurrentTime(),this._SegmentService=a,this._ModalService=i,this._CustomerService=s,this._$analytics=o,this.cartProductsForAnalytics=[],this._$rootScope=l,this._payAmount=null,this.primaryAdress={canCod:!1},this._cartDetails=null;var d=this;d.updateCartBadgeAndReturn=function(e){return d._CustomerService.setCartItemQty(e.data.cartItemQty),e}}return e.$inject=["TimeService","ModalService","CustomerService","SegmentService","$http","$analytics","$rootScope","$q"],i(e,[{key:"resetCacheBusterTs",value:function(){this._cacheBusterTs=this._TimeService.getCurrentTime()}},{key:"setCartProductsForAnalytic",value:function(e){this.cartProductsForAnalytics=e}},{key:"getCartDetails",value:function(){var e=this,t=this;return t._$http.get("/api/shopping-cart?"+t._cacheBusterTs).then(function(n){return n.data.isCartEmpty?t._CustomerService.setCartItemQty(0):(t._payAmount=n.data.cartResponse.orderResponse.order.payAmount,t._CustomerService.setCartItemQty(n.data.cartResponse.orderResponse.order.itemCount)),t._cartDetails=n,e._$rootScope.$broadcast("hs.cart.updated"),n})}},{key:"applyCredits",value:function(e){return this._$rootScope.$broadcast("hs.cart.loading"),this.resetCacheBusterTs(),this._$http.post("/api/credit/"+e)}},{key:"removeCredits",value:function(e){return this._$rootScope.$broadcast("hs.cart.loading"),this.resetCacheBusterTs(),this._$http["delete"]("/api/credit/"+e)}},{key:"updateCart",value:function(e,t){return this._$rootScope.$broadcast("hs.cart.loading"),this._$analytics.eventTrack("addToCart",t),this.resetCacheBusterTs(),this._$http.put("/api/shopping-cart/"+e.shoppingCartItemId,e).then(this.updateCartBadgeAndReturn)}},{key:"removeCartItem",value:function(e){return this._$rootScope.$broadcast("hs.cart.loading"),this.resetCacheBusterTs(),this._$http["delete"]("/api/shopping-cart/"+e).then(this.updateCartBadgeAndReturn)}},{key:"trackCheckout",value:function(e,t){var n=this;n._$analytics.eventTrack("checkout",{ecommerce:{checkout:{actionField:{step:e,option:t},products:n.cartProductsForAnalytics}}})}},{key:"trackCheckoutOption",value:function(e,t){this._$analytics.eventTrack("checkout",{ecommerce:{checkout_option:{actionField:{step:e,option:t}}}})}},{key:"addItemToCart",value:function(e,t){if(!this._CustomerService.isLoggedIn())return this._SegmentService.set("from_location","Add to cart button"),this._ModalService.showLoginModal();var n=t.ecommerce.add.products[0];return angular.extend(t,{category:"Cart",event:"addToCart",action:"cart-change",label:"add-item",productId:n.id,productName:n.name,productCategory:n.category,productPrice:n.price,productSkuId:e.sku}),this._$analytics.eventTrack("Click",t),this.resetCacheBusterTs(),this._$http.post("/api/shopping-cart/add-product",e).then(this.updateCartBadgeAndReturn)}},{key:"orderNow",value:function(){return this._$rootScope.$broadcast("hs.cart.loading"),this._$http.get("/api/checkout/buy-now")}},{key:"checkout",value:function(e){return this._$http.get("/api/checkout/order/"+e)}},{key:"applyPromoCode",value:function(e){return this._$rootScope.$broadcast("hs.cart.loading"),this.resetCacheBusterTs(),this._$http.post("/api/promotion",{promoCode:e})}},{key:"removePromoCode",value:function(e){this._$rootScope.$broadcast("hs.cart.loading");var t={promoCode:e};return this.resetCacheBusterTs(),this._$http["delete"]("/api/promotion",{params:t})}},{key:"sendPhoneNumber",value:function(e){var t={phoneNumber:e};return this._$http.get("/api/customer/phone/sendverifycode",{params:t})}},{key:"sendVerifyCode",value:function(e,t){var n={phoneNumber:e,verifyCode:t};return this.resetCacheBusterTs(),this._$http.get("/api/customer/phone/checkverifycode",{params:n})}},{key:"getPayAmount",value:function(){return this._payAmount}},{key:"canMakeCod",value:function(){return this.primaryAdress.canCod}},{key:"getCartDetailsObj",value:function(){return this._$q.when(this._cartDetails)}},{key:"setPrimaryAddress",value:function(e){this.primaryAdress=e}},{key:"getPrimaryAddress",value:function(){return this.primaryAdress}}]),e}();t.CartService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){var i="POST",s=n.document.createElement("form");s.setAttribute("method",i),s.setAttribute("action",e);for(var a in t)if(t.hasOwnProperty(a)){var r=n.document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",a),angular.isObject(t[a])?r.setAttribute("value",angular.toJson(t[a])):r.setAttribute("value",t[a]),s.appendChild(r)}n.document.body.appendChild(s),s.submit()}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._$http=i,this._$location=s,this._$window=a,this._CustomerService=t,this._$q=r}return e.$inject=["CustomerService","$http","$location","$window","$q"],s(e,[{key:"getPayUInfo",value:function(e){return this._$http.get("/api/payu/services",{params:e})}},{key:"getSavedCards",value:function(){var e={command:"get_user_cards",param:"Hopscotch:"+this._CustomerService.getCustomerInfo().userId};return this.getPayUInfo(e)}},{key:"saveCard",value:function(e){var t={};return t.command="save_user_card",t.param="Hopscotch:"+this._CustomerService.getCustomerInfo().userId+";"+e,this.getPayUInfo(t)}},{key:"deleteSavedCard",value:function(e){var t={};return t.command="delete_user_card",t.param="Hopscotch:"+this._CustomerService.getCustomerInfo().userId+";"+e,this._$http.get("/api/payu/services",{params:t})}},{key:"checkIsDomestic",value:function(e){var t={};return t.command="check_isDomestic",t.param=e,this._$http.get("/api/payu/services",{params:t})}},{key:"placeOrder",value:function(e){return this._$http.post("/api/checkout/place-order",{paymentCode:e})}},{key:"payPol",value:function(e){return this._$http.post("/api/payment/pol",e)}},{key:"payCod",value:function(e){return this._$http.post("/api/payment/cod",e)}},{key:"netBanksList",value:function(){return this._$http.get("/api/payu/net-banks-list")}},{key:"postToPayu",value:function(e){var t=["action","merchantCodesHash","paymentUrl","mobileSdkHash","detailsForMobileSdkHash","surl","curl","furl"],n=this._$location.protocol()+"://"+this._$location.host()+(80===this._$location.port()?"":":"+this._$location.port())+"/api",s={surl:n+e.surl,curl:n+e.curl,furl:n+e.furl};angular.forEach(e,function(n,i){-1===t.indexOf(i)&&(s[i.toLowerCase()]=e[i])}),s.amount=s.amount-Math.ceil(s.amount)===0?s.amount+".0":s.amount,i(e.paymentUrl,s,this._$window)}},{key:"getPaymentRecordInfo",value:function(e){return this._$http.get("/api/payu/response/"+e)}}]),e}();t.PaymentService=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this._$http=t,this.defaultZipcode=""}return e.$inject=["$http"],i(e,[{key:"getAddresses",value:function(){return this._$http.get("/api/delivery/addresses")}},{key:"deleteAddress",value:function(e){return this._$http({url:"/api/delivery/delete",method:"DELETE",data:{addressId:e},headers:{"Content-Type":"application/json;charset=utf-8"}})}},{key:"saveUpdateAddress",value:function(e){return this._$http.post("/api/delivery/save-update",e)}},{key:"selectDeliveryAddress",value:function(e){return this._$http.put("/api/delivery/default",e)}},{key:"checkPincode",value:function(e){return this._$http.get("/api/delivery/pincode/check-more/"+e)}},{key:"getDefaultZipcode",value:function(){return this.defaultZipcode}},{key:"setDefaultZipcode",value:function(e){this.defaultZipcode=e}}]),e}();t.DeliveryService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o){"ngInject";n(this,e),this._$http=s,this._$q=a,this._$cookies=r,this._$window=o,this._TimeService=t,this._ConfigService=i,this._resourcePromise=null,this._specialOfferPromise=null,this._resourceData=null,this.awsData=null,this.departmentResponses=[],this.deviceId}return e.$inject=["TimeService","ConfigService","$http","$q","$cookies","$window"],i(e,[{key:"fetchResource",value:function(){var e=this,t=new Date,n=function(e){return e>10?e:"0"+e},i=[t.getFullYear()-1,n(t.getMonth()+1),n(t.getDate())],s=i.join("");e._resourcePromise=e._$http.get("/api/resources",{params:{updateDate:s,retryAndShow503Modal:!1}}).then(function(t){return e._resourcePromise=null,e._resourceData=t.data,e.departmentResponses=t.data.departmentResponses,e.awsData=t.data.awsInfo,e._resourceData})}},{key:"getResource",value:function(){return this._resourcePromise?this._resourcePromise:this._$q.when(this._resourceData)}},{key:"fetchSpecialOffer",value:function(){var e=this;e._specialOfferPromise=e._$http.get("/api/customer/special-offer-info",{params:{retryAndShow503Modal:!1}}).then(function(t){return e._specialOfferPromise=null,e._specialOfferData=t.data,e._specialOfferData})}},{key:"getSpecialOffer",value:function(){return this._specialOfferPromise?this._specialOfferPromise:this._$q.when(this._specialOfferData)}},{key:"generateUUID",value:function(){var e=(new Date).getTime();this._$window.performance&&angular.isFunction(this._$window.performance.now)&&(e+=performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)});return t}},{key:"setVisitorId",value:function(){angular.isUndefined(this._$cookies.get("VISITOR_ID"))?angular.isUndefined(this.deviceId)&&(this.deviceId=this.generateUUID()):this.deviceId=this._$cookies.get("VISITOR_ID")}},{key:"getVisitorId",value:function(){return this.deviceId}},{key:"getDepartments",value:function(){return this.departmentResponses}},{key:"getAwsInfo",value:function(){return this._resourcePromise?this._resourcePromise:this._$q.when(this.awsData)}}]),e}();t.ResourceService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){"ngInject";n(this,e),this._$http=t,this._$q=i,this.data={},this.canUpdate=!1,this.dummyData={keywords:["Hopscotch","Daily","Babies","Kids","Moms","Apparel","Shoes","Toys","Bags"],title:"Daily finds for babies, kids and moms.  Apparel, shoes, toys, bags & more",description:"Daily finds for babies, kids and moms.  Apparel, shoes, toys, bags & more. Hopscotch, Online Shopping.",og_type:"website",og_title:"Hopscotch - Daily finds for babies, kids and moms.  Apparel, shoes, toys, bags & more",og_description:"Daily finds for babies, kids and moms.  Apparel, shoes, toys, bags & more. Hopscotch, Online Shopping.",og_image:"https://static.hopscotch.in/web2/images/assets/hopscotch_typeface.svg"}}return e.$inject=["$http","$q"],i(e,[{key:"setNewMetaData",value:function(e,t){this.canUpdate=t;for(var n in e)this.data[n]=e[n],this.data["og_"+n]=e[n]}},{key:"queryMetaInfo",value:function(e){return this.canUpdate&&this.data[e]?this.data[e]:this.dummyData[e]}}]),e}();t.MetaStateService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){"ngInject";n(this,e),this._CachingHttpService=i}return e.$inject=["$http","CachingHttpService"],i(e,[{key:"getDepartmentDetails",value:function(e){return this._CachingHttpService.doCacheableGet("/api/department/"+e,{})}}]),e}();t.DepartmentService=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";var t={};e.registerPageTrack(function(e){var n=window.dataLayer=window.dataLayer||[],i={event:"content-view","content-name":e};angular.extend(i,t),n.push(i)}),e.registerEventTrack(function(e,t){var n=window.dataLayer=window.dataLayer||[],i=t||{};i.event||(i.event=e),n.push(i)}),e.registerSetUsername(function(e){t.userId=e}),e.registerSetUserProperties(function(e){angular.forEach(e,function(e,n){t[n]=e})})};n.$inject=["$analyticsProvider"],t.HSAngularticsGtmConfigurer=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){"ngInject";n(this,e),this.ngDialog=t,this._SegmentService=i}return e.$inject=["ngDialog","SegmentService"],i(e,[{key:"showLoginModal",value:function(e,t){var n=angular.isUndefined(e)?!0:e;return this._SegmentService.track(this._SegmentService.EVENTS.LOGIN_VIEWED,{from_location:this._SegmentService.get("from_location")}),this.loginModalDetails=this.ngDialog.open({name:"login",templateUrl:"app/sections/login-register-modal/login-modal.html",controller:"LoginRegisterController",controllerAs:"vm",className:"ngdialog-theme-default auth-dialog",showClose:n,closeByEscape:n,closeByNavigation:n,closeByDocument:n,data:{activeForm:t},preCloseCallback:function(){$(".auth-dialog .modal").css({animation:"slideInTop 0.3s ease-in reverse"})}}),this.loginModalDetails}},{key:"closeLoginModal",value:function(){this.loginModalDetails.close()}},{key:"showSizeChartModal",value:function(e){this.sizeChartModalDetails=this.ngDialog.open({name:"size-chart",templateUrl:"app/components/widgets/sizechart/size-chart.html",controller:"SizeChartController",controllerAs:"vm",className:"ngdialog-theme-default size-chart-dialog",showClose:!1,closeByNavigation:!0,data:angular.toJson(e),preCloseCallback:function(){$(".ngdialog.ngdialog-theme-default .ngdialog-content .size-chart").css({animation:"slideInTop 0.3s ease-in reverse"})}})}},{key:"closeSizeChartModal",value:function(){this.sizeChartModalDetails.close()}},{key:"showCartModal",value:function(){$(document).on("touchmove",function(e){e.preventDefault()});var e=!1,t=$("body");t.on("touchstart",".scrollable",function(t){e||(e=!0,0===t.currentTarget.scrollTop?t.currentTarget.scrollTop=1:t.currentTarget.scrollHeight===t.currentTarget.scrollTop+t.currentTarget.offsetHeight&&(t.currentTarget.scrollTop-=1),e=!1)}),t.on("touchmove",".scrollable",function(e){e.stopPropagation()}),this.cartModalDetail=this.ngDialog.open({name:"cart",templateUrl:"app/sections/cart/cart-modal.html",controller:"CartController",controllerAs:"vm",className:"cart-dialog",showClose:!1,closeByNavigation:!0,preCloseCallback:function(){$(".cart-dialog").css({animation:"slidecartleft 450ms ease-out"}),$(document).off("touchmove"),t.off("touchstart",".scrollable"),t.off("touchmove",".scrollable")}})}},{key:"closeCartModal",value:function(){this.cartModalDetail.close()}},{key:"show503Modal",value:function(){this.ngDialog.open({name:"503",templateUrl:"app/sections/503-modal/503-modal.html",className:"ngdialog-theme-default auth-dialog",showClose:!1,closeByNavigation:!1,closeByEscape:!1,closeByDocument:!1})}},{key:"showProductSizeSelector",value:function(e,t){this.sizeSelectorModalDetails=this.ngDialog.open({name:"product-size-selector",templateUrl:"app/components/widgets/sizeselector/size-selector.html",controller:"SizeSelectorController",controllerAs:"vm",className:"size-selector show-for-small-only",showClose:!1,closeByNavigation:!0,data:e,preCloseCallback:t})}},{key:"closeSizeSelector",value:function(){this.sizeSelectorModalDetails.close()}},{key:"showResetPasswordModal",value:function(e){this.resetPasswordDetails=this.ngDialog.open({name:"reset-password",templateUrl:"app/components/widgets/resetpasswordform/reset-password-form.html",controller:"ResetPasswordFormController",controllerAs:"vm",className:"ngdialog-theme-default auth-dialog reset-dialog",showClose:!1,closeByDocument:!1,closeByEscape:!1,data:angular.toJson(e)})}},{key:"closeResetPasswordModal",value:function(){this.resetPasswordDetails.close()}},{key:"showCartAlertModal",value:function(e){this.cartAlert=this.ngDialog.open({name:"cart-alert",templateUrl:"app/components/widgets/cart/cart-alert/cart-alert-dialog.html",className:"ngdialog-theme-default auth-dialog",showClose:!1,controller:"CartAlertDialogController",controllerAs:"vm",closeByDocument:!1,closeByEscape:!1,closeByNavigation:!0,data:e})}},{key:"closeCartAlertModal",value:function(){this.cartAlert.close()}},{key:"showPhoneVerificationModal",value:function(e){this.phoneVerificationModal=this.ngDialog.open({name:"phone-verification",templateUrl:"app/components/widgets/cart/phone-verification/phone-verification.html",className:"ngdialog-theme-default mobile-verification-dialog",controller:"PhoneVerificationController",controllerAs:"vm",showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!0,data:{self:e}})}},{key:"closePhoneVerificationModal",value:function(){this.phoneVerificationModal.close()}},{key:"showRefundQtySelector",value:function(e,t){this.refundQtySelectorModalDetails=this.ngDialog.open({name:"refund-qty-selector",templateUrl:"app/components/widgets/refund-qty-selector/refund-qty-selector.html",controller:"RefundQtySelectorController",controllerAs:"vm",className:"refund-qty-selector hide-for-large",showClose:!1,closeByNavigation:!0,data:e,preCloseCallback:t})}},{key:"closeRefundQtySelector",value:function(){this.refundQtySelectorModalDetails.close()}},{key:"showReturnItemModal",value:function(){this.returnItemModal=this.ngDialog.open({name:"return-item-modal",templateUrl:"app/components/widgets/cancellation/return-item-modal/return-item-modal.html",className:"ngdialog-theme-default auth-dialog return-item-email-client",showClose:!0,closeByNavigation:!0})}},{key:"closeReturnItemModal",value:function(){this.returnItemModal.close()}},{key:"showVideoModal",value:function(e){this.returnItemModal=this.ngDialog.open({name:"video-modal",templateUrl:"app/components/widgets/video/video.html",controller:"VideoController",controllerAs:"vm",className:"ngdialog-theme-default video-dialog",showClose:!0,data:e,closeByNavigation:!0})}},{key:"closeVideoModal",value:function(){this.returnItemModal.close()}},{key:"closeAllModals",value:function(){this.ngDialog.closeAll()}},{key:"showOrderTrackModal",value:function(e){this.orderTrackModalDetail=this.ngDialog.open({name:"orderTrack",templateUrl:"app/sections/account/order-track/order-track.html",controller:"OrderTrackController",controllerAs:"vm",className:"order-track-dialog",showClose:!1,data:e,closeByNavigation:!0})}},{key:"closeOrderTrackModal",value:function(){this.orderTrackModalDetail.close()}},{key:"isModalActive",value:function(e){return this.ngDialog.isOpen(e)}},{key:"showMomentUploadModal",value:function(e){this.momentUploadModalDetails=this.ngDialog.open({
name:"size-chart",templateUrl:"app/components/widgets/moments/upload/upload.html",controller:"MomentUploadController",controllerAs:"vm",className:"cart-dialog moment-dialog",showClose:!1,closeByNavigation:!0,data:e,preCloseCallback:function(){$(".ngdialog-content .moment-upload-container").css({animation:"slideInTop 0.3s ease-in reverse"})}})}},{key:"getCloseUploadModalPromise",value:function(){return this.momentUploadModalDetails.closePromise}},{key:"closeMomentUploadModal",value:function(){this.momentUploadModalDetails.close()}},{key:"showReportMomentModal",value:function(e){this.momentReportModalDetails=this.ngDialog.open({name:"report-modal",templateUrl:"app/components/widgets/moments/modal/report-modal.html",controller:"ReportModalController",controllerAs:"vm",className:"ngdialog-theme-default size-chart-dialog moment-dialog report-modal",showClose:!1,closeByNavigation:!0,data:e,preCloseCallback:function(){$(".ngdialog.ngdialog-theme-default .ngdialog-content .moment-report-container").css({animation:"slideInTop 0.3s ease-in reverse"})}})}},{key:"closeReportMomentModal",value:function(){this.momentReportModalDetails.close()}},{key:"showPincodeChecker",value:function(e,t){this.pincodeCheckerModal=this.ngDialog.open({name:"pincode-checker",templateUrl:"app/components/widgets/product/pincode-modal/pincode-modal.html",controller:"PincodeCheckerModalController",controllerAs:"vm",className:"pincode-checker",showClose:!1,closeByNavigation:!0,data:e,preCloseCallback:t})}},{key:"closePincodeChecker",value:function(){this.pincodeCheckerModal.close()}}]),e}();t.ModalService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){"ngInject";n(this,e)}return i(e,[{key:"getCurrentTime",value:function(){return(new Date).getTime()}}]),e}();t.TimeService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function s(){"ngInject";n(this,s);var e=6e4;this.PAGINATION={PAGE_SIZE:20,ALTERNATE_PAGE_SIZE:36,TERNARY_PAGE_SIZE:72},this.CACHING={CACHING_TIME_IN_MS:10*e},this.SESSION={UTM_STORAGE_TIME_IN_MS:60*e,DEEPLINK_STORAGE_TIME_IN_MS:1440*e,SESSION_TIME_IN_MS:60*e},this.products={ONESIZE:"onesize",ONE_SIZE:"one size"},this.PAYMENT_CODES={POL:"POL",COD:"COD"},this.CM_TO_INCH=2.54,this.KG_TO_LB=2.20462,this.UNDO_CART_REMOVE_TIMER=6e3,this.EMAIL_VALIDATOR_REGEX=/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,this.NUMBER_VALIDATOR_REGEX=/[0-9]/,this.IS_IVR_VERIFIED="isIVRVerified",this.SHOW_ORDER_CONFIRMATION_ONCE_COOKIE="HS_SHOW_ORDER_CONFIRMATION_ONCE",this.EMPTY_CART_REDIRECT_TIMER=5e3,this.REDIRECT_TO="REDIRECT_TO",this.REDIRECT_TIMEOUT=12e4,this.IMAGE_BASE_PATH="https://static.hopscotch.in/web2/",this.MOBILE_NUMBER_SHOULD_START_WITH=[9,8,7],this.AB_TEST_COOKIE_NAME="EXPERIMENTS",this.TRACKING_STATES=["search","boutique","products","product","collections"],this.tiles={customTilesId:null,cptId:null,from:null},this.RATINGS={quality:[{1:"Awful"},{2:"Bad"},{3:"Okay"},{4:"Good"},{5:"Great!"}],experience:[{1:"Awful"},{2:"Bad"},{3:"Okay"},{4:"Good"},{5:"Great!"}],recommend:[{1:"Not at all"},{2:"Not likely"},{3:"Slightly likely"},{4:"Likely"},{5:"Very likely"}]},this.homeVideos={},this.SEGMENT={RECENT_SEARCH:"RecentSearch",KEYWORD:"Keyword",SEARCH_RESULTS:"Search results",PLP_TYPE:{BOUTIQUE:"Boutique",RECO:"Reco",PLP:"Product listing",SEARCH:"Search"}}};t.ConfigService=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a){"ngInject";n(this,e),this._$http=t,this._cache={},this._cacheLastRetrievalTime={},this._$q=s,this._TimeService=a,this._CACHING_TIME_IN_MS=i.CACHING.CACHING_TIME_IN_MS}return e.$inject=["$http","ConfigService","$q","TimeService"],i(e,[{key:"doCacheableGet",value:function(e,t,n){var i=this,s=Object.keys(t);s.sort();var a=e+"?"+_(s).reduce(function(e,n){return e+n+"="+t[n]+"&"},"");if(i._cache[a]){var r=i._TimeService.getCurrentTime()-i._cacheLastRetrievalTime[a];if(r<i._CACHING_TIME_IN_MS){var o=new Date(i._cacheLastRetrievalTime[a]),l=9==o.getHours()&&o.getMinutes()<30||o.getHours()<9,c=new Date(i._TimeService.getCurrentTime()),d=9==c.getHours()&&c.getMinutes()>=30||c.getHours()>9;if(!l||!d){var u=angular.copy(i._cache[a]);return i._$q.when(u)}}}return this._$http.get(e,{params:t,timeout:n&&n.promise||null}).then(function(e){var t=0;return!e.data.hasOwnProperty("name")||"Bestsellers"!==e.data.name&&"New"!==e.data.name||(t=48e4),i._cache[a]=angular.copy(e.data),i._cacheLastRetrievalTime[a]=i._TimeService.getCurrentTime()-t,e.data})}},{key:"clearCache",value:function(){this._cache={},this._cacheLastRetrievalTime={}}}]),e}();t.CachingHttpService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this._$window=t,this.isLocalStorageSupported()?this._localStorage=t.localStorage:(this._localStorage={},this._localStorage.setItem=function(e,t){this[e]=t},this._localStorage.getItem=function(e){return angular.isUndefined(this[e])?null:this[e]},this._localStorage.removeItem=function(e){delete this[e]})}return e.$inject=["$window"],i(e,[{key:"isLocalStorageSupported",value:function(){var e="test",t=this._$window.localStorage;try{return t.setItem(e,"abc"),t.removeItem(e),!0}catch(n){return!1}}},{key:"setData",value:function(e,t){var n=this;n._localStorage&&n._localStorage.setItem(e,angular.toJson(t))}},{key:"getData",value:function(e){var t=this;return t._localStorage&&angular.fromJson(t._localStorage.getItem(e))}}]),e}();t.LocalStorageService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this._$window=t,this.isSessionStorageSupported()?this._sessionStorage=t.sessionStorage:(this._sessionStorage={},this._sessionStorage.setItem=function(e,t){this[e]=t},this._sessionStorage.getItem=function(e){return angular.isUndefined(this[e])?null:this[e]},this._sessionStorage.removeItem=function(e){delete this[e]})}return e.$inject=["$window"],i(e,[{key:"isSessionStorageSupported",value:function(){var e="test",t=this._$window.sessionStorage;try{return t.setItem(e,"abc"),t.removeItem(e),!0}catch(n){return!1}}},{key:"setData",value:function(e,t){var n=this;n._sessionStorage&&n._sessionStorage.setItem(e,angular.toJson(t))}},{key:"getData",value:function(e){var t=this;return t._sessionStorage&&angular.fromJson(t._sessionStorage.getItem(e))}},{key:"removeData",value:function(e){var t=this;return t._sessionStorage&&t._sessionStorage.removeItem(e)}}]),e}();t.SessionStorageService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._$cookies=t,this._showOverlay=!1,this._SESSION_TIME=i.SESSION.SESSION_TIME_IN_MS,this._UTM_STORAGE_TIME=i.SESSION.UTM_STORAGE_TIME_IN_MS,this._DEEPLINK_STORAGE_TIME=i.SESSION.DEEPLINK_STORAGE_TIME_IN_MS,this._$location=s,this._TimeService=a,this.fullOverlay=!1,this._disableScroll=!1,this.deviceType="unknown",this._$injector=r,this._routeChangeNumber=0,this.hasUtmInUrl=!1}return e.$inject=["$cookies","ConfigService","$location","TimeService","$injector"],i(e,[{key:"setDeviceType",value:function(e){this.deviceType=e}},{key:"getDeviceType",value:function(){return this.deviceType}},{key:"loadUtmFromLocation",value:function(){var e=this._$location.search()||{},t=null,n=null;for(var i in e)if(e.hasOwnProperty(i)&&0===i.indexOf("utm_")){var s=i.replace(/_/g,"-");t=t||{},t[s]=e[i],this.hasUtmInUrl=!0}else"deeplink"===i&&(n={},n.deeplink=e.deeplink);this.setUtmParams(t),this.setDeeplinkParams(n)}},{key:"setOverlay",value:function(e){this._showOverlay=e,this.setDisableScroll(e)}},{key:"isShowOverlay",value:function(){return this._showOverlay}},{key:"setUtmParams",value:function(e){e&&this._$cookies.putObject("hs_utm_params",e,{expires:new Date(this._TimeService.getCurrentTime()+this._UTM_STORAGE_TIME)})}},{key:"setDeeplinkParams",value:function(e){e&&this._$cookies.putObject("hs_deeplink_params",e,{expires:new Date(this._TimeService.getCurrentTime()+this._DEEPLINK_STORAGE_TIME)})}},{key:"getUtmParams",value:function(){return this._$cookies.getObject("hs_utm_params")||{}}},{key:"getDeeplinkParams",value:function(){return this._$cookies.getObject("hs_deeplink_params")||{}}},{key:"setFullOverlay",value:function(e){this.fullOverlay=e}},{key:"isShowFullOverlay",value:function(){return this.fullOverlay}},{key:"isScrollDisabled",value:function(){return this._disableScroll}},{key:"setDisableScroll",value:function(e){this._disableScroll=e}},{key:"isInCheckout",value:function(){return this._$injector.get("$state").includes("checkout")}},{key:"isInFeedback",value:function(){return this._$injector.get("$state").includes("feedback")}},{key:"isInOrderCancellation",value:function(){return this._$injector.get("$state").includes("ordercancellation")}},{key:"isInOrderReturn",value:function(){return this._$injector.get("$state").includes("orderreturn")}},{key:"hideNavbar",value:function(){return this.isInCheckout()||this.isInOrderCancellation()||this.isInOrderReturn()||this.isInFeedback()}},{key:"hideBranchBanner",value:function(){return this._$injector.get("$state").includes("product")||this._$injector.get("$state").includes("checkout")||this._$injector.get("$state").includes("orderreturn")||this._$injector.get("$state").includes("moments")}},{key:"setRouteChangeNumber",value:function(){this._routeChangeNumber++}},{key:"getRouteChangeNumber",value:function(){return this._routeChangeNumber}}]),e}();t.AppStateService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){n(this,e)}return i(e,[{key:"extractProductsForTrackingFromCartResponse",value:function(e){var t=[],n={productIds:[],productNames:[],productBrands:[],productPrices:[],productSkuIds:[],productQtys:[]};return angular.forEach(e.cartResponse.orderResponse.orderGroups,function(e){angular.forEach(e.orderItemInfos,function(e){t.push({name:e.productName,id:e.productId,brand:e.brandName,price:e.orderPrice,quantity:e.quantity}),n.productIds.push(e.productId),n.productNames.push(e.productName),n.productBrands.push(e.brandName),n.productPrices.push(e.orderPrice),n.productSkuIds.push(e.sku),n.productQtys.push(e.quantity)})}),{products:t,viewCartData:n}}},{key:"extractProductsForTrackingFromOrderResponse",value:function(e){var t=[];return angular.forEach(e.subOrderList,function(e){angular.forEach(e.customerProductResponses,function(e){t.push({name:e.name,id:e.sku,brand:e.brand,price:e.retailPrice,quantity:e.number})})}),t}}]),e}();t.AnalyticsUtil=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="hs_customer_info",a="OtherSessionInfo",r="WEBSITE_customersegment",o="sessionStartTime",l="lastVisitdate",c="daysSinceLastVisit",d="VISITOR_ID",u="SEGMENT_DATA",m="SEGMENT_DATA_BACKUP",v="SEGMENT_SCREEN_MAP",p="segment_tab",h=function(){function e(t,i,s,a,r,d,p){"ngInject";n(this,e),this._segment=d,this._$cookies=p,this._PageTrackingService=a,this._LocalStorageService=i,this._SessionStorageService=s,this._ConfigService=r,this._AppStateService=t,this.EVENTS={LOGIN_VIEWED:"login_viewed",REGISTERED:"customer_registered",LOGGED_IN:"customer_logged_in",LOGGED_OUT:"customer_logged_out",SESSION_STARTED:"session_started",HOMEPAGE_VIEWED:"homepage_viewed",BESTSELLERS_VIEWED:"bestsellers_viewed",GIRLS_VIEWED:"girls_viewed",BOYS_VIEWED:"boys_viewed",BABY_VIEWED:"baby_viewed",MOM_VIEWED:"mom_viewed",BOUTIQUE_VIEWED:"boutique_viewed",PRODUCT_LISTING_VIEWED:"product_listing_viewed",SPECIAL_PAGE_VIEWED:"special_page_viewed",RECO_PRODUCTS_VIEWED:"reco_products_viewed",PRODUCT_SEARCHED:"products_searched",PRODUCT_VIEWED:"product_viewed",ADDED_TO_CART:"product_added_to_cart",CHECKOUT_STARTED:"checkout_started",ORDER_COMPLETED:"order_placed",ORDER_COMPLETED_REVENUE:"product_ordered",ERROR_OCCUERED:"error_occured",MOMENTS_VIEWED:"moments_viewed",PHOTO_VIEWED:"photo_viewed",PHOTO_LIKED:"photo_liked",PHOTO_UNLIKED:"photo_undid_like",PHOTO_UPLOAD_CLICKED:"photo_upload_clicked",PHOTO_UPLOADED:"photo_uploaded",PHOTO_SHARED:"photo_shared",PHOTO_REPORTED:"photo_reported",PHOTO_DELETED:"photo_deleted",SIMILAR_PRODUCTS_VIEWED:"reco_products_viewed",PINCODE_CHECK_CLICKED:"pincode_check_clicked",PINCODE_CHECKED:"pincode_checked",SIZE_CHART_VIEWED:"size_chart_viewed",SORTING_APPLIED:"sorting_applied",SMART_FILTER_APPLIED:"smart_filter_applied",FILTER_CLICKED:"filter_clicked",FILTER_APPLIED:"filter_applied"},this.CONSTANT={EMAIL:"email",FACEBOOK:"facebook"},this._sessionStartTime=this._LocalStorageService.getData(o)||"",this._lastVisitdate=this._LocalStorageService.getData(l)||"",this._daysSinceLastVisit=this._LocalStorageService.getData(c)||"",this._queueProcessed=!1,this._queue=[],this._sessionStarted=!1,this._identified=!1,this.trackData={},this._cache=s.getData(u)||{},this.backup=s.getData(m)||{},this.backupDone=!1;var h={home:"Discover",moment:"Moments",product:"Product details",boutique:"Collections",momentDetail:"Photo details",search:"Search results","account.detail":"Account","account.detail.moments":"Account","account.detail.favourite-brand":"Account","account.detail.personal-details":"Account","account.detail.address-book":"Account","account.detail.stored-card":"Account","account.detail.orders":"Account","account.detail.orderDetail":"Account"},g=i.getData(v);if(g)for(var f in g)h[f]=g[f];this._screenMap=h}return e.$inject=["AppStateService","LocalStorageService","SessionStorageService","PageTrackingService","ConfigService","segment","$cookies"],i(e,[{key:"init",value:function(){var e=this,t=this._SessionStorageService.getData(p);if(!t){var n=this._LocalStorageService.getData(p)||0;n++,t=n,this._LocalStorageService.setData(p,t),this._SessionStorageService.setData(p,t)}e.tab=t}},{key:"_getProperties",value:function(){var e=this;return{device:{id:e._$cookies.get(d)},hs_site:e._getPlatform()}}},{key:"_attachCommonProperties",value:function(e,t){var n=new Date,i=n.getTimezoneOffset(),s=330,a=new Date(n.getTime()+6e4*(s+i));if(e["[time] hour_of_day"]=a.getHours(),e["[time] day_of_week"]=(a.getDay()+1)%7,e["[time] day_of_month"]=a.getDate(),e["[time] month_of_year"]=a.getMonth()+1,e["[time] week_of_year"]=100*a.getFullYear()+this._getWeek(a),!t){var r=this._PageTrackingService.data;e.funnel=r.funnel,e.source=r.source,e.section=r.funnel?r.section:null,e.subsection=r.sub_section,e.plp=r.plp}return e}},{key:"_getWeek",value:function(e){var t=new Date(e.valueOf()),n=(e.getDay()+6)%7;t.setDate(t.getDate()-n+3);var i=t.valueOf();return t.setMonth(0,1),4!=t.getDay()&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((i-t)/6048e5)}},{key:"_getPlatform",value:function(){return"mobile"===this._AppStateService.getDeviceType()?"Mobile":"Web"}},{key:"_persist",value:function(){this._SessionStorageService.setData(u,this._cache),this._LocalStorageService.setData(v,this._screenMap)}},{key:"ready",value:function(e){this._segment.ready(e)}},{key:"trackError",value:function(e,t,n){var i=this;i.trackEvent(i.EVENTS.ERROR_OCCUERED,{event_name:e,data:angular.toJson(t),error_message:n.toString(),error_stack:n.stack})}},{key:"trackEvent",value:function(e,t,n){var i=this;t._tab=i.tab,i._queueProcessed?i._segment.track(e,t,n):i.enqueue({name:e,data:t,props:n})}},{key:"track",value:function(e,t){var n=this,i=n._getProperties(),a=this._PageTrackingService.getFunnel();if(n.EVENTS.HOMEPAGE_VIEWED.match(e)&&a!=this._PageTrackingService.FUNNELS.NEW?this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.NEW):n.EVENTS.MOMENTS_VIEWED.match(e)&&a!=this._PageTrackingService.FUNNELS.MOMENTS?this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.MOMENTS):n.EVENTS.BABY_VIEWED.match(e)&&a!=this._PageTrackingService.FUNNELS.BABY?this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.BABY):n.EVENTS.GIRLS_VIEWED.match(e)&&a!=this._PageTrackingService.FUNNELS.GIRLS?this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.GIRLS):n.EVENTS.BOYS_VIEWED.match(e)&&a!=this._PageTrackingService.FUNNELS.BOYS?this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.BOYS):n.EVENTS.MOM_VIEWED.match(e)&&a!=this._PageTrackingService.FUNNELS.MOM?this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.MOM):n.EVENTS.PRODUCT_SEARCHED.match(e)&&a!=this._PageTrackingService.FUNNELS.SEARCH&&this._PageTrackingService.setFunnel(this._PageTrackingService.FUNNELS.SEARCH),n.EVENTS.ORDER_COMPLETED.match(e)){var r=n._$cookies.getObject(s)||null;n.identify(r);for(var o=0;o<t.products.length;o++)try{var l=t.products[o];l=this._attachCommonProperties(l,!0),n.trackEvent(n.EVENTS.ORDER_COMPLETED_REVENUE,l,i)}catch(c){n.trackError(e,t,c)}try{var d=this._attachCommonProperties(t.order_details);n.trackEvent(n.EVENTS.ORDER_COMPLETED,d,i)}catch(c){n.trackError(e,t,c)}}else try{t=this._attachCommonProperties(t,n.EVENTS.CHECKOUT_STARTED.match(e)),n.trackEvent(e,t,i)}catch(c){n.trackError(e,t,c)}}},{key:"identify",value:function(e,t){if(e){var n=this,i={user_type:n._$cookies.get(r),hs_device_id:n._$cookies.get(d),hs_site:n._getPlatform()},a=this._AppStateService.getUtmParams();for(var o in a){a[o];e["session_"+o.replace("-","_")]=a[o]}e.email&&(i.email=e.email),e.userName&&(i.name=e.userName),i.utm_source=e.session_utm_source||"none",i.utm_medium=e.session_utm_medium||"none",i.utm_campaign=e.session_utm_campaign||"none",i.utm_term=e.session_utm_term||"none",i.utm_content=e.utm_content||"none",i.utm_date=e.utm_date||"none",e.user_type&&(i.user_type=e.user_type),e.last_visit_date&&(i.last_visit_date=e.last_visit_date),e.days_since_last_visit&&(i.days_since_last_visit=e.days_since_last_visit),e.visitor_type&&(i.visitor_type=e.visitor_type),e.registeration_date&&(i.registeration_date=e.registeration_date),e.isRegister&&(i.created_at=new Date);var l=e.userId,c=n._$cookies.getObject(s)||null;c&&c.userId&&(l=c.userId);var u=n._$cookies.get(n._ConfigService.AB_TEST_COOKIE_NAME)||"",m=u.replace(/['"]+/g,"");if(m&&(i.experiments=m.split(",")),this._segment.identify(l,i,this._getProperties()),t){var v={userId:e.userId,authentication_type:t};n.get("from_location")&&(v.from_location=n.get("from_location")),n.get("from_screen")&&(v.from_screen=n.get("from_screen")),e.isRegister?n.track(n.EVENTS.REGISTERED,v):n.track(n.EVENTS.LOGGED_IN,v)}this.identified=!0}}},{key:"reset",value:function(){this._segment.reset()}},{key:"getAddFromDetails",value:function(){return"funnel="+this._PageTrackingService.getFunnelOld()+"&prev="+this._PageTrackingService.getPrev()[0]}},{key:"trackSession",value:function(e,t,n){var i=this._$cookies.get(a);if(i){var s=i.substr(1,i.length-2).split(","),r=s[0].split("=")[1],d=s[1].split("=")[1],u=s[2].split("=")[1];e.session_utm_source||(e.session_utm_source="none"),e.session_utm_medium||(e.session_utm_medium="none"),e.session_utm_campaign||(e.session_utm_campaign="none"),e.utm_content||(e.utm_content="none"),""===this._sessionStartTime||this._sessionStartTime!==r?(this._sessionStartTime=r,this._lastVisitdate=d,this._daysSinceLastVisit=u,this._LocalStorageService.setData(o,r),this._LocalStorageService.setData(l,d),this._LocalStorageService.setData(c,u),e.last_visit_date=d,e.days_since_last_visit=u,this.identify(e),this.track(this.EVENTS.SESSION_STARTED,e)):e.session_utm_source&&this.identify(e),this.sessionStarted=!0,this.processQueue()}}},{key:"enqueue",value:function(e){e.name.match(this.EVENTS.SESSION_STARTED)?this._queue.unshift(e):this._queue.push(e)}},{key:"processQueue",value:function(){var e=this;if(e.sessionStarted){this.identified||e.identify({user_type:e._$cookies.get(r)});for(var t=0;t<e._queue.length;t++){var n=e._queue[t];e._segment.track(n.name,n.data,n.props)}e._queueProcessed=!0}}},{key:"getBackup",value:function(){return this.backup}},{key:"setBackup",value:function(){this.backupDone||(this.backup=this._cache,this._SessionStorageService.setData(m,this.backup),this.backupDone=!0)}},{key:"restore",value:function(e){for(var t in e)this.set(t,e[t]);this._persist()}},{key:"onStateChange",value:function(e){e.from_screen?(this.set("from_screen",e.from_screen),delete e.from_screen):this.remove("from_screen"),e.from_section?(this.set("from_section",e.from_section),delete e.from_section):this.remove("from_section"),e.from_location?(this.set("from_location",e.from_location),delete e.from_location):this.remove("from_location"),e.position?(this.set("position",e.position),delete e.position):this.remove("position"),e.custom_tile_id?(this.set("custom_tile_id",e.custom_tile_id),delete e.custom_tile_id):this.remove("custom_tile_id"),e.custom_product_tile_id?(this.set("custom_product_tile_id",e.custom_product_tile_id),delete e.custom_product_tile_id):this.remove("custom_product_tile_id"),e.reco_type?(this.set("reco_type",e.reco_type),delete e.reco_type):this.remove("reco_type")}},{key:"get",value:function(e){return this._cache[e]}},{key:"set",value:function(e,t){this._cache[e]=t,this._persist()}},{key:"remove",value:function(e){delete this._cache[e],this._persist()}},{key:"getScreen",value:function(e){return this._screenMap[e]}},{key:"setScreen",value:function(e,t){this._screenMap[e]=t||e,this._persist()}},{key:"setTrackData",value:function(e,t){this.trackData[e]=t}},{key:"getTrackData",value:function(){return this.trackData}},{key:"resetTrackData",value:function(){this.trackData={}}}]),e}();t.SegmentService=h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s="funnel",a="section",r="sub_section",o="source",l="plp",c="quickshop",d="oa_data",u="oa_data_backup",m=function(){function e(t,i){"ngInject";n(this,e),this.FUNNEL="funnel",this._LocalStorageService=i,this._SessionStorageService=t,this.funnel=this._LocalStorageService.getData(s)||"DIRECT",this.resetFunnel=!0,this.data=this._SessionStorageService.getData(d)||{},this.backup=this._SessionStorageService.getData(u)||{},this.backupDone=!1,this.subSection=this.data[r]?this.data[r].split("~"):[],this.FUNNELS={NEW:"New",SEARCH:"Search",BABY:"baby",GIRLS:"girls",BOYS:"boys",MOM:"mom",MOMENTS:"Moments"},this.PLP_TYPE={BOUTIQUE:"B",CUSTOM_TILE:"CT",PRODUCTS:"P"},this.SUB_SECTION_TYPE={SPECIAL_PAGE:"SP",CUSTOM_TILE:"CT",CUSTOM_PRODUCT_TILE:"CPT"},this.YES="Yes",this.NO="No",this._stack=[],this.data.hasOwnProperty(s)||this._reset(),this.prev=[null,null],this.current=null}return e.$inject=["SessionStorageService","LocalStorageService"],i(e,[{key:"getFunnel",value:function(){return this._get(s)}},{key:"getFunnelOld",value:function(){return this.funnel}},{key:"setFunnelOld",value:function(e){this.funnel=e,this._LocalStorageService.setData(this.FUNNEL,e)}},{key:"getCurrent",value:function(){return this.current}},{key:"setCurrent",value:function(e){this.current=e}},{key:"getSection",value:function(){return this._get(a)}},{key:"getSubSection",value:function(e){if(e){var t=this._get(r)?this._get(r).split("~"):[];return t.push(e),t.length>3&&t.shift(),t.join("~")}return this._get(r)}},{key:"getSource",value:function(){return this._get(o)}},{key:"getPLP",value:function(){return this._get(l)}},{key:"getBackup",value:function(){return this.backup}},{key:"setFunnel",value:function(e){return this._reset(),this._set(s,e)}},{key:"setSection",value:function(e){return"section"!==this.getSection()?(this._resetSubSection(),this.setPLP("",""),this._set(a,e||"Default")):void 0}},{key:"setSubSection",value:function(e,t){var n=""+e+t;return this.subSection.push(n),this.subSection.length>3&&this.subSection.shift(),this.setPLP("",""),this._set(r,this.subSection.join("~"))}},{key:"setSource",value:function(e){return this._set(o,e)}},{key:"setPLP",value:function(e,t){return this._set(l,""+e+t)}},{key:"setBackup",value:function(){this.backupDone||(this.backup=this.data,this._SessionStorageService.setData(u,this.backup),this.backupDone=!0)}},{key:"getUrl",value:function(e,t,n,i){var s=[];return e?s.push("funnel="+e):s.push("funnel="+this.getFunnel()),t?s.push("section="+t):this.getSection()&&s.push("section="+this.getSection()),n?s.push("subsection="+n):this.getSubSection()&&s.push("subsection="+this.getSubSection()),i?s.push("plp="+i):this.getPLP()&&s.push("plp="+this.getPLP()),s.join("&")}},{key:"back",value:function(){}},{key:"_get",value:function(e){return this.data[e]}},{key:"_set",value:function(e,t){return this.data[e]=t?t:"",this._persist(),this.data[e]}},{key:"_persist",value:function(){this._SessionStorageService.setData(d,this.data)}},{key:"_reset",value:function(){this.data[s]="",this.data[a]="Default",this.data[r]="",this.data[o]="",this.data[l]="",this.data[c]="No",this._resetSubSection()}},{key:"_resetSubSection",value:function(){this.subSection=[],this._set(r,"")}},{key:"restore",value:function(e){this._resetSubSection(),this.data[s]=e[s],this.data[a]=e[a],this.data[r]=e[r],this.data[o]=e[o],this.data[l]=e[l],this.subSection=e[r]?e[r].split("~"):[],this._persist()}},{key:"setPrev",value:function(e){this.prev.shift(),this.prev.push(e)}},{key:"getPrev",value:function(){return this.prev}},{key:"setCurrent",value:function(e){this.current=e}},{key:"getDepartmentTrackingDetail",value:function(){return this._SessionStorageService.getData("dept_tracking")}},{key:"setDepartmentTrackingDetail",value:function(e){this._SessionStorageService.setData("dept_tracking",e)}},{key:"clearDepartmentTrackingDetail",value:function(){this._SessionStorageService.removeData("dept_tracking")}},{key:"getLastState",value:function(){return this._SessionStorageService.getData("last_state")}},{key:"setLastState",value:function(e){this._SessionStorageService.setData("last_state",e)}},{key:"clearLastState",value:function(){this._SessionStorageService.removeData("last_state")}},{key:"onStateChange",value:function(e,t){if(e.funnel&&(e.hfunnel=e.funnel,(e.resetFunnel||t)&&this.setFunnel(e.funnel)),e.section&&(e.hsection=e.section,this.setSection(e.section)),e.subsection){for(var n=e.subsection.split("~"),i=0;i<n.length;i++)this.setSubSection("",n[i]);e.hsubSection=e.subsection}e.plp&&(e.hplp=e.plp,this.setPLP("",e.plp)),delete e.funnel,delete e.section,delete e.subsection,delete e.plp}}]),e}();t.PageTrackingService=m},function(e,t){"use strict";function n(e,t,n,i,s){"ngInject";var a=void 0,r=void 0,o=void 0,l=void 0,c=void 0,d=0;return{request:function(n){if(n.url.indexOf(".html")===n.url.length-5)return n;var a=e.getUtmParams();n.params=n.params||{},angular.extend(n.params,a);for(var o in n.params)if(n.params.hasOwnProperty(o)&&0===o.indexOf("utm-")){var l=o.replace(/-/g,"_");n.params[l]=n.params[o],delete n.params[o]}var u=e.getDeeplinkParams();return angular.extend(n.params,u),n.headers=n.headers||{},angular.extend(n.headers,a),angular.extend(n.headers,u),n.headers["device-type"]=e.getDeviceType(),n.headers[t.AB_TEST_COOKIE_NAME]=s.get(t.AB_TEST_COOKIE_NAME),r=r||i.get("ResourceService"),n.headers["device-id"]=r.getVisitorId(),n.requestStartTime=(new Date).getTime(),c=c||i.get("LatencyService"),n.url.match(/latencycheck/)||d++%5==0&&c.latencyCheck(),n},response:function(e){return e.data.action&&"failure"===e.data.action.toLowerCase()?n.reject(e):(e.config.requestEndTime=(new Date).getTime(),e)},responseError:function(e){return 401===e.status?(a=a||i.get("CustomerService"),o=o||i.get("$http"),l=l||i.get("ModalService"),a.autoLogin().then(function(){return o(e.config)},function(e){return l.showLoginModal(),n.reject(e)})):n.reject(e)}}}n.$inject=["AppStateService","ConfigService","$q","$injector","$cookies"],Object.defineProperty(t,"__esModule",{value:!0}),t.HeadersAutoLoginInterceptor=n},function(e,t){"use strict";function n(e,t,n,i,s){"ngInject";var a="hs-do-locking",r="hs-first-visit-lock",o="hs-min-page-views",l="hs-min-time",c=void 0,d=void 0,u=void 0,m=void 0,v=void 0,p=void 0,h=void 0,g=void 0,f=void 0,y=void 0,b=function(){d=!1,u=!1,m=0,p=1,v=0,h=!1};return b(),{response:function(S){if(h)return S;if(f||(f=e.get("CustomerService")),f.isLoggedIn())return S;g||(g=e.get("ModalService")),y||(y=e.get("SegmentService"));var _=S.headers;d=_(a)?"Y"===_(a):!1;var k,w,C=function(){k&&k()},P=function(){w&&t.cancel(w)};if(c=c||i.get("EXPERIMENTS"),s.log("Experiments: ",c," HEADER: ",_(a)," shouldLock: ",d),c&&c.length&&c.indexOf("locked_no")>-1)return C(),P(),b(),S;if(d){var D=n.$on("hs.loggedIn",function(){b(),C(),P(),D()});if(h=!0,u=_(r)?"Y"===_(r):!1)g.showLoginModal(!1,"Register");else{var T=_(l)?_(l):0;m=_(o)?_(o):0,v=1e3*T,v>0&&m>0?!function(){var e=!1,i=!1,s=function(){e&&i&&(y.set("from_location","Locked nudge"),g.showLoginModal(!1,"Register"))};w=t(function(){e=!0,s()},v),k=n.$on("$stateChangeSuccess",function(){p++,p>=m&&(i=!0,k(),s())})}():v>0?w=t(function(){y.set("from_location","Locked nudge"),g.showLoginModal(!1,"Register")},v):m>0&&(k=n.$on("$stateChangeSuccess",function(){p++,p>=m&&(y.set("from_location","Locked nudge"),g.showLoginModal(!1,"Register"),k())}))}}return S}}}n.$inject=["$injector","$timeout","$rootScope","$cookies","$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.LockingInterceptor=n},function(e,t){"use strict";function n(e,t,n,i){"ngInject";var s=void 0;return{responseError:function(a){if(401==a.status)return e.reject(a);if(a.config.params.isRetry)i.log("Retry failed for:",a.config.url,"Error: ",a.status,a.statusText),
502!==a.status&&503!==a.status&&504!==a.status||a.config.params.retryAndShow503Modal||(s=s||t.get("ModalService"),s.show503Modal());else if(i.log("Request failed for:",a.config.url,"Error: ",a.status,a.statusText),angular.isUndefined(a.config.params.retryAndShow503Modal)||a.config.params.retryAndShow503Modal){var r=t.get("$http");return a.config.params.isRetry=!0,n(function(){return r(a.config)},5e3)}return e.reject(a)}}}n.$inject=["$q","$injector","$timeout","$log"],Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceUnavailableInterceptor=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p,h,g,f,y,b){"ngInject";n(this,e),this._toastr=d,this.heroBoutique=null,this.boutiques=[],this.secondaryBoutiques=[],this.comingSoonBoutiques=[],this._ModalService=s,this._$stateParams=f,this._BoutiqueService=t,this._CustomerService=a,this._PageTrackingService=r,this.REDIRECT_TO=i.REDIRECT_TO,this.REDIRECT_TIMEOUT=i.REDIRECT_TIMEOUT,this._$cookies=v,this.PAGE_SIZE=i.PAGINATION.PAGE_SIZE,this._$q=l,this._$window=p,this._$document=h,this._SegmentService=g,this.$scope=u,this.$state=m,this.$log=c,this._$timeout=b,this.showPrimaryBoutiques=!1,this.showComingSoon=!1,this.showSecondaryBoutiques=!1,this.hasMoreData=!1,this.currentPage=0,this.primaryPageName=m.current.data.pageNames[0],this.allBoutiques=[],this.lastIndex=0,this.perPage="mobile"===o.getDeviceType()?15:30,"homepage"===m.current.data.pageNames[0]?(this.secondaryLink=m.href("bestsellers"),r.setFunnelOld("New"),r.setFunnel(r.FUNNELS.NEW),"/"!==y.fromState.url&&g.track(g.EVENTS.HOMEPAGE_VIEWED,{previous_click:f.ref,from_screen:g.getScreen(g.get("from_screen")),from_location:g.get("from_location")})):(this.secondaryLink=m.href("home"),r.setFunnelOld("Bestsellers"),this._$timeout(function(){g.track(g.EVENTS.BESTSELLERS_VIEWED,{previous_click:f.ref})},1e3)),this.activate(m);var S=this;this.$scope.$on("hs.loggedIn",function(){S.currentPage=0,S.boutiques=[],S.allBoutiques=[],S.lastIndex=0,S.perPage=30,S.secondaryBoutiques=[],S.comingSoonBoutiques=[],S.showPrimaryBoutiques=!1,S.showComingSoon=!1,S.showSecondaryBoutiques=!1,S.heroBoutique=null,S.hasMoreData=!1,S.activate(S.$state)});var _=this,k=!1;this._$window.onscroll=function(){if(_.showPrimaryBoutiques){var e=_._$document[0].body.scrollTop>0?_._$document[0].body.scrollTop:_._$document[0].documentElement.scrollTop,t=_._$document[0].body?_._$document[0].body:_._$document[0].documentElement;!k&&t&&e/_._$document[0].documentElement.offsetHeight>.5&&(k=!0,m.current.data&&(_.showPrimaryBoutiques=!0,_.showSecondaryBoutiques=!1),_.loadComingSoonBoutiques().then(function(){_.showPrimaryBoutiques=!0,_.showComingSoon=_.comingSoonBoutiques&&6===_.comingSoonBoutiques.length}))}}}return e.$inject=["BoutiqueService","ConfigService","ModalService","CustomerService","PageTrackingService","AppStateService","$q","$log","toastr","$scope","$state","$cookies","$window","$document","SegmentService","$stateParams","$rootScope","$timeout"],i(e,[{key:"activate",value:function(e){var t=this,n=e.current.data;t.secondSectionHeader=n.secondSectionHeader;var i=t._$q.all([t.loadMainBoutiquesPageWise().then(function(){t.showPrimaryBoutiques=!0})]);i.then(function(){t.showPrimaryBoutiques=!0,t.showComingSoon=t.comingSoonBoutiques&&6===t.comingSoonBoutiques.length,t.showSecondaryBoutiques=t.secondaryBoutiques&&6===t.secondaryBoutiques.length}),e.includes("cart")&&t.isCartState()}},{key:"loadMainBoutiquesPageWise",value:function(){return this.currentPage++,this.loadingBoutiques=!0,this.loadBoutiquesPageWise("boutiques",this.primaryPageName,this.currentPage,this.PAGE_SIZE,!0)}},{key:"loadComingSoonBoutiques",value:function(){var e=this;return this._BoutiqueService.queryComingSoon().then(function(t){e.comingSoonBoutiques=t.upcomingList},function(t){e.showToastr(t)})}},{key:"nextPage",value:function(){var e=this;e.lastIndex<e.allBoutiques.length&&(e.boutiques=e.boutiques.concat(e.allBoutiques.slice(e.lastIndex,e.lastIndex+e.perPage)),e.lastIndex+=e.perPage)}},{key:"loadBoutiquesPageWise",value:function(e,t,n,i,s){var a=this;return this._BoutiqueService.queryBoutiques({pageNo:n,pageSize:i,pageName:t,isPaginationRequire:!s,department:a._$stateParams.department,customTileId:a._$stateParams.customTileId}).then(function(t){var i=t.boutiqueList;if(a.allBoutiques=t.boutiqueList,a[e]=a[e].concat(i.slice(a.lastIndex,a.perPage)),a.lastIndex+=a.perPage,1===n&&s){if(0==i.length)return a._ModalService.show503Modal();var r=i[0]||{},o=angular.isDefined(r.heroImageUrl)&&null!=r.heroImageUrl&&""!=r.heroImageUrl;o&&(a.heroBoutique=a[e][0],a.heroBoutique.href=a.heroBoutique.href+"?"+a._PageTrackingService.getUrl(a._PageTrackingService.getFunnel(),a._PageTrackingService.getSection(),a._PageTrackingService.getSubSection(),a._PageTrackingService.getPLP()),a.heroBoutique.href+="&from_screen="+a.$state.current.name,a[e].splice(0,1))}},function(e){a.showToastr(e)})}},{key:"showToastr",value:function(e){this._toastr.error(e)}},{key:"isCartState",value:function(){this._CustomerService.checkLoggedIn()?this._ModalService.showCartModal():(this._$cookies.putObject(this.REDIRECT_TO,{state:"CART"},{expires:new Date((new Date).getTime()+this.REDIRECT_TIMEOUT)}),this._ModalService.showLoginModal())}}]),e}();t.HomeController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p,h){"ngInject";n(this,e),this._toastr=u,this._$log=o,this.boutique={},this.childBoutiques=[],this._ConfigService=s,this._$location=m,this._$scope=d,this._$state=l,this.canShowProductCount=3,this.isTilePresent=!1,this.deepLinkConstant={deepLinkBaseUrl:"deeplink=boutique?id=",utmProductBaseUrl:"&utm_product="},this._$timeout=v,this._$rootScope=p,this._MetaStateService=h,this.showBoutiques=!1,this._PageTrackingService=a,this._SegmentService=r,this.activate(c.pageName,l,t,i)}return e.$inject=["BoutiqueService","ProductService","ConfigService","PageTrackingService","SegmentService","$log","$state","$stateParams","$scope","toastr","$location","$timeout","$rootScope","MetaStateService"],i(e,[{key:"activate",value:function(e,t,n,i){var s=this;s._$timeout(function(){s.showBoutiques=!0},500),n.queryBoutiques({pageName:e}).then(function(n){s._SegmentService.setScreen(s._$state.current.name,n.name),s._SegmentService.track(s._SegmentService.EVENTS.SPECIAL_PAGE_VIEWED,{from_screen:s._SegmentService.getScreen(s._SegmentService.get("from_screen")),from_location:s._SegmentService.get("from_location"),custom_tile_id:s._SegmentService.get("custom_tile_id"),custom_product_tile_id:s._SegmentService.get("custom_product_tile_id"),position:s._SegmentService.get("position"),name:n.name,id:n.page_id}),s._PageTrackingService.setSubSection(s._PageTrackingService.SUB_SECTION_TYPE.SPECIAL_PAGE,n.page_id),s.boutique=n;var a=[s.boutique.name];a=a.concat(s.boutique.boutiqueList.map(function(e){return e.name.replace(/-|:|_/gi," ")})),s._MetaStateService.setNewMetaData({title:s.boutique.name,keywords:a,description:s.boutique.name},!0),s.childBoutiques=n.boutiqueList,_(s.childBoutiques).each(function(n){n.href=t.href("boutique",{boutiqueId:n.id,boutiqueName:(n.name||"").replace(/\s/g,"-")}),n.pageName=e});for(var r=0;r<s.childBoutiques.length;r++)s.isTilePresent=s.childBoutiques[r].isTile?s.childBoutiques[r].isTile:s.isTilePresent,s.loadProductsForBoutique(r,s.childBoutiques[r].id,i)},function(t){s._$log.error("Error loading boutique for pageName",e,t),s._toastr.error("Unable to load information about collection with name "+e)})}},{key:"loadProductsForBoutique",value:function(e,t,n){var i={salePlanId:t,autoLoad:!0},s=this;n.searchProductList(i).then(function(t){s.childBoutiques[e].products=t.records,s.childBoutiques[e].totalProducts=t.totalRecords},function(e){s._$log.error("Error loading products for boutique with id ",t,e)})}}]),e}();t.CollectionsController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p,h,g,f,y,b,S,_,k){"ngInject";n(this,e),this.toastr=f,this.$log=d,this.$stateParams=u,this._$element=S,this._$analytics=y,this._$timeout=g,this.$state=m,this.$location=v,this.boutiqueDetails={},this.recommendedBoutiques=[],this._$anchorScroll=b,this.$scope=p,this._SegmentService=c,this.loading=!1,this.firstLoad=!0,this.isDisabled=!1,this.$q=h,this.searchText="",this.plp_type="",this.plp_name="",this.applyingSmartFilter=!1;var w=v.search();w.screenName&&(u.screenName=w.screenName),this.filterList=["ageList","shopForGender","brandIds","subCategorys","colour"],this.searchFilterApplied=!1;var C=angular.copy(u)||{};"search"!==this.getCurrentState()&&this.setData(C,u),this.isComingSoon=!1,this.loadMoreDetails={pageNo:1,pageSize:r.PAGINATION.TERNARY_PAGE_SIZE,showLoadMore:!1},this.ProductService=t,this.AppStateService=i,this._ConfigService=r,this._BoutiqueService=s,this._ResourceService=l,this.availableFilters=[],this.hideAvailableFilters=!1,this._TimeService=a,this._PageTrackingService=o,this.remainingProductCount=0,this.NumVisibleProduct=r.PAGINATION.TERNARY_PAGE_SIZE,this._searchTracked=!1,this.departmentStates=[];var P=this;this.locationModified=!1,this.preventRepeatedSearchCall=!1,this.searchUpdateListener=this.$scope.$on("hs.search.updated",function(e,t){P.preventRepeatedSearchCall=!0}),"boutique"===P.getCurrentState()?P._PageTrackingService.setPLP(P._PageTrackingService.PLP_TYPE.BOUTIQUE,P.$stateParams.boutiqueId):"search"===P.getCurrentState()?P._PageTrackingService.resetFunnel=!0:"products"===P.getCurrentState()&&P._PageTrackingService.setPLP(P._PageTrackingService.PLP_TYPE.PRODUCTS,P.$stateParams.id),P.firstLoad&&(P.firstLoad=!1,C.smartFilterSequence&&P.createSmartFilterArgs(C),P.activate(t,C)),this._MetaStateService=k,this._ModalService=_,this.locationChangeStartListener=this.$scope.$on("$locationChangeStart",function(e,t,n){var i=P._ModalService.isModalActive("size-chart dialog");i&&(P._ModalService.closeSizeChartModal(),e.preventDefault())})}return e.$inject=["ProductService","AppStateService","BoutiqueService","TimeService","ConfigService","PageTrackingService","ResourceService","SegmentService","$log","$stateParams","$state","$location","$scope","$q","$timeout","toastr","$analytics","$anchorScroll","$element","ModalService","MetaStateService"],i(e,[{key:"activate",value:function(e,t){var n=this,i=this;i.loading=!0,i.params=t,"boutique"===i.getCurrentState()?(i.boutiqueDetails.salePlanId=i.$stateParams.boutiqueId,i.boutiqueDetails.name=i.$stateParams.boutiqueName,i.loadMoreDetails.pageNo=1):"search"===i.getCurrentState()?(i.searchText=i.$stateParams.searchBy,i.searchText&&0==i.searchText.indexOf("More ")&&(i.searchText=i.searchText.replace("More ","")),i.$stateParams.getItNowForCollectionId?i.searchText="Ready to ship":(i.$stateParams.moreSimilarProductsForCollectionId||i.$stateParams.similarProductId)&&(i.searchText="Similar items"),i._PageTrackingService.setFunnelOld("Search")):"products"===i.getCurrentState()&&(i.categorySearch=i.$stateParams.name),i.canceller&&i.canceller.resolve("Cancelling request"),i.canceller=i.$q.defer(),i._ConfigService.tiles.customTilesId?(i.params.customTilesId=i._ConfigService.tiles.customTilesId,i.params.from=i._ConfigService.tiles.from,i._ConfigService.tiles.customTilesId=null,i._ConfigService.tiles.from=null):i._ConfigService.tiles.cptId&&(i.params.cptId=i._ConfigService.tiles.cptId,i._ConfigService.tiles.cptId=null);var s;"products"!==i.$state.current.name?s=e.searchProducts(i.params,i.canceller):(i.params.id=i.$stateParams.id,s=e.getCategoryProducts(i.params,i.canceller)),s.then(function(s){if("product"!=i.$state.current.name){var a=i.$stateParams.boutiqueName||i.$stateParams.name||"Search Results for "+(i.$stateParams.searchBy||i.searchText),r=_.map(s.data.records,function(e){return e.brandName?e.brandName.replace(/-|:|_/gi," "):angular.noop()});r=_.uniq(r);var o=[(i.$stateParams.boutiqueName||i.$stateParams.name||i.$stateParams.searchBy||i.searchText).replace(/-|:|_/gi," ")].concat(r);i._MetaStateService.setNewMetaData({title:a,keywords:o,description:a},!0)}if("products"===i.getCurrentState()&&(i.categorySearch=s.data.screenName),!i.locationModified){for(var l=s.data.orderRule,c="",d=0;d<s.data.sortingOptions.length;d++)for(var u=s.data.sortingOptions[d],m=0;m<u.sortingOrders.length;m++){var v=u.sortingOrders[m];l===v.orderRule&&(c=u.sortName)}if(i.plp_name=s.data.screenName,"boutique"===i.getCurrentState())i.plp_type=i._ConfigService.SEGMENT.PLP_TYPE.BOUTIQUE,i._SegmentService.track(i._SegmentService.EVENTS.BOUTIQUE_VIEWED,{boutique_id:i.boutiqueDetails.salePlanId,boutique_name:i.boutiqueDetails.name,boutique_start_date:s.data.salePlanDetail.startDate,boutique_end_date:s.data.salePlanDetail.endDate,days_since_boutique_start:s.data.salePlanDetail.daysSinceBoutiqueStart,sort_order:c,add_from_details:i._SegmentService.getAddFromDetails(),from_screen:i._SegmentService.getScreen(i._SegmentService.get("from_screen")),from_section:i._SegmentService.get("from_section"),from_location:i._SegmentService.get("from_location"),plp_type:i.plp_type,soldout_count:s.data.soldOutCount,boutique_type:s.data.salePlanDetail.saleType,position:i._SegmentService.get("position"),custom_tile_id:i._SegmentService.get("custom_tile_id"),feed_size:s.data.totalRecords}),i._SegmentService.setScreen(i.$state.current.name,s.data.salePlanDetail.name);else if("products"===i.getCurrentState())i.categorySearch=s.data.screenName,i.plp_type=n._ConfigService.SEGMENT.PLP_TYPE.PLP,i._SegmentService.track(i._SegmentService.EVENTS.PRODUCT_LISTING_VIEWED,{product_listing_id:i.$stateParams.id,product_listing_name:s.data.screenName,plp_type:i.plp_type,sort_order:c,from_screen:i._SegmentService.getScreen(i._SegmentService.get("from_screen")),from_location:i._SegmentService.get("from_location"),from_section:i._SegmentService.get("from_section"),custom_product_tile_id:i._SegmentService.get("custom_product_tile_id"),position:i._SegmentService.get("position"),feed_size:s.data.totalRecords,add_from_details:i._SegmentService.getAddFromDetails()}),i._SegmentService.setScreen(i.$state.current.name,s.data.screenName);else if("search"===i.getCurrentState()&&"Photo details"==i._SegmentService.getTrackData().from_screen)i._SegmentService.setTrackData("feed_size",s.data.totalRecords),i._SegmentService.setTrackData("from_section","Shop the look"),i._SegmentService.setTrackData("reco_type",s.data.recoType),i._SegmentService.setTrackData("plp_name",s.data.screenName),i._SegmentService.setTrackData("sort_order",c),i._SegmentService.track(i._SegmentService.EVENTS.SIMILAR_PRODUCTS_VIEWED,i._SegmentService.getTrackData());else if("search"===i.getCurrentState()&&i._searchTracked===!1){i._searchTracked=!0;var p=i._SegmentService.get("from_screen"),h=i._SegmentService.get("from_section"),g=i._SegmentService.get("from_location");i.plp_type=n._ConfigService.SEGMENT.PLP_TYPE.RECO,"product"===p&&"RFY products"===h||"Custom tile"===g&&"RFY collections"===h?i._SegmentService.track(i._SegmentService.EVENTS.RECO_PRODUCTS_VIEWED,{from_screen:i._SegmentService.getScreen(i._SegmentService.get("from_screen")),from_section:i._SegmentService.get("from_section"),reco_type:s.data.recoType,plp_name:s.data.screenName,plp_type:i.plp_type,from_location:i._SegmentService.get("from_location"),custom_tile_id:i._SegmentService.get("custom_tile_id"),feed_size:s.data.totalRecords,sort_order:c}):(i.plp_type=i.plp_type||n._ConfigService.SEGMENT.PLP_TYPE.SEARCH,i.plp_name=i.$stateParams.hsection==n._ConfigService.SEGMENT.KEYWORD||i.$stateParams.hsection==n._ConfigService.SEGMENT.RECENT_SEARCH?n._ConfigService.SEGMENT.SEARCH_RESULTS:"",i._SegmentService.track(i._SegmentService.EVENTS.PRODUCT_SEARCHED,{from_screen:i._SegmentService.getScreen(i._SegmentService.get("from_screen")),from_section:i._SegmentService.get("from_section"),keyword:i.$stateParams.keyword,plp_type:i.plp_type,plp_name:i.plp_name,brand:"brands"==i.$stateParams.type?i.$stateParams.name:"",category:i.$state.name,subcategory:i.$state.name,product_type:i.$state.name,feed_size:s.data.totalRecords,sort_order:c}))}}if(i.applyingSmartFilter&&(i._SegmentService.track(i._SegmentService.EVENTS.SMART_FILTER_APPLIED,i.sfSegmentData),i.applyingSmartFilter=!1),s.data.salePlanDetail){if(s.data.salePlanDetail.id!==s.data.salePlanId)return i.toastr.error("Sorry, the collection requested does not exist. Shop for our latest collections!"),i.$state.go("home");if(s.data.salePlanDetail.restTime<0)return i.toastr.error(s.data.message||"This boutique is no longer active."),i.$state.go("home")}i.showPlpStyle={opacity:0},i.showSfStyle={opacity:0},i.showSfStyle={opacity:1,transition:"opacity ease-in-out 0.1s"},i._$timeout(function(){i.showPlpStyle={opacity:1,transition:"opacity ease-in-out 1s"}},1e3),i._$timeout(function(){i.canceller=null,i.boutiqueDetails=s.data,"search"===i.getCurrentState()&&(i.searchFilterApplied=i.isSearchFilterSet(i.params,i.boutiqueDetails.searchRefineResponse.basePriceRange)),i.boutiqueDetails&&i.boutiqueDetails.salePlanDetail&&(i.isComingSoon=new Date(i.boutiqueDetails.salePlanDetail.startDate).getTime()>i._TimeService.getCurrentTime()),angular.forEach(i.boutiqueDetails.records,function(e,t){e.position=t+1}),i._$analytics.eventTrack("productsImpression",{ecommerce:{params:i.params,impressions:i.getProductsForGTM(i.boutiqueDetails.records)}});var n=s.data.searchRefineResponse.subCategoryRefines,a=[],r=void 0;for(var o in n)r=n[o],r.name=o,a.push(r);if(i.boutiqueDetails.searchRefineResponse.subCategories=a,i.boutiqueDetails.searchRefineResponse.currentPriceRange.minPrice&&i.boutiqueDetails.searchRefineResponse.currentPriceRange.maxPrice||(i.boutiqueDetails.searchRefineResponse.currentPriceRange=angular.copy(i.boutiqueDetails.searchRefineResponse.basePriceRange)),i.boutiqueDetails.sortingOptions){var l=i.boutiqueDetails.sortingOptions;for(var c in l)if(l[c].sortingOrders.length>1){var d=l[c].sortingOrders;for(var u in d){var m="asc"===d[u].order?" (low to high)":" (high to low)";d[u].label=l[c].sortName+m}}else l[c].sortingOrders[0].label=l[c].sortName}if(i.loadMoreDetails.pageNo=i.params.pageNo,i.updateLoadMoreDetails(),i.getRemainingProductCount(i.boutiqueDetails.pageNo,i.boutiqueDetails.pageSize,i.boutiqueDetails.totalRecords),i.loading=!1,i.$stateParams.boutiqueId&&i.loadRecommendedBoutiques(i.$stateParams.boutiqueId),i.boutiqueDetails.smartFilter.appliedSmartFilters.length||i.boutiqueDetails.smartFilter.smartFilterSections.length||i.boutiqueDetails.smartFilter.keywords.length||i.params.isFromRefineFilter){i.availableFilters=[],i.hideAvailableFilters=!1,i.autoSearch=[],i.categorySearch?i.autoSearch.push(i.categorySearch):i.$stateParams.keyWord?i.autoSearch=i.boutiqueDetails.smartFilter.keywords:i.searchText&&i.autoSearch.push(i.searchText),i.autoSearch.length>0&&(i.isSmartFilter=!0);for(var v in i.boutiqueDetails.smartFilter.smartFilterSections){var p=i.boutiqueDetails.smartFilter.smartFilterSections[v].smartFilterTiles;for(var h in p)p[h].sectionType=i.boutiqueDetails.smartFilter.smartFilterSections[v].sectionType;i.availableFilters=i.availableFilters.concat(i.boutiqueDetails.smartFilter.smartFilterSections[v].smartFilterTiles)}i._$timeout(function(){i.initializeVariables(0);var e=i._$element.find(".filter-wrapper");e[0]&&(e[0].scrollLeft=e[0].scrollWidth),e[1]&&(e[1].scrollLeft=0)}),i._$timeout(function(){i.loadDataAnimation=i.hasOwnProperty("loadDataAnimation")?!1:!0},700)}var g=i._ResourceService.getDepartments();g[0]&&(i.departmentStates=[{name:g[0].name,state:i.$state.href("department-baby"),image:g[0].image_url},{name:g[1].name,state:i.$state.href("department-girls"),image:g[1].image_url},{name:g[2].name,state:i.$state.href("department-boys"),image:g[2].image_url},{name:g[3].name,state:i.$state.href("department-mom"),image:g[3].image_url}]),i.locationChange||(i.locationChange=i.$scope.$on("$locationChangeSuccess",function(n,s,a,r,o){var l=i.$location.path().split("/")[1];"collection"!=l&&"search"!=l&&"products"!=l&&"boutique"!==l||i.preventRepeatedSearchCall?i.preventRepeatedSearchCall=!1:(t=angular.copy(i.$state.params)||{},i.isSmartFilter=!1,t.smartFilterSequence&&(i.isSmartFilter=!0,i.createSmartFilterArgs(t)),"search"!==i.getCurrentState()&&i.setData(t,i.$state.params),i.locationModified=!0,i.activate(e,t))}))})},function(e){-1!==e.status&&i.toastr.error(e.data.message)}).then(function(){i._$timeout(function(){var e,t=$("#plp-container"),n=i.$state.includes("search"),s=i.$state.includes("boutique"),a=i.$state.includes("products");if(n||a||s)var r=angular.isDefined(i.$location.search())&&i.$location.search().minPrice&&i.$location.search().maxPrice;t[0]&&r&&(e="plp-container",i._$anchorScroll(e))},110)})}},{key:"getProductsForGTM",value:function(e){var t=[],n=this,i=n.isComingSoon?"Coming Soon PLP":n.$stateParams.boutiqueId?"Boutique PLP":"Search PLP";return angular.forEach(e,function(e){t.push({name:e.name,brand:e.brandName,id:e.id,price:e.retailPrice,category:e.categoryId,list:i,position:e.position})}),t}},{key:"showToastr",value:function(){this.toastr.error("Error trying to load list of products!!!")}},{key:"showMoreProducts",value:function(){var e,t=this;t.isDisabled=!0,t.moreProductLoading=!0,t.params.pageNo=t.loadMoreDetails.pageNo,t.params.pageSize=t.loadMoreDetails.pageSize,"products"!==t.$state.current.name?(t.params.salePlanId=t.boutiqueDetails.salePlanId,e=t.ProductService.searchProducts(t.params)):(t.params.id=t.$stateParams.id,e=t.ProductService.getCategoryProducts(t.params)),e.then(function(e){t.isDisabled=!1,t.moreProductLoading=!1,t.boutiqueDetails.records=t.boutiqueDetails.records.concat(e.data.records),angular.forEach(e.data.records,function(e,n){e.position=t.params.pageSize*(t.params.pageNo-1)+n+1}),t._$analytics.eventTrack("productsImpression",{ecommerce:{params:t.params,impressions:t.getProductsForGTM(e.data.records)}}),t.updateLoadMoreDetails(),t.getRemainingProductCount(e.data.pageNo,e.data.pageSize,e.data.totalRecords)},function(e){t.isDisabled=!1,t.moreProductLoading=!1,t.toastr.error(e.data.message)})}},{key:"updateLoadMoreDetails",value:function(){this.boutiqueDetails.totalRecords>this.boutiqueDetails.records.length?(this.loadMoreDetails.showLoadMore=!0,this.loadMoreDetails.pageNo++):this.loadMoreDetails.showLoadMore=!1}},{key:"getRemainingProductCount",value:function(e,t,n){this.NumVisibleProduct=e*t,this.remainingProductCount=n-e*t,this.remainingProductCount=this.remainingProductCount>0?this.remainingProductCount:""}},{key:"filterResults",value:function(e){var t=this;t.$location.search(e),"boutique"===t.getCurrentState()&&(e.salePlanId=t.$stateParams.boutiqueId,e.filterQuery="salePlanId="+e.salePlanId)}},{key:"resetFilters",value:function(){var e=this;delete this.$stateParams.smartFilterType,delete this.$stateParams.smartFilterValue,delete this.$stateParams.smartFilterSequence,delete this.$stateParams.isFromRefineFilter,delete this.$stateParams.fromSmartFilter,"search"===this.getCurrentState()?(_(this.filterList).forEach(function(t){delete e.$stateParams[t]}),this.$stateParams.minPrice&&(delete this.$stateParams.minPrice,delete this.$stateParams.maxPrice),this.filterResults(this.$stateParams)):this.filterResults({})}},{key:"setData",value:function(e,t){t.boutiqueId?(e.salePlanId=t.boutiqueId,delete e.boutiqueId,delete e.boutiqueName,e.filterQuery="salePlanId="+e.salePlanId):t.id&&(e.id=t.id)}},{key:"showFilters",value:function(){var e=this.boutiqueDetails.searchRefineResponse,t=e.shopForRefines.length>0||e.ageRefines.length>0||e.subCategories.length>0||e.brandRefines.length>0;return t?t||e.basePriceRange.minPrice!==e.basePriceRange.maxPrice&&"Infinity"!==e.basePriceRange.minPrice&&!this.isComingSoon:t&&!this.isComingSoon}},{key:"loadRecommendedBoutiques",value:function(e){var t=this;t._BoutiqueService.loadRecommendedBoutiques(e).then(function(e){t.recommendedBoutiques=e.boutiqueList,_(t.recommendedBoutiques).forEach(function(e){e.getBoutiqueImage=function(){return e.flexiImageHeight?e.flexiImageUrl:e.imageUrl}})},function(e){})}},{key:"getCurrentState",value:function(){return this.$state.current.name}},{key:"isSearchFilterSet",value:function(e,t){var n=0;return _(this.filterList).forEach(function(i){_.isUndefined(e[i])||n++,_.isUndefined(e.minPrice)||(e.minPrice!=t.minPrice||e.maxPrice!=t.maxPrice)&&n++}),n>0}},{key:"applySmartFilter",value:function(e){this.applyingSmartFilter=!0,this.addAnimation=!0,this.isSmartFilter=!0,this.loadDataAnimation=!1;var t=angular.copy(this.$stateParams)||{};delete t.isFromRefineFilter,t.fromSmartFilter=!0,t.smartFilterType=t.smartFilterType?t.smartFilterType+","+e.sectionType:e.sectionType;var n=e.filterValue?e.filterValue:e.name;t.smartFilterValue=t.smartFilterValue?t.smartFilterValue+","+n:n,t.smartFilterSequence=t.smartFilterSequence?t.smartFilterSequence+"::"+e.sectionType:e.sectionType;for(var i=this,s=0,a=0,r=0,o=0,l=[],c=0;c<this.boutiqueDetails.smartFilter.smartFilterSections.length;c++)s+=this.boutiqueDetails.smartFilter.smartFilterSections[c].smartFilterTiles.length;for(var c=0;c<this.boutiqueDetails.smartFilter.smartFilterSections.length;c++){o=0;for(var d=0,u=this.boutiqueDetails.smartFilter.smartFilterSections[c].smartFilterTiles;d<u.length;d++)a++,o++,u[d].name===e.name&&(d=u.length,c=this.boutiqueDetails.smartFilter.smartFilterSections.length);r++}for(var c=0;c<this.boutiqueDetails.smartFilter.appliedSmartFilters.length;c++)l.push(this.boutiqueDetails.smartFilter.appliedSmartFilters[c].name);var m={plp_type:this.plp_type,feed_size:this.boutiqueDetails.totalRecords,sf_name:e.name,sf_segment:e.sectionType,sf_count:s,sf_position:a,sf_segment_order:r,sf_segment_position:o,sf_rule:this.boutiqueDetails.smartFilter.smartFilterRule,sf_applied:l.length?l:null};"products"===this.$state.current.name?(m.product_listing_name=this.plp_name,m.product_listing_id=this.$stateParams.id):m.plp_name=this.plp_name,this.sfSegmentData=m,i._$timeout(function(){i.hideAvailableFilters=!0,i.boutiqueDetails.smartFilter.appliedSmartFilters.push({filterValue:n,name:e.name,sectionType:e.sectionType})},300),i._$timeout(function(){i.$location.search(t)},700)}},{key:"createSmartFilterArgs",value:function(e){for(var t=e.smartFilterType.split(","),n=e.smartFilterValue.split(","),i=0;i<t.length;i++)e[t[i]]=n[i];e.smartFilterType=t[t.length-1],e.smartFilterValue=n[n.length-1],e.smartFiltersApplied=n.length}},{key:"removeSmartFilter",value:function(e,t){this.addAnimation=!1,this.loadDataAnimation=!1,this.hideAvailableFilters=!0;var n=angular.copy(this.$stateParams)||{},i=n.smartFilterType.split(",");if(n.isFromRefineFilter&&(n.isFromRefineFilter=n.isFromRefineFilter),i.length>1){this.isSmartFilter=!0;var s=n.smartFilterValue.split(","),a=n.smartFilterSequence.split("::"),r=i.indexOf(e.sectionType);i.splice(r,1),s.splice(r,1),a.splice(r,1),n.smartFilterType=i.join(","),n.smartFilterValue=s.join(","),n.smartFilterSequence=a.join("::")}else delete n.smartFilterType,delete n.smartFilterValue,delete n.smartFilterSequence;n.fromSmartFilter=!0,delete n[e.sectionType],this.boutiqueDetails.smartFilter.appliedSmartFilters.splice(t,1),this.$location.search(n)}},{key:"initializeVariables",value:function(e){this._$element.find(".available-filters .filter-wrapper")[0]&&(this.clientWidth=this._$element.find(".available-filters .filter-wrapper")[0].clientWidth,this.scrollElement=this._$element.find(".available-filters .scroll-wrap")[0],this.scrollWidth=this.scrollElement.scrollWidth,this.scrollWidth<=this.clientWidth?(this.showRightScroller=!1,this.showLeftScroller=!1):this.showRightScroller=!0,this.maxRight=this.scrollWidth-this.clientWidth),0===e?(this.marginLeft=0,this.showLeftScroller=!1,this.scrollElement&&this.scrollElement.style&&(this.scrollElement.style.left=this.marginLeft+"px")):this.marginLeft=this.marginLeft||0}},{key:"scrollLeft",value:function(){this.showRightScroller=!0,this.initializeVariables(),this.marginLeft+=.7*this.clientWidth,this.marginLeft>=0&&(this.marginLeft=0,this.showLeftScroller=!1),this.scrollElement.style.left=this.marginLeft+"px"}},{key:"scrollRight",value:function(){this.showLeftScroller=!0,this.initializeVariables(),this.marginLeft-=.7*this.clientWidth,Math.abs(this.marginLeft)>this.maxRight&&(this.marginLeft=-this.maxRight,this.showRightScroller=!1),this.scrollElement.style.left=this.marginLeft+"px"}},{key:"deregisterListeners",value:function(){this.searchUpdateListener(),this.locationChangeStartListener(),this.locationChange()}}]),e}();t.BoutiquePLPController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this._DepartmentService=t,this._$state=o,this._$scope=l,this._PageTrackingService=i,this._SegmentService=s,this._ResourceService=a,this._$stateParams=r,this._MetaStateService=c,this.deptId=r.deptId,this._PageTrackingService.setFunnelOld(r.deptId),this.activate()}return e.$inject=["DepartmentService","PageTrackingService","SegmentService","ResourceService","$stateParams","$state","$scope","MetaStateService"],i(e,[{key:"activate",value:function(){this.loadDepartment();var e=this,t=e._$state.current.name;e._MetaStateService.setNewMetaData({title:t,keywords:[],description:""},!0),"department-baby"===t?e._PageTrackingService.setFunnel(e._PageTrackingService.FUNNELS.BABY):"department-girls"===t?e._PageTrackingService.setFunnel(e._PageTrackingService.FUNNELS.GIRLS):"department-boys"===t?e._PageTrackingService.setFunnel(e._PageTrackingService.FUNNELS.BOYS):"department-mom"===t&&e._PageTrackingService.setFunnel(e._PageTrackingService.FUNNELS.MOM),e._$scope.$on("hs.boutique.clicked",function(t,n){n.add_from_details=e.collectionPosition+"_collections",e.trackDepartment(n)}),e._$scope.$watch(function(){return e._ResourceService.getDepartments()},function(t,n){e._departments=t})}},{key:"arrangeDepartmentsPositionWise",value:function(){this.layoutArray=[];for(var e in this.departmentResponse)this.departmentResponse[e].hasOwnProperty("position")&&1!=this.departmentResponse[e].position&&(this.departmentResponse[e].section=e,"trendings"!==e&&"collections"!==e&&(this.layoutArray[this.departmentResponse[e].position]=this.departmentResponse[e]));if(this.departmentResponse.trendingExists){var t=1;for(var n in this.departmentResponse.trendings.items)this.departmentResponse.trendings.items[n].section="trendings",this.layoutArray[this.departmentResponse.trendings.items[n].position]?this.layoutArray.splice(this.departmentResponse.trendings.items[n].position+t++,0,this.departmentResponse.trendings.items[n]):(this.layoutArray[this.departmentResponse.trendings.items[n].position]={},this.layoutArray[this.departmentResponse.trendings.items[n].position]=this.departmentResponse.trendings.items[n]);
}var i=2;for(var e in this.layoutArray)if("stores"!=this.layoutArray[e].section)this.layoutArray[e].position=i++;else for(var s in this.layoutArray[e].items)this.layoutArray[e].items[s].position=i++;this.layoutArray.push(this.departmentResponse.collections),this.layoutArray[this.layoutArray.length-1].position=this.collectionPosition=i}},{key:"loadDepartment",value:function(){var e=this;e._DepartmentService.getDepartmentDetails(e.deptId).then(function(t){e.departmentResponse=t,_(e.departmentResponse.collections.items).forEach(function(t){t.getBoutiqueImage=function(){return t.flexiImageHeight?t.flexiImageUrl:t.imageUrl},t.href=t.specialPageName?e._$state.href("collections",{pageName:t.specialPageName}):t.isTile?t.action:e._$state.href("boutique",{boutiqueId:t.id,boutiqueName:t.title.split(" ").join("-")}),t.isTile&&!t.tileGrid&&(t.imageUrl=t.flexiImageUrl||t.imageUrl,t.tileType="COLLECTION",t.actionUri=t.href,t.tiles=[[t]],t.tiles[0].$_customTileID=t.id)}),e.arrangeDepartmentsPositionWise(),e._SegmentService.setScreen(e._$state.current.name,e.departmentResponse.pageName),e._SegmentService.track(""+e.deptId.toLowerCase()+"_viewed",{previous_click:e._$stateParams.ref,from_screen:e._SegmentService.getScreen(e._SegmentService.get("from_screen")),page_name:e.departmentResponse.pageName})})}},{key:"trackDepartment",value:function(e){e.add_from_details=e.add_from_details.split("_").join("_"+this.departmentResponse.pageName+"_"),this._PageTrackingService.setDepartmentTrackingDetail(e)}}]),e}();t.DepartmentController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._toastr=a,this.boutiques=[],this.$log=s,this.showBoutiques=!1,this.hasMoreData=!1,this.pageNo=0,this.PAGE_SIZE=i.PAGINATION.PAGE_SIZE,this._BoutiqueService=t,this._$stateParams=r,this.isEndingSoon="ending"===this._$stateParams.id,this.header=this.isEndingSoon?"Collections ending soon":"Upcoming collections",this.activate()}return e.$inject=["BoutiqueService","ConfigService","$log","toastr","$stateParams"],i(e,[{key:"activate",value:function(){this.loadBoutiquesPageWise()}},{key:"loadBoutiquesPageWise",value:function(){var e=this,t=void 0,n=void 0;return e.loading=!0,e.pageNo++,t={pageNo:e.pageNo,pageSize:e.PAGE_SIZE,department:e._$stateParams.department,customTileId:e._$stateParams.customTileId},n=e.isEndingSoon?e._BoutiqueService.queryEndingSoon(t):e._BoutiqueService.queryComingSoon(t),n.then(function(t){e.showBoutiques=!0,e.loading=!1;var n=e.isEndingSoon?t.endingSoonList:t.upcomingList;e.boutiques=e.boutiques.concat(n),e.hasMoreData=t.boutiqueTotalCount>e.pageNo*e.PAGE_SIZE},function(t){e.showToastr(t)})}},{key:"showToastr",value:function(e){this._toastr.error(e)}}]),e}();t.ComingSoonBoutiquesController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._toastr=a,this.boutiques=[],this.$log=s,this.showBoutiques=!1,this.hasMoreData=!1,this.PAGE_SIZE=i.PAGINATION.PAGE_SIZE,this._BoutiqueService=t,this.pageNo=0,this.activate()}return e.$inject=["BoutiqueService","ConfigService","$log","toastr","$scope"],i(e,[{key:"activate",value:function(){this.loadBoutiquesPageWise()}},{key:"loadBoutiquesPageWise",value:function(){var e=this;return e.pageNo++,e.loading=!0,e._BoutiqueService.queryBoutiques({pageNo:e.pageNo,pageSize:e.PAGE_SIZE,pageName:"sale"}).then(function(t){e.showBoutiques=!0,e.loading=!1;var n=t.boutiqueList;e.boutiques=e.boutiques.concat(n),e.hasMoreData=t.boutiqueTotalCount>e.pageNo*e.PAGE_SIZE},function(t){e.showToastr(t)})}},{key:"showToastr",value:function(e){this._toastr.error(e)}}]),e}();t.SaleBoutiquesController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p,h,g,f,y,b,S){"ngInject";n(this,e),this._$timeout=v,this._$interval=p,this.toastr=y,this.$log=l,this._$analytics=h,this._SegmentService=b,this._$element=g,this._$window=f,this._ModalService=i,this._$state=u,this.$stateParams=m,this._$scope=c,this._$compile=d,this.configService=a,this._CustomerService=r,this._MetaStateService=S,this.productDetail={},this.productForm=this.productForm||{},this.recommendedProducts={},this._CartService=s,this.addingToCart=!1,this._NOTIFICATION_HTML='<cart-notification product="product"></cart-notification>',this.showRightScroller=!0,this.showLeftScroller=!1,this.showLeftScrollerFirst=!1,this.activeIndex=0,this._PageTrackingService=o,this.loading=!1,this.product?(this.productDetail=this.product,this.productDetail.imgurls=[{imgUrlThumbnail:this.product.smallImg}],this.setDetails()):this.activate(t,u);var _=this,k=this._$scope.$on("$locationChangeStart",function(e,t,n){var i=_._ModalService.isModalActive("size-chart dialog");i&&(_._ModalService.closeSizeChartModal(),e.preventDefault())});this._$scope.$on("$destroy",function(){k()})}return e.$inject=["ProductService","ModalService","CartService","ConfigService","CustomerService","PageTrackingService","$log","$scope","$compile","$state","$stateParams","$timeout","$interval","$analytics","$element","$window","toastr","SegmentService","MetaStateService"],i(e,[{key:"activate",value:function(e,t){this.loadProductDetails(e,t)}},{key:"setDetails",value:function(){var e=this;e.setAttrObject(),e.productDetail.simpleSkus=_.sortBy(e.productDetail.simpleSkus,function(e){return!e.availableQuantity>0}),e.selectSku(e.productDetail.simpleSkus),e.productDetail.hasSamePrice=1==_.chain(e.productDetail.simpleSkus).map("retailPrice").uniq().value().length,e.productDetail.productName=e.productDetail.simpleSkus[0].productName,e.productDetail.isOneSize=1==e.productDetail.simpleSkus.length&&(e.productDetail.simpleSkus[0].attributes.size.toLowerCase()==e.configService.products.ONE_SIZE||e.productDetail.simpleSkus[0].attributes.size.toLowerCase()==e.configService.products.ONESIZE)}},{key:"loadProductDetails",value:function(e,t){var n=this;e.getProductDetail(n.$stateParams.productId).then(function(t){n.originalRetailPrice=t.data.retailPrice,n.productDetail=t.data;var i=n.productDetail.brandName,s=n.productDetail.simpleSkus[0].productName,a=i+" - "+s;n._MetaStateService.setNewMetaData({title:a,keywords:[i.replace(/-|:|_/gi," "),s.replace(/-|:|_/gi," "),n.productDetail.categoryName.replace(/-|:|_/gi," "),n.productDetail.subcategoryName.replace(/-|:|_/gi," "),n.productDetail.productTypeName.replace(/-|:|_/gi," ")],description:a},!0),n.setDetails(),n.maxIndex=n.productDetail.imgurls.length,n._$analytics.eventTrack("productImpression",{ecommerce:{detail:{products:[n.getProductDetailsForAnalytics()]}},productSkus:_.map(n.productDetail.simpleSkus,"skuId"),productId:n.productDetail.id,productName:n.productDetail.productName,productCategory:n.productDetail.categoryId,productPrice:n.productDetail.simpleSkus[0].retailPrice});var r=n._PageTrackingService.getDepartmentTrackingDetail(),o={product_id:n.productDetail.id,sku:_.map(n.productDetail.simpleSkus,"skuId"),name:n.productDetail.productName,brand:n.productDetail.brandName,price:n.productDetail.simpleSkus[0].retailPrice,mrp:n.productDetail.simpleSkus[0].regularPrice,discount_percentage:n.productDetail.simpleSkus[0].discount,category:n.productDetail.categoryName,subcategory:n.productDetail.subcategoryName,product_type:n.productDetail.productTypeName,preorder:n.productDetail.isPresale?"yes":null,sale:n.productDetail.onSale?"yes":null,gender:n.productDetail.simpleSkus[0].gender,colour:n.productDetail.simpleSkus[0].attributes.colour,low_inventory:n.productForm.qtyLeft<4?"yes":null,delivery_days:n.productDetail.maxDeliveryDays,from_age:n.productDetail.fromAge,to_age:n.productDetail.toAge,sizes:n.productDetail.simpleSkus.length,addFrom:r?r.add_from:"current="+location.pathname,addFromDetails:r?r.add_from_details:"funnel="+n._PageTrackingService.getFunnelOld()+"&prev="+n._PageTrackingService.getPrev()[0]};"Photo details"==n._SegmentService.getTrackData().from_screen?(o.from_screen=n._SegmentService.getTrackData().from_screen,o.photo_id=n._SegmentService.getTrackData().photo_id):o.from_screen=n._SegmentService.getScreen(n._SegmentService.get("from_screen")),n._SegmentService.track(n._SegmentService.EVENTS.PRODUCT_VIEWED,o),n.loadRecommended(e),n._CustomerService.isLoggedIn()&&n._CustomerService.getCustomerAddresses().then(function(e){n.addressList=e})},function(e){n.toastr.error(e.data.message),t.go("home")}).then(function(){var e=n._$scope.$watch(function(){return n.productForm.retailPrice},function(e,t){null!=e&&e!=t&&(n.priceUpdated=!0,n._$timeout(function(){n.priceUpdated=!1},1e3))});n._$scope.$on("$destroy",e)})}},{key:"getProductDetailsForAnalytics",value:function(){return{id:this.productDetail.id,name:this.productDetail.productName,brand:this.productDetail.brandName,price:this.productForm.retailPrice,category:this.productDetail.categoryId}}},{key:"loadRecommended",value:function(e){var t=this,n={fromPlp:"boutique",boutiqueId:this.$stateParams.boutiqueId};e.recommendedProducts(t.$stateParams.productId,n).then(function(e){t.recommendedProducts.details=e.data.recommendProductDetailList,t.recommendedProducts.matching=e.data.recommendMatchingDetailList,t.recommendedProducts.title=e.data.recommendationTitle},function(e){t.showToastr(e)})}},{key:"showToastr",value:function(e){this.toastr.error(e)}},{key:"updateProductDetail",value:function(e,t,n){this.productDetail.isDefault=n,this.showSizeError=!1,e&&(t?(this.showSizeSelectorOption=!0,this.productForm.retailPrice=this.originalRetailPrice||e.retailPrice):(this.selectedSkuId=e.skuId,this.showSizeSelectorOption=!1,this.productForm.selectedSku=e,this.productForm.retailPrice=e.retailPrice),this.productForm.regularPrice=e.regularPrice,this.productForm.discount=e.discount,this.productForm.qtyLeft=e.availableQuantity,this.productForm.size=e.attributes.size,this.productForm.isPresale=e.isPresale,this.productForm.finalSale=e.finalSale,this.productForm.deliveryMsg=n&&this.productDetail.edd?this.productDetail.edd.split("Get it ").join(""):e.deliveryMsg,this.productDetail.selectedSkuId=e.skuId)}},{key:"selectSku",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.availableQuantity>0)return this.productDetail.isProductSoldOut=!1,void(e.length>1?this.updateProductDetail(n,!0,!0):this.updateProductDetail(n,!1,!0))}this.updateProductDetail(e[0],!1),this.productDetail.isProductSoldOut=!0}},{key:"setAttrObject",value:function(){for(var e=0;e<this.productDetail.simpleSkus.length;e++){var t=this.productDetail.simpleSkus[e];t.attributes={};for(var n=0;n<t.attrs.length;n++)t.attributes[t.attrs[n].name.toLowerCase()]=t.attrs[n].value}}},{key:"showSizeChart",value:function(){var e=this,t=e.productDetail;t.productId=e.product?e.product.id:e.$stateParams.productId,t.productName=e.product?e.product.name:e.productDetail.productName,e._ModalService.showSizeChartModal(t)}},{key:"showSizeSelector",value:function(){this.showSizeSelectorOption&&this.productDetail.simpleSkus.length>1?this._ModalService.showProductSizeSelector(this.productDetail,this.addToCart.bind(this)):this.addToCart()}},{key:"addToCart",value:function(e){var t=this;if(!this.productForm.selectedSku&&!e)return void(this.showSizeError=!0);if((this.productForm.selectedSku||e).skuId){var n=e?e:t.productForm.selectedSku;this.addingToCart=!0;var i=this._PageTrackingService.getDepartmentTrackingDetail(),s={sku:n.skuId,quantity:1,source:t._PageTrackingService.data.source,funnel:t._PageTrackingService.data.funnel,section:t._PageTrackingService.data.section,subSection:t._PageTrackingService.data.sub_section,plp:t._PageTrackingService.data.plp,quickshop:"product"!==t._$state.current.name?t._PageTrackingService.YES:t._PageTrackingService.NO,addFrom:i?i.add_from:"current="+location.pathname,addFromDetails:i?i.add_from_details:"funnel="+t._PageTrackingService.getFunnelOld()+"&prev="+t._PageTrackingService.getPrev()[0]},a=t.getProductDetailsForAnalytics();a.id=t.productDetail.id,a.quantity=1;for(var r={ecommerce:{currentCode:"INR",add:{products:[a]}}},o={product_id:t.productDetail.id,sku:s.sku,price:n.retailPrice,mrp:n.regularPrice,discount_percentage:n.discount,quantity:s.quantity,subtotal:n.retailPrice*s.quantity,delivery_days:n.maxDeliveryDays,name:n.productName,category:t.productDetail.categoryName,subcategory:t.productDetail.subcategoryName,product_type:t.productDetail.productTypeName,brand:t.productDetail.brandName,gender:n.gender,from_age:n.fromAge,to_age:n.toAge,preorder:n.isPresale?"yes":null,sale:n.onSale?"yes":null,colour:"",size:"",quick_shop:"product"!==t._$state.current.name?"yes":null,add_from:s.addFrom,add_from_details:i?i.add_from_details:"funnel="+t._PageTrackingService.getFunnelOld()+"&prev="+t._PageTrackingService.getPrev()[0]},l=0;l<n.attrs.length;l++)"size"===n.attrs[l].name.toLowerCase()?o.size=n.attrs[l].value:"colour"===n.attrs[l].name.toLowerCase()&&(o.colour=n.attrs[l].value);var c=t._CartService.addItemToCart(s,r);c.closePromise?(t.addingToCart=!1,c.closePromise.then(function(e){"success"===e.value&&(c=t._CartService.addItemToCart(s,r),c.then?(t.loading=!0,c.then(function(){t.addingToCart=!1,t.showNotification(n),t.loading=!1,t._SegmentService.track(t._SegmentService.EVENTS.ADDED_TO_CART,o)},function(e){t.addingToCart=!1,t.showToastr(e.data.message),t.loading=!1})):t.$log.error("ERROR, Not logged in even after successful login!!"))})):(t.loading=!0,c.then(function(){t.addingToCart=!1,t.showNotification(n),t.loading=!1,t._SegmentService.track(t._SegmentService.EVENTS.ADDED_TO_CART,o)},function(e){t.addingToCart=!1,t.showToastr(e.data.message),t.loading=!1}))}}},{key:"showNotification",value:function(e){var t=this,n=t._$scope.$new();e.isOneSize=t.productDetail.isOneSize,e.imgUrl=t.productDetail.imgurls[0].imgUrlThumbnail,n.product=e;var i=t._$compile(t._NOTIFICATION_HTML)(n);t._$timeout(function(){t.toastr.success(i.html(),"",{allowHtml:!0,closeButton:!1,toastClass:"notification-wrapper",autoDismiss:!0,timeOut:2250,onTap:function(){t._ModalService.showCartModal()}})},100)}},{key:"initializeVariables",value:function(){this.left=this.left||0,this.clientWidth=this.clientWidth||this._$element.find(".pdp-images-container")[0].clientWidth,this.scrollElement=this.scrollElement||this._$element.find(".pdp-images")[0],this.scrollWidth=this.scrollWidth||this.scrollElement.scrollWidth}},{key:"scrollLeft",value:function(){if(this.showLeftScrollerFirst=!0,this.activeIndex>0){this.activeIndex--,this.showRightScroller=!0,this.initializeVariables();var e=this._$element.find(".pdp-image-"+this.activeIndex)[0].clientWidth+12;(this.clientWidth-e)/2>60&&(e=this.activeIndex>0?e:e-72),this.left+=e,(this.left>=0||0==this.activeIndex)&&(this.left=0,this.showLeftScroller=!1),this.scrollElement.style.left=this.left+"px"}}},{key:"scrollRight",value:function(){if(this.showLeftScrollerFirst=!0,this.maxIndex>this.activeIndex+1){this.showLeftScroller=!0,this.initializeVariables(),this.scrollWidth<=this.clientWidth&&(this.showLeftScroller=this.showRightScroller=!1),this.maxRight||(this.maxRight=this.scrollWidth-this.clientWidth);var e=this._$element.find(".pdp-image-"+this.activeIndex)[0].clientWidth+12;(this.clientWidth-e)/2>60&&(e=this.activeIndex>0?e:e-72),this.left-=e,Math.abs(this.left)>this.maxRight&&((this.clientWidth-e)/2>60?this.left=-(this.maxRight+72):this.left=-this.maxRight,this.showRightScroller=!1),this.scrollElement.style.left=this.left+"px",this.activeIndex++}}},{key:"showPincodeChecker",value:function(){var e={pid:this.productDetail.id,addressList:this.addressList||null,pincode:this.productDetail.pinCode||null},t={from_screen:"Product details",from_pincode:e.pincode||"standard"};this._winScrollY=this._$window.scrollY,this._SegmentService.track(this._SegmentService.EVENTS.PINCODE_CHECK_CLICKED,t),this._ModalService.showPincodeChecker(e,this.onUpdatedEdd.bind(this),this.onUpdatedEdd.bind(this))}},{key:"onUpdatedEdd",value:function(e){if(e&&e.simpleSkus){for(var t=0;t<this.productDetail.simpleSkus.length;t++){var n=this.productDetail.simpleSkus[t],i=e.simpleSkus[n.skuId];for(var s in i)angular.isDefined(n[s])&&(n[s]=i[s])}this.productDetail.edd=e.edd,this.productDetail.pinCode=e.newPincode,this.productDetail.eddPrefix=e.eddPrefix,this.productDetail.deliveryMessages=e.deliveryMessages}}},{key:"getEddTitle",value:function(){return this.productForm.selectedSku?this.productForm.selectedSku.eddPrefix+this.productForm.selectedSku.deliveryMsg+(this.productDetail.pincode?" to "+this.productDetail.pincode:""):this.productDetail.eddPrefix+this.productDetail.edd+(this.productDetail.pincode?" to "+this.productDetail.pincode:"")}},{key:"getEddStyle",value:function(){return this.productForm.selectedSku?{color:this.productForm.selectedSku.eddTextColor,"background-color":this.productForm.selectedSku.eddColor}:{color:this.productDetail.eddTextColor,"background-color":this.productDetail.eddColor}}},{key:"showInternationaPreorder",value:function(){return this.productForm.selectedSku?this.productForm.selectedSku.isInternationalPreorder:this.productDetail.isInternationalPreorder}}]),e}();t.ProductDetailsController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this._$state=s,this._$timeout=a,this._$rootScope=r,this._ConfigService=t,this._STATE_NAMES={REVIEW:"checkout.review",DELIVERY:"checkout.delivery",PAYMENT:"checkout.payment"},this.CustomerService=o,this.DeliveryService=l,this.CartService=c;var d=this,u=i.$on("$stateChangeSuccess",function(){d.setStepClasses()}),m=i.$on("checkout.stepChanged",function(){d.setStepClasses(),d.trackCheckout()});i.$on("$destroy",function(){u(),m()})}return e.$inject=["ConfigService","$scope","$state","$timeout","$rootScope","CustomerService","DeliveryService","CartService"],i(e,[{key:"setStepClasses",value:function(){this.reviewStep={inactive:!0,done:!1},this.deliveryStep={inactive:!0,done:!1},this.paymentStep={inactive:!0,done:!1,fail:!1},this._$state.current.name==this._STATE_NAMES.REVIEW?this.reviewStep.inactive=!1:this._$state.current.name==this._STATE_NAMES.DELIVERY?(this.reviewStep.done=!0,this.deliveryStep.inactive=!1):this._$state.current.name==this._STATE_NAMES.PAYMENT&&(this.reviewStep.done=!0,this.deliveryStep.done=!0,this.paymentStep.inactive=!1,this._$state.params.paymentResult&&this._$state.params.orderId&&(this.paymentStep.fail=!0))}},{key:"trackCheckout",value:function(){this._$state.includes("checkout.review")&&this.CartService.trackCheckout(2,"checkout-review"),this._$state.includes("checkout.delivery")&&this.CartService.trackCheckout(3,"checkout-delivery"),this._$state.includes("checkout.payment")&&this.CartService.trackCheckout(4,"checkout-payment")}},{key:"editStep",value:function(e,t){this[t].done&&this.unNotifiedStateTransitionTo(this,e)}},{key:"unNotifiedStateTransitionTo",value:function(e,t){e._$state.go(t,{},{notify:!1}),e._$timeout(function(){e._$rootScope.$broadcast("checkout.stepChanged")})}}]),e}();t.CheckoutController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p){"ngInject";n(this,e),this._ConfigService=i,this._SegmentService=o,this._$stateParams=c,this._$cookies=l;var h=p.search()||{},g=this._$stateParams.orderPlaced||h.orderPlaced;"true"===g?d.go("orderconfirmed",{orderId:c.orderId,amplitude:1},{location:"replace"}):(s.setCartItemQty(0),this.activate(t,i,a,r,m,l,c.orderId))}return e.$inject=["OrderService","ConfigService","CustomerService","LocalStorageService","AnalyticsUtil","SegmentService","$cookies","$stateParams","$state","toastr","$analytics","$timeout","$location"],i(e,[{key:"activate",value:function(e,t,n,i,s,a,r){var o=this;e.getOrderDetails(r).then(function(e){for(var a={type:"thank_you",geo:"sg",account_id:"VIZVRM2911",vertical:"ecommerce",orderid:e.data.orderId,orderprice:e.data.totalPayment},l=1,c=[],d=[],u=[],m=[],v={ecommerce:{purchase:{actionField:{id:r,revenue:e.data.totalPayment,shipping:e.data.postage},products:i.extractProductsForTrackingFromOrderResponse(e.data)}},vizParamsForThankYou:a,orderId:e.data.orderId,orderAmount:e.data.totalPayment,paymentMethod:e.data.payMethod,purchasePrices:c,purchaseQtys:d,purchaseSkus:u,purchaseProductIds:m},p=e.data.loyaltyCreditDiscount+e.data.merchandiseCreditDiscount+e.data.welcomeCreditDiscount+e.data.referralCreditDiscount,h=[],g=0,f=0;f<e.data.subOrderList.length;f++,l++)for(var y=e.data.subOrderList[f],b=0;b<y.customerProductResponses.length;b++){var S=y.customerProductResponses[b];a["pid"+l]=S.id,m.push(S.id),c.push(parseFloat(S.retailPrice)),d.push(parseInt(S.number)),u.push(S.sku),h.push({product_id:S.id,sku:S.sku,price:S.retailPrice,mrp:S.regularPrice,discount_percentage:e.data.discountPercentage,quantity:S.number,revenue:S.retailPrice*S.number,delivery_days:S.deliveryDays,name:S.name,category:S.category,subcategory:S.subcategory,product_type:S.productType,brand:S.brand,gender:S.gender,from_age:S.fromAge,to_age:S.toAge,preorder:S.isPresale?"yes":null,sale:S.onSale?"yes":null,order_id:e.data.orderId,payment_method:e.data.payMethod,city:e.data.shipToCity,state:e.data.shipToState,pincode:e.data.shipToZipCode,source:S.source,funnel:S.funnel,section:S.section,subsection:S.subSection,plp:S.plp,quickshop:S.quickshop,atc_date:S.atc_date,atc_site:S.site});for(var _=0;_<S.skuAttrs.length;_++)"size"===S.skuAttrs[_].name.toLowerCase()?h[h.length-1].size=S.skuAttrs[_].value:"colour"===S.skuAttrs[_].name.toLowerCase()&&(h[h.length-1].colour=S.skuAttrs[_].value);g+=S.number}var k="",w="";e.data.orderPromotions.length&&(k=e.data.orderPromotions[0].promotionCode,w=e.data.orderPromotions[0].discount);var C={products:h,order_details:{order_id:e.data.orderId,total_item_price:e.data.totalItemPrice,total_amount:e.data.totalPayment,discount_percentage:e.data.discountPercentage,promotion_discount:w,promo_code:k,credit:p,shipping:e.data.postage,net_amount:e.data.totalPayment,sku_count:h.length,total_quantity:g,payment_method:e.data.payMethod,city:e.data.shipToCity,state:e.data.shipToState,pincode:e.data.shipToZipCode}};e.data.firstOrder&&(C.order_details.first_order="Yes"),1===o._$stateParams.amplitude&&(o._SegmentService.track(o._SegmentService.EVENTS.ORDER_COMPLETED,C),s.eventTrack("purchase",v)),o.orderDetails=e.data,o.orderDetails.paymentType=Object.keys(o.orderDetails.paymentDetail)[0]||("OWP"==o.orderDetails.payMethod?"Paid using credits":""),o.isIVRVerified=n.getData("hs-"+t.IS_IVR_VERIFIED)})}}]),e}();t.PaymentResultController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function s(e,t,i,a,r){"ngInject";n(this,s);var o=function(){e.loginUsingTicket(t.crmTicket).then(function(){i(function(){a.go("home")})},function(e){r.error(e.data&&e.data.message||"Invalid or expired ticket."),a.go("home")})};e.isLoggedIn()?e.logout().then(o):o()};i.$inject=["CustomerService","$stateParams","$timeout","$state","toastr"],t.PlaceOrderForCustomerController=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m){"ngInject";n(this,e),this._MomentsService=t,this._ModalService=i,this._CustomerService=s,this._SegmentService=a,this._ConfigService=o,this._$timeout=l,this._$scope=c,this._$state=u,this._$cookies=d,this._toastr=m,this.visible=!0,this.isMoments=u.includes("moments"),this.allowABTest=!1,this._params={pageNo:1,pageSize:50},this.momentsUpdated=!0,r.setFunnel(r.FUNNELS.MOMENTS),this.activate()}return e.$inject=["MomentsService","ModalService","CustomerService","SegmentService","PageTrackingService","ConfigService","$timeout","$scope","$cookies","$state","toastr"],i(e,[{key:"activate",value:function(){var e=this;e.locationChange=e._$scope.$on("$locationChangeSuccess",function(t,n,i,s,a){"upload"===e._$state.params.upload&&e.momentUpload()}),"upload"===e._$state.params.upload&&e.momentUpload(),e.momentsLoading=!0,this._MomentsService.getMomentsData.momentsPhotos.length?(e.visible=!1,e.moments=this._MomentsService.getMomentsData.momentsPhotos,e.handleABTestParams(),e.allowABTest&&(e.popularMoments=e.moments.filter(function(e){return!!e.isPopular}),e.moments=e.moments.filter(function(e){return!e.isPopular})),e.hideLoadMore=e._MomentsService.getMomentsData.end,e._$scope.$evalAsync(function(){e._$timeout(function(){angular.element("html, body").animate({scrollTop:e._MomentsService.getMomentsData.scrolly},1,function(){e.visible=!0,e.momentsLoading=!1,e._$scope.$apply()})})})):(e.visible=!0,this._MomentsService.getMoments(this._params,this.isMoments).then(function(t){e.handleABTestParams(),(0==t.data.momentsPhotos.length||t.data.momentsPhotos.length<e._params.pageSize)&&(e.hideLoadMore=!0),e.moments=t.data.momentsPhotos,e._MomentsService.getMomentsData.momentsPhotos=angular.copy(t.data.momentsPhotos),e.allowABTest&&(e.popularMoments=e.moments.filter(function(e){return!!e.isPopular}),e.moments=e.moments.filter(function(e){return!e.isPopular})),e.momentsLoading=!1,e._SegmentService.track(e._SegmentService.EVENTS.MOMENTS_VIEWED,e._SegmentService.getTrackData())},function(t){e._toastr.error(t.data.message),e.momentsLoading=!1})),this.isMoments&&e._$scope.$on("hs.moments.uploaded",function(t,n){e.momentsUpdated=!1,e.moments=[n].concat(e.moments),e._$timeout(function(){e.momentsUpdated=!0})})}},{key:"handleABTestParams",value:function(){var e=this._$cookies.get(this._ConfigService.AB_TEST_COOKIE_NAME);if(e){var t=e.replace(/['"]+/g,"").split(","),n=void 0;t.length&&(n=t.filter(function(e,t){return e.indexOf("moments_")>-1}),n[0]&&"section"==n[0].split("_")[1]&&(this.allowABTest=!0))}}},{key:"momentUpload",value:function(){var e=this;e._SegmentService.resetTrackData(),e._SegmentService.setTrackData("from_screen","Moments"),e._SegmentService.setTrackData("from_location","Add moment button"),e._CustomerService.isLoggedIn()?(e._ModalService.showMomentUploadModal(),e._SegmentService.setTrackData("user_status","Signed in")):(e._toastr.info("Please login to upload moments."),e._SegmentService.setTrackData("user_status","Guest"),e._SegmentService.set("from_screen","Moments"),e._SegmentService.set("from_location","Add moment button"),e._ModalService.showLoginModal().closePromise.then(function(t){"success"===t.value?e._ModalService.showMomentUploadModal():(e._$state.go("moments",{upload:""},{reload:!1,notify:!1}),e._SegmentService.setTrackData("upload_eligibility","Guest"),e._SegmentService.track(e._SegmentService.EVENTS.PHOTO_UPLOAD_CLICKED,e._SegmentService.getTrackData()))}))}},{key:"viewMoreMoments",value:function(){var e=this,t=this;t._MomentsService.getMomentsData.momentsPhotos.length&&(t._MomentsService.getMomentsData.end||this.loadingMoreMoments||(this._params.pageNo=t._MomentsService.getMomentsData.lastPage+1,this.loadingMoreMoments=!0,this._MomentsService.getMoments(this._params,this.isMoments).then(function(n){t.loadingMoreMoments=!1,(0==n.data.momentsPhotos.length||n.data.momentsPhotos.length<t._params.pageSize)&&(t.hideLoadMore=!0),t.moments=t.moments.concat(n.data.momentsPhotos),t._MomentsService.getMomentsData.momentsPhotos=t.moments,n.data.momentsPhotos.length>0&&(t._MomentsService.getMomentsData.lastPage=e._params.pageNo),n.data.momentsPhotos.length<t._params.pageSize&&(t._MomentsService.getMomentsData.end=!0)},function(e){t.loadingMoreMoments=!1,t._toastr.error(e.data.message),t.momentsLoading=!1})))}}]),e}();t.MomentsController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){"ngInject";n(this,e);var s=this;s.AppStateService=t,s._MetaStateService=i}return e.$inject=["AppStateService","MetaStateService"],i(e,[{key:"getMetaInfo",value:function(e){return this._MetaStateService.queryMetaInfo(e)}},{key:"showOverlay",value:function(){return this.AppStateService.isShowOverlay()}},{key:"disableScroll",value:function(){return this.AppStateService.isScrollDisabled()}}]),e}();t.AppController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this._CustomerService=t,this._AppStateService=r,this._$window=o,this.$timeout=i,this._$scope=l,this.$state=s,this.toastr=a,this.userName=t.getCustomerFirstName(),this.userInfo=t.getCustomerInfo(),this.email=t.getCustomerEmail(),this.credit=0,this.isDisabled=!1,this.updateCardsCount=0,this.showCardWrapper=!1,this.userInfo.facebookProfile&&this.userInfo.facebookProfile.profilePhoto?this.userInfo.profilePhoto=this.userInfo.facebookProfile.profilePhoto:this.nameInitial=this.userInfo.firstName.substr(0,1)+this.userInfo.lastName.substr(0,1),this.menu=[{id:1,name:"Orders",state:"account.detail.orders",icon:"icon-account-menu-orders"},{id:2,name:"My Moments",state:"account.detail.moments",icon:"icon-account-menu-my-moments"},{id:3,name:"Stored cards",state:"account.detail.stored-card",icon:"icon-account-menu-stored-card"},{id:99,name:"Credits",icon:"icon-account-menu-my-credits",state:"no-state"},{id:100,name:"Sign Out",state:"no-state",icon:"icon-account-menu-sign-out"}];var d=this;d._$scope.$on("$locationChangeStart",function(e,t,n){d.isMobieDevice()&&0!=d.activeMenuPanel&&""!=d.activeMenuPanel&&(d.activeMenuPanel=0,t.indexOf("my/account/")>-1&&e.preventDefault());
}),this.isMobieDevice()?this.activeMenuPanel=0:this.activeMenuPanel=this.getMenuName(this.$state.current.name),this.activate()}return e.$inject=["CustomerService","$timeout","$state","toastr","AppStateService","$window","$scope","$location"],i(e,[{key:"activate",value:function(){this.getMyAccountDetails()}},{key:"getMyAccountDetails",value:function(){var e=this;e._CustomerService.getMyAccountDetails().then(function(t){e.credit=t.data.credit})}},{key:"logout",value:function(){var e=this;e.isDisabled=!0,this._CustomerService.logout().then(function(t){e.$timeout(function(){e.$state.go("home")})},function(t){e.isDisabled=!1,e.toastr.error(t.data.message)})}},{key:"isMobieDevice",value:function(){return"mobile"==this._AppStateService.getDeviceType()}},{key:"getMenuName",value:function(e){var t=(e||this.menu[0].state,void 0);return this.menu.forEach(function(n){n.state==e&&(t=n.name)}),t}},{key:"goToMenu",value:function(e,t){var n=this;return 100==e.id?(n.logout(),t.preventDefault(),void t.stopPropagation()):[99].indexOf(e.id)>-1?(t.preventDefault(),void t.stopPropagation()):(n.isMobieDevice()&&n._$window.scrollTo(0,0),n.activeMenuPanel="",void n.$timeout(function(){n.activeMenuPanel=n.getMenuName(e.state)},600))}}]),e}();t.AccountDetailController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={OD:"icon-bill success ",SD:"icon-shipped success ",RT:"icon-return intermediate ",WR:"icon-return intermediate ",RF:"icon-refunded success ",DD:"icon-checkmark success ",CD:"icon-cancelled failure ",CO:"icon-cancelled failure ",CC:"icon-cancelled failure ",WC:"icon-cancelled failure ",WP:"icon-exclamation-24-dp failure ",PF:"icon-exclamation-24-dp failure ",PV:"icon-pendingverfication failure "},a=function(){function e(t,i,s,a){"ngInject";n(this,e),this._OrderService=t,this._ModalService=s,this.toastr=a,this.orders=[],this.loadMoreDetails={pageNo:1,pageSize:i.PAGINATION.PAGE_SIZE},this.showLoadMore=!1,this.showPlaceholder=!0,this.showEmpty=!1,this.RETURN_MODAL_CLICK_LIMIT=3,this.activate()}return e.$inject=["OrderService","ConfigService","ModalService","toastr"],i(e,[{key:"activate",value:function(){this.loadOrderLists()}},{key:"loadOrderLists",value:function(){var e=this;e.loadingOrders=!0,e.loadMoreOrders=!0,e._OrderService.getOrders(e.loadMoreDetails).then(function(t){var n=t.data.orders,i=t.data.totalRecords;return e.loadingOrders=!1,e.showPlaceholder=!1,e.loadMoreOrders=!1,0===i?void(e.showEmpty=!0):(_.each(n,function(e){for(var t=0;t<e.shipments.length;t++)e.shipments[t].totalOrders=_.sumBy(e.shipments[t].products,"itemCounts"),e.shipments[t].classes=s[e.shipments[t].orderStatusCode]||"icon-bill success ";return e}),e.orders=e.orders.concat(n),void(i>e.loadMoreDetails.pageNo*e.loadMoreDetails.pageSize?(e.loadMoreDetails.pageNo++,e.showLoadMore=!0):e.showLoadMore=!1))},function(t){e.loadMoreOrders=!1,e.loadingOrders=!1,e.showToastr()})}},{key:"showToastr",value:function(){this.toastr.error("Error trying to load list of orders!!!")}}]),e}();t.OrdersListController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._ProductService=s,this._ModalService=a,this._toastr=r,this._OrderService=i,this._$stateParams=t,this.orderDetail={},this.RETURN_MODAL_CLICK_LIMIT=3,this.EDD_STATUS=["TS","OD","PP","OR","OO","OC","PC","SD","DD"],this.activate()}return e.$inject=["$stateParams","OrderService","ProductService","ModalService","toastr"],i(e,[{key:"activate",value:function(){var e=this,t=this;t.totalItemInOrder=0,t._OrderService.getOrderDetails(t._$stateParams.orderId).then(function(n){t.orderDetail=n.data,t.orderDetail.returnClickCount=0,t.orderDetail.totalCreditsUsed=t.orderDetail.loyaltyCreditDiscount+t.orderDetail.merchandiseCreditDiscount+t.orderDetail.referralCreditDiscount,_.each(t.orderDetail.subOrderList,function(n){n.totalItems=_.sumBy(n.customerProductResponses,"number"),t.totalItemInOrder=t.totalItemInOrder+n.totalItems,_.each(n.customerProductResponses,function(t){_.includes(["RF","RT","CD","CC","CO","WC"],t.orderProductStatus)&&(t.classes="hasOverlay"),_.each(t.skuAttrs,function(e){"Size"===e.name&&(t.sizeValue=e.value)}),t.productUrl=e._ProductService.getProductDashedUrl(t),t.displayPrice=t.regularPrice*t.number,t.discountPrice=t.displayPrice-t.priceAfterAllDiscount})}),e._$stateParams.orderItemId&&t.trackItem(e._$stateParams.orderItemId,"")},function(e){t.showToastr(e)})}},{key:"showToastr",value:function(e){this._toastr.error(e.data.message)}},{key:"trackItem",value:function(e,t){var n={orderItemId:e,imgUrl:t};this._ModalService.showOrderTrackModal(n)}}]),e}();t.OrderDetailController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m){"ngInject";n(this,e),this._$stateParams=t,this._ModalService=i,this._$location=s,this._$anchorScroll=a,this._AppStateService=r,this._OrderService=u,this._$timeout=o,this._$window=l,this._$scope=c,this._$document=d,this._toastr=m,this.milestoneWrapperWidht=476,this.eachMilestone=36,this.activeMilestoneExtraWidth=0,this.baseData=this._$scope.ngDialogData,this.milestoneIconCodeClasses={OP:"icon-tracking-milestone-op",PAV:"icon-tracking-milestone-pav",IH:"icon-tracking-milestone-ih",SD:"icon-tracking-milestone-sd",DD:"icon-tracking-milestone-dd",CD:"icon-tracking-milestone-cd",RF:"icon-tracking-milestone-rf",RT:"icon-tracking-milestone-rt"},this.loading={orderTrackSummary:!1,orderTrackData:!1},this.showScroller={left:!1,right:!0},this.loadScroller=!1,this.activate()}return e.$inject=["$stateParams","ModalService","$location","$anchorScroll","AppStateService","$timeout","$window","$scope","$document","OrderService","toastr"],i(e,[{key:"activate",value:function(){this.getOrderTrackData();var e=this;e._$timeout(function(){e.loadScroller=!0},2e3)}},{key:"getOrderTrackData",value:function(){var e=this,t=this;t.loading.orderTrackSummary=!0,t.loading.orderTrackData=!0,t._OrderService.trackOrder(t.baseData.orderItemId).then(function(n){t.orderTrackingData=n.data,t.loading.orderTrackSummary=!1,t.activeMilestoneIndex=_.findIndex(t.orderTrackingData.milestones,function(e){return e.presentMilestone}),t.showMilestoneLog(null,!0),t.getOrderTrackDetails(),t.showScroller.right=t.orderTrackingData.otherShipmentItems.length>4,t.loading.orderTrackData=!1,e.baseData.imgUrl||(e.baseData.imgUrl=t.orderTrackingData.imgUrl)},function(e){t._toastr.error(e.data.message),t.closeOrderTrackModal()})}},{key:"setMilestoneForDesktop",value:function(e){var t=this,n=2,i=24,s=2*(2*i+t.eachMilestone),a=t.milestoneWrapperWidht-t.activeMilestoneExtraWidth-s,r=e-n,o=a/r,l=(o-t.eachMilestone)/2;t.connectorStyle={width:Math.floor(l)+"px"}}},{key:"setMilestoneForMobile",value:function(e){var t=this,n=this._$document[0].body.offsetWidth,i=3,s=n-this.activeMilestoneExtraWidth,a=s/i,r=(a-t.eachMilestone)/2;t.connectorStyle={width:r+"px"},this.scrollMilestoneTo(t.activeMilestoneIndex,!0),this.showMilestoneDetailsMobile(this.activeMilestoneIndex,!0,!0)}},{key:"getOrderTrackDetails",value:function(){"mobile"==this._AppStateService.getDeviceType()?this.setMilestoneForMobile(this.orderTrackingData.milestones.length):this.setMilestoneForDesktop(this.orderTrackingData.milestones.length)}},{key:"closeOrderTrackModal",value:function(){this._ModalService.closeOrderTrackModal()}},{key:"showMilestoneLog",value:function(e,t){var n=this;n.orderTrackingData.milestones.forEach(function(i,s){t?i.presentMilestone&&(i.presentMilestone=!0,n.currentLogs=i.timeLogs,n.emptyLogRemarks=i.remark):s==e?(i.presentMilestone=!0,n.currentLogs=i.timeLogs,n.emptyLogRemarks=i.remark):i.presentMilestone=!1}),n.expandLogs=!1}},{key:"scrollMilestoneTo",value:function(e,t){var n=2*this.connectorStyle.width.split("px")[0]+this.eachMilestone,i=e*n;this.milestoneScrollStyle={left:0,transition:"left 500ms ease-in-out"};var s=this;t?this._$timeout(function(){s.milestoneScrollStyle.left="-"+i+"px"},1e3):(s.milestoneScrollStyle.left="-"+i+"px",s.milestoneScrollStyle.transition="left 500ms ease-in-out")}},{key:"showMilestoneDetailsMobile",value:function(e,t,n){this.scrollMilestoneTo(e,n),this.showMilestoneLog(e,t)}},{key:"getMilestoneIconClass",value:function(e){var t=this.milestoneIconCodeClasses[e.code]?this.milestoneIconCodeClasses[e.code]:" icon-tracking-milestone ",n=e.presentMilestone?" present-milestone":" inactive-milestone";return n+" "+t}},{key:"trackShipment",value:function(e){this.baseData={orderItemId:this.orderTrackingData.otherShipmentItems[e].productId,imgUrl:this.orderTrackingData.otherShipmentItems[e].imgUrl},this.getOrderTrackData()}}]),e}();t.OrderTrackController=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){"ngInject";return{restrict:"E",link:function(e,t,n){if("text/javascript-lazy"==n.type){var i=new Function(t.text());i()}}}};t.LazyScriptLoad=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/account/order/order-detail/order-detail-item.html",controller:"OrderDetailItemController",controllerAs:"vm",bindings:{product:"=",borderTop:"=",borderBottom:"=",onTrackItem:"&",isDelayed:"="}};t.OrderDetailItemComponent=s;var a=function(){function e(t){"ngInject";n(this,e),this.orderDetailContainer=angular.element("#order-details-container"),this._$scope=t,"Cancellation in process"==this.product.orderStatusDescription&&(this.cancellationIcon="cd",this.cancellationNotification=this.product.orderStatusDescription)}return e.$inject=["$scope"],i(e,[{key:"getMilestoneIconClasses",value:function(){var e={};return e["icon-tracking-milestone-"+(this.cancellationIcon||this.product.milestone.code).toLowerCase()]=!0,this.isDelayed&&(e["delayed-item"]=!0),e}},{key:"openTooltip",value:function(){this.product.showTooltip=!0;var e=this;this.orderDetailContainer.on("click",function(t){angular.element(".tooltip-on").length>0&&e._$scope.$apply(function(){e.closeTooltip()})})}},{key:"closeTooltip",value:function(e){this.product.showTooltip=!1,this.orderDetailContainer.off("click"),e&&e.stopPropagation()}},{key:"tooltipBodyClick",value:function(e){e.stopPropagation()}}]),e}();t.OrderDetailItemController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a){"ngInject";n(this,e),this._$state=i,this._$log=s,this._orderService=t,this.VIEW_NAMES={LIST:"list",REASON:"reason",REFUND:"refund"},this.toastr=a,this.loading=!0,this.activate()}return e.$inject=["OrderService","$state","$log","toastr"],i(e,[{key:"activate",value:function(){this.setStepClasses(this.VIEW_NAMES.LIST),this.getCancellableOrderDetails()}},{key:"setStepClasses",value:function(e){this.listStep={inactive:!0,done:!1},this.reasonStep={inactive:!0,done:!1},this.refundStep={inactive:!0,done:!1},e==this.VIEW_NAMES.LIST?this.listStep.inactive=!1:e==this.VIEW_NAMES.REASON?(this.listStep.done=!0,this.reasonStep.inactive=!1):e==this.VIEW_NAMES.REFUND&&(this.listStep.done=!0,this.reasonStep.done=!0,this.refundStep.inactive=!1)}},{key:"editStep",value:function(e,t){this[t].done&&this._$state.go(e)}},{key:"goToStep",value:function(e){this[e+"Step"].done&&this.setStepClasses(e)}},{key:"getCancellableOrderDetails",value:function(){var e=this;e.orderId=e._$state.params.orderId,e._orderService.getCancellableItemsForOrder(e.orderId).then(function(t){e.cancellationData=t.data,e.cancellationData.cancelItemCount=0,e.setRefundDetails(),e.loading=!1},function(t){e.loading=!1,e.toastr.error(t.data.message),e._$state.go("account.orders")})}},{key:"updateRefundData",value:function(){var e=this;e.cancellationData.totalRefund=0,e.cancellationData.refundAmount=0,e.cancellationData.refundCredits=0,e.cancellationData.cancelItemCount=0,_.each(e.cancellationData.cancellableOrderItems,function(t){t.isCancelled&&(e.cancellationData.cancelItemCount++,e.cancellationData.refundAmount+=t.itemAmount,e.cancellationData.refundCredits+=t.itemCredit,e.cancellationData.totalRefund+=t.itemRefund)})}},{key:"setRefundDetails",value:function(){var e=this;e.cancellationData.refundModes&&e.cancellationData.refundModes.length&&(_.each(e.cancellationData.refundModes,function(e){"B"===e.refundType?e.refundTitle="Refund to original payment mode":"M"===e.refundType&&(e.refundTitle="Hopscotch merchandise credits")}),_.reverse(e.cancellationData.refundModes))}},{key:"changeReason",value:function(){this.otherCancellationReason=""}},{key:"cancelOrder",value:function(){var e=this;this.cancellingOrder=!0;var t={refund_type:e.cancellationRefundMode,master_order_id:e.cancellationData.cancellableOrderItems[0].orderId,cancel_order_request_items:_.chain(e.cancellationData.cancellableOrderItems).filter({isCancelled:!0}).map(function(e){return{order_id:e.orderId,sku:e.sku,qty:e.cancelQty}}).value(),cancel_reason_id:parseInt(e.cancellationReasonData.id),cancel_comment:e.otherCancellationReason||""};e._orderService.cancelOrder(t).then(function(t){e.toastr.success(t.data.message),e._$state.go("account.orderDetail",{orderId:e.orderId}),e.cancellingOrder=!1},function(t){e.toastr.error(t.data.message),e._$log.error(t),e.cancellingOrder=!1})}}]),e}();t.CancellationController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/cancellation/cancellable-item/cancellable-item.html",controller:"CancellableItemController",controllerAs:"vm",bindings:{item:"=",onItemUpdate:"&"}};t.CancellableItemComponent=s;var a=function(){function e(t){"ngInject";n(this,e),this._ModalService=t,this.item.cancelQty=this.item.qty,this.item.qtyArray=this.getCancelQty(this.item.qty)}return e.$inject=["ModalService"],i(e,[{key:"getCancelQty",value:function(e){var t=_.range(1,e+1,1);return t}},{key:"itemChange",value:function(){this.item.isCancelled?(this.item.itemCredit=this.item.refundCredit*this.item.cancelQty,this.item.itemAmount=this.item.refundPrice*this.item.cancelQty,this.item.itemRefund=this.item.itemCredit+this.item.itemAmount):(this.item.itemCredit=0,this.item.itemAmount=0,this.item.itemRefund=0),this.onItemUpdate()}},{key:"showCancelQtySelector",value:function(){this.item.isCancelled&&this._ModalService.showRefundQtySelector(this.item,this.itemChange.bind(this))}}]),e}();t.CancellableItemController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a){"ngInject";n(this,e),this._$state=i,this._$log=s,this._OrderReturnService=t,this.VIEW_NAMES={SELECT:"select",PICK_UP:"pickUp",REFUND:"refund"},this.ADDRESS_TYPES={DEFAULT_ADDRESS:"defaultAddress",NEW_ADDRESS:"newAddress",SHIP_ON_OWN:"shipOnOwn"},this._toastr=a,this.orderId=this._$state.params.orderId,this.loading={select:!0,pickUp:!0},this.showSpinner={select:!1,refund:!1},this.pickupForm={},this.totalRefundAmount=null,this.showReturnPanel=!1,this.showShipOnOwnPanel=!1,this.showSchedulePickup=!1,this.showCreditSummaryPane=!1,this.incorrectPhone=!1,this.showAddressPanel=!1,this.pickupScheduleDone=!1,this.firstLoad=!0,this.activate()}return e.$inject=["OrderReturnService","$state","$log","toastr"],i(e,[{key:"activate",value:function(){this.setStepClasses(this.VIEW_NAMES.SELECT),this.getReturnOrderDetails()}},{key:"setStepClasses",value:function(e){this.selectStep={inactive:!0,done:!1},this.pickUpStep={inactive:!0,done:!1},this.refundStep={inactive:!0,done:!1},e==this.VIEW_NAMES.SELECT?this.selectStep.inactive=!1:e==this.VIEW_NAMES.PICK_UP?(this.selectStep.done=!0,this.pickUpStep.inactive=!1):e==this.VIEW_NAMES.REFUND&&(this.selectStep.done=!0,this.pickUpStep.done=!0,this.refundStep.inactive=!1)}},{key:"goToStep",value:function(e){this[e+"Step"].done&&this.setStepClasses(e)}},{key:"scrollToTop",value:function(){var e=angular.element("#pickupContainer")[0];e.scrollTop=0}},{key:"getReturnOrderDetails",value:function(){var e=this;e._OrderReturnService.getReturnDetails(e.orderId).then(function(t){e.returnData=t.data,e.defaultAddress=t.data.shipmentAddress,e.returnData.returnItemCount=0,e.loading.select=!1,e.loading.pickUp=!1},function(t){e._$state.go("account.orders")})}},{key:"itemUpdated",value:function(e){e.isSelected||e.reasonForNoReturn?e.isSelected=!1:(this.showReturnPanel=!0,this.selectedItem=e,this.editItem=angular.copy(e),this.editItem.refundAmount=this.editItem.returnRefund*this.editItem.returnQty,this.showReasonPanel=!0),this.countItemsAndRefund()}},{key:"countItemsAndRefund",value:function(){for(var e=this.returnData.subOrderList[0].customerProductResponses,t=0,n=0,i=0;i<e.length;i++){var s=e[i];s.isSelected&&(t+=s.returnQty,n+=s.refundAmount)}this.returnData.returnItemCount=t,this.totalRefundAmount=n}},{key:"toggleReasonPanel",value:function(){this.showReasonPanel=!this.showReasonPanel}},{key:"subtractReturnQty",value:function(){this.editItem.returnQty>1&&(this.editItem.returnQty--,this.editItem.refundAmount=this.editItem.returnRefund*this.editItem.returnQty)}},{key:"addReturnQty",value:function(){this.editItem.returnQty<this.editItem.number&&(this.editItem.returnQty++,this.editItem.refundAmount=this.editItem.returnRefund*this.editItem.returnQty)}},{key:"changeReason",value:function(e){this.editItem.reason={id:e.id,description:e.description,comment:""}}},{key:"closeReturnPanel",value:function(){this.showReturnPanel=!1,this.editItem.isSelected||(this.editItem={})}},{key:"updateEditItem",value:function(){this.editItem.reason&&(this.firstLoad=!1,this.selectedItem.reason=this.editItem.reason,this.selectedItem.isSelected=!0,this.selectedItem.returnQty=this.editItem.returnQty,this.selectedItem.refundAmount=this.editItem.refundAmount,this.showReturnPanel=!1),this.countItemsAndRefund()}},{key:"editReturnItem",value:function(e){this.showReturnPanel=!0,this.selectedItem=e,this.editItem=angular.copy(e),this.showReasonPanel=!0}},{key:"disableConfirmSelection",value:function(){return this.editItem&&!this.editItem.reason?!0:this.editItem&&0==this.editItem.reason.description.toLowerCase().indexOf("other")&&!this.editItem.reason.comment.length}},{key:"getRefundDetails",value:function(){var e=this;this.showSpinner.select=!0,this.returnItemsData={orderNo:this.returnData.orderBarCode},this.returnItemsData.items=[];for(var t=0;t<this.returnData.subOrderList[0].customerProductResponses.length;t++){var n=this.returnData.subOrderList[0].customerProductResponses[t];n.isSelected&&this.returnItemsData.items.push({qty:n.returnQty,sku:n.sku,reason:n.reason.description,reasonComment:n.reason.comment,subTotal:n.returnRefund})}this._OrderReturnService.getRefundAmount(this.returnItemsData).then(function(t){e.showSpinner.select=!1,e.refundAmountDetails=t.data,e.refundInCredits=e.refundAmountDetails.merchandise+e.refundAmountDetails.loyalty+e.refundAmountDetails.referral,e.refundInCash=e.refundAmountDetails.cash,e.totalRefundAmount=e.refundInCredits+e.refundInCash,"OWP"==e.returnData.payMethod&&(e.showCreditSummaryPane=!0,e.refundPaymentMode="OWP"),e.setStepClasses(e.VIEW_NAMES.PICK_UP)},function(t){e._$log.error(t.data),e.showSpinner.select=!1})}},{key:"toggleNewPickUpAddress",value:function(e){this.showNewAddressPanel=!this.showNewAddressPanel,e&&this.selectedAddressId==this.ADDRESS_TYPES.NEW_ADDRESS&&this.schedulePickUp(),this.pickupForm={},this.selectedAddress&&(this.selectedPincode="from "+this.selectedAddress.zipCode),this.scrollToTop()}},{key:"showOtherAddressesPanel",value:function(){this.showAddressPanel=!0,this.selectedAddressId=null,this.scrollToTop()}},{key:"showAddressFromFinalStep",value:function(){this.showNewAddressPanel=!1,this.showShipOnOwnPanel=!1,this.showSchedulePickup=!1,this.showAddressPanel=!0,(this.selectedAddressId==this.ADDRESS_TYPES.NEW_ADDRESS||this.selectedAddressId==this.ADDRESS_TYPES.SHIP_ON_OWN||this.selectedAddressId==this.ADDRESS_TYPES.DEFAULT_ADDRESS)&&(this.selectedAddressId=null),this.pickupScheduleDone=!1,this.scrollToTop()}},{key:"toggleShipOnOwn",value:function(){this.showNewAddressPanel=!1,this.showShipOnOwnPanel=!this.showShipOnOwnPanel,this.pickupForm={},this.showShipOnOwnPanel?(this.sendTo="Send",this.selectedPincode=" to 421302"):(this.sendTo="",this.selectedPincode="",this.selectedAddressId=null),this.scrollToTop()}},{key:"checkPincode",value:function(e){var t=this;e?t._OrderReturnService.getPincodeOpa(e).then(function(e){e.data.isOpa?(t.pickupForm.pincodeError=!0,t.pickupForm.pincodeErrorMsg="This pincode is outside our pickup area",t.isZipcodeValid=!1,t.pickupForm.city="",t.pickupForm.state=""):(t.pickupForm.pincodeError=!1,t.pickupForm.pincodeErrorMsg="",t.isZipcodeValid=!0,t.pickupForm.city=e.data.city,t.pickupForm.state=e.data.state)},function(e){t.pickupForm.pincodeError=!0,t.pickupForm.pincodeErrorMsg=e.data.message||"This pincode is outside our pickup area",t.isZipcodeValid=!1,t.pickupForm.city="",t.pickupForm.state=""}):(t.pickupForm.pincodeError=!0,t.pickupForm.pincodeErrorMsg="Please enter correct pincode")}},{key:"confirmScheduledPickup",value:function(){this.showAddressPanel=!0,this.scrollToTop(),this.pickupScheduleDone=!0,this.setStepClasses(this.VIEW_NAMES.REFUND)}},{key:"schedulePickUp",value:function(){"defaultAddress"==this.selectedAddressId?(this.selectedAddress=angular.copy(this.defaultAddress),this.returnData.isNewAddress=!1):"newAddress"==this.selectedAddressId?(this.selectedAddress=angular.copy(this.pickupForm),this.pickupForm={},this.returnData.isNewAddress=!0):(this.selectedAddress=_.find(this.returnData.addresses,{id:this.selectedAddressId}),this.returnData.isNewAddress=!1),this.showSchedulePickup=!0,this.selectedPincode="from "+this.selectedAddress.zipCode,this.addressForConfirmation="addressForConfirmation",this.scrollToTop()}},{key:"isPincodeAndPhoneValid",value:function(){var e=6==this.pickupForm.zipCode.toString().length,t=10==this.pickupForm.cellPhone.toString().length&&parseInt(this.pickupForm.cellPhone.toString()[0])>6;return e||(this.pickupForm.pincodeError=!0,this.pickupForm.pincodeErrorMsg="Please enter correct pincode"),t||(this.incorrectPhone=!0),e&&t}},{key:"saveNewAddress",value:function(){this.isPincodeAndPhoneValid()&&(this.incorrectPhone=!1,this.selectedAddressId=this.ADDRESS_TYPES.NEW_ADDRESS,this.pickupForm.country="India",this.pickupForm.firstName=this.pickupForm.shipToName,this.pickupForm.lastName="",this.pickupForm.simpleStreetAddress=this.pickupForm.streetAddress,this.pickupForm.phone=this.pickupForm.cellPhone,this.schedulePickUp(),this.toggleNewPickUpAddress())}},{key:"editNewAddress",value:function(){this.pickupForm=angular.copy(this.selectedAddress),this.showNewAddressPanel=!0,this.showSchedulePickup=!1,this.pickupScheduleDone=!1,this.scrollToTop()}},{key:"hideSchedulePickupPane",value:function(){this.showSchedulePickup=!1,this.selectedAddressId==this.ADDRESS_TYPES.NEW_ADDRESS&&(this.selectedAddressId=null),this.scrollToTop()}},{key:"shipOwnItems",value:function(){this.selectedAddressId=this.ADDRESS_TYPES.SHIP_ON_OWN,this.pickupScheduleDone=!0,this.setStepClasses(this.VIEW_NAMES.REFUND)}},{key:"toggleCreditSummaryPane",value:function(){this.showCreditSummaryPane=!this.showCreditSummaryPane}},{key:"returnItems",value:function(){var e=this;e.selectedAddress.zipcode=e.selectedAddress.zipCode;var t={orderNo:e.returnData.orderBarCode,isPol:!1,isCod:!1,scheduledPickupDate:null,isSelfCourier:!1,isNewAddress:!1,address:e.selectedAddress,items:e.returnItemsData.items,refundInfo:e.refundAmountDetails,customerBankInfo:null};e.showSpinner.refund=!0,"COD"==e.returnData.payMethod?t.isCod="returnCashInBank"==e.refundPaymentMode:"POL"==e.returnData.payMethod&&(t.isPol="returnCashAsPol"==e.refundPaymentMode),"pickupUnavailable"!=e.returnData.pickupDate&&(t.scheduledPickupDate=e.returnData.pickupDate.pickupDate),"shipOnOwn"==e.selectedAddressId?(t.scheduledPickupDate=null,t.isSelfCourier=!0,t.address=null):"newAddress"==e.selectedAddressId&&(t.isNewAddress=!0),"returnCashInBank"==e.refundPaymentMode&&(t.customerBankInfo=e.refundBankDetails),this._OrderReturnService.returnItems(t).then(function(t){e.showSpinner.refund=!1;var n={barcodeId:e.returnData.orderBarCode,reasonId:t.data.confirmationId,itemCount:e.returnData.returnItemCount,rmaNo:t.data.rmaNo};e._$state.go("returnConfirm",n)},function(t){e.showSpinner.refund=!1,e._toastr.error(t.data.message),e._$log.log("Error",t.data)})}}]),e}();t.ReturnController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this.RETURN_CONFIRMATION_ID={HAPPY_CASE:1,SELF_COURIER:2,DAMAGED_UNAVAILABLE:3,GIFT:4},this.params=t.params,this.activate()}return e.$inject=["$state"],i(e,[{key:"activate",value:function(){this.headline="",this.itemCount=this.params.itemCount,this.barcodeId=this.params.barcodeId,this.params.reasonId==this.RETURN_CONFIRMATION_ID.HAPPY_CASE?this.headline="Prepare items for pickup":this.params.reasonId==this.RETURN_CONFIRMATION_ID.SELF_COURIER?this.headline="Steps to send items yourself":this.params.reasonId==this.RETURN_CONFIRMATION_ID.GIFT&&(this.headline="Keep it as a gift")}}]),e}();t.ReturnConfirmController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this._$http=t}return e.$inject=["$http"],i(e,[{key:"getReturnDetails",value:function(e){return this._$http.get("/api/order/"+e+"?isReturn=true")}},{key:"getRefundAmount",value:function(e){return this._$http.post("/api/order/refundCredit",e)}},{key:"getPincodeOpa",value:function(e){return this._$http.get("/api/delivery/pincode/isOpa/"+e)}},{key:"returnItems",value:function(e){return this._$http.post("/api/order/return",e)}}]),e}();t.OrderReturnService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/return/return-item/return-item.html",controller:"ReturnItemController",controllerAs:"vm",bindings:{item:"=",onItemUpdate:"&",editReturnItem:"&",firstLoad:"="}};t.ReturnItemComponent=s;var a=function(){function e(t){"ngInject";n(this,e),this.extractSkuAttrs(),this.item.returnQty=this.item.number,this.test={showTooltip:!1},this._$scope=t,this.returnContainer=angular.element("#returns-container");var i=this;this._$scope.$on("$destroy",function(){i.returnContainer.off("click")})}return e.$inject=["$scope"],i(e,[{key:"extractSkuAttrs",value:function(){var e=this;e.item.attributes={};for(var t=0;t<this.item.skuAttrs.length;t++)e.item.attributes[this.item.skuAttrs[t].name.toLowerCase()]=this.item.skuAttrs[t].value;this.item.attributes.size&&(this.item.size=this.item.attributes.size)}},{key:"openTooltip",value:function(){this.item.showTooltip=!0;var e=this;this.returnContainer.on("click",function(t){angular.element(".tooltip-on").length>0&&e._$scope.$apply(function(){e.closeTooltip()})})}},{key:"closeTooltip",value:function(e){this.item.showTooltip=!1,this.returnContainer.off("click"),e&&e.stopPropagation()}},{key:"tooltipBodyClick",value:function(e){e.stopPropagation()}}]),e}();t.ReturnItemController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u){"ngInject";n(this,e),this._toastr=d,this.user={},this._$scope=l,this.CustomerService=t,this.ModalService=i,this._ResourceService=a,this._$analytics=o,this.emailRegex=s.EMAIL_VALIDATOR_REGEX,this.REDIRECT_COOKIE=s.REDIRECT_TO,this._$state=r,this._$cookies=c,this._SegmentService=u,this.loading=!1,this._$scope.ngDialogData.activeForm?(this.currentForm=this._$scope.ngDialogData.activeForm,this.showForm(this.currentForm)):this.currentForm="SignIn"}return e.$inject=["CustomerService","ModalService","ConfigService","ResourceService","$state","$analytics","$scope","$cookies","toastr","SegmentService"],i(e,[{key:"login",value:function(){var e=this;this._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Sign_In"}),e.loading=!0,this.CustomerService.login(this.user).then(function(t){e.loading=!1,e._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Sign_In_Success"}),e._$scope.closeThisDialog("success"),e.goToRedirectUrl(e)},function(t){e.loading=!1,e._toastr.error(t.data.message)})}},{key:"facebookLogin",value:function(){var e=this;this._$analytics.eventTrack("Click",{category:this.currentForm,action:"Click",
label:"Facebook_Sign_In"}),this.CustomerService.facebookLogin().then(function(t){t.data.isRegister?(e._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Facebook_Register_Success"}),e._$analytics.eventTrack("register",{userId:t.data.userId}),e._SegmentService.setTrackData("upload_eligibility","Registered")):e._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Facebook_Sign_In_Success"}),e._$scope.closeThisDialog("success"),e.goToRedirectUrl(e)},function(t){e._toastr.error(t.data.message)})}},{key:"register",value:function(){var e=this;this._$analytics.eventTrack("Click",{category:this.currentForm,action:"Click",label:"Register"}),e.loading=!0,this.CustomerService.register(this.user).then(function(t){e.loading=!1,t.data.isRegister?(e._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Register_Success"}),e._$analytics.eventTrack("register",{userId:t.data.userId}),e._SegmentService.setTrackData("upload_eligibility","Registered")):e._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Sign_In_Success"}),e._$scope.closeThisDialog("success"),e.goToRedirectUrl(e)},function(t){e.loading=!1,e._toastr.error(t.data.message)})}},{key:"forgotPassword",value:function(){var e=this;this._$analytics.eventTrack("Click",{category:this.currentForm,action:"Click",label:"Forgot_Password"}),e.user.returnUrl=e._$state.href(e._$state.current.name,e._$state.params),this.CustomerService.forgotPassword(this.user).then(function(t){e._$analytics.eventTrack("Click",{category:e.currentForm,action:"Click",label:"Forgot_Password_Success"}),e.showForm("PasswordInstruction")},function(t){e._toastr.error(t.data.message)})}},{key:"showForm",value:function(e){this._$analytics.eventTrack("Click",{category:this.currentForm,action:"Click",label:"Sign_In"}),"Register"==e&&this.loadOffer(),this.currentForm=e}},{key:"loadOffer",value:function(){var e=this;e._ResourceService.getSpecialOffer().then(function(t){e.offerResponse=t.offers[0]},function(e){})}},{key:"goToRedirectUrl",value:function(e){var t=e._$cookies.getObject(e.REDIRECT_COOKIE);t&&t.state&&(e._$cookies.remove(e.REDIRECT_COOKIE),"CART"===t.state?e.ModalService.showCartModal():e._$state.go(t.state,t.params))}}]),e}();t.LoginRegisterController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a){"ngInject";n(this,e),this._ModalService=t,this._CustomerService=i,this._$state=s,this._toastr=a,this.activate()}return e.$inject=["ModalService","CustomerService","$state","toastr"],i(e,[{key:"activate",value:function(){this.verifyResetToken()}},{key:"verifyResetToken",value:function(){var e=this,t=e._$state.params.uuid,n=e._$state.params.resetToken;e._CustomerService.validateResetToken(t,n).then(function(t){e._ModalService.showResetPasswordModal(e._$state.params)},function(t){e._toastr.error(t.data.message),e._$state.go("home")})}}]),e}();t.ResetPasswordController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i){"ngInject";n(this,e),this.TYPES={SHIPPING:"showShipping",RETURNS:"showReturns",ORDERS:"showOrders",PRICING:"showPricing",ACCOUNTS:"showAccounts",CONTACT:"showContact",BULKORDER:"showBulkOrder"},this.showShipping=!1,this.showReturns=!1,this.showOrders=!1,this.showPricing=!1,this.showAccounts=!1,this.showContact=!1,this.showBulkOrder=!1;var s=t.hash(),a=s.toUpperCase(),r="mobile"==i.getDeviceType();r&&this.makeActive(this.TYPES[a],!0)}return e.$inject=["$location","AppStateService"],i(e,[{key:"makeActive",value:function(e,t){for(var n in this.TYPES)e==this.TYPES[n]?this[this.TYPES[n]]=t?t:!this[this.TYPES[n]]:this[this.TYPES[n]]=!1}}]),e}();t.HelpController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm",bindings:{}};t.NavbarComponent=s;var a=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p,h){"ngInject";n(this,e),this.ModalService=t,this.CustomerService=i,this.AppStateService=s,this.ResourceService=r,this._SegmentService=o,this.pushDown=!1,this.$scope=l,this.toastr=c,this.$timeout=d,this._$analytics=u,this.$stateParams=m,this._$state=p,this._$cookies=v,this._$location=h,this.REDIRECT_COOKIE=a.REDIRECT_TO,this.REDIRECT_TIMEOUT=a.REDIRECT_TIMEOUT,this.activate()}return e.$inject=["ModalService","CustomerService","AppStateService","ConfigService","ResourceService","SegmentService","$scope","toastr","$timeout","$analytics","$stateParams","$cookies","$state","$location"],i(e,[{key:"activate",value:function(){var e=this;e.$scope.$on("hs.showMSearch",function(t,n){e.pushDown=n.showMSearch}),e.$scope.$watch(function(){return e.ResourceService.getDepartments()},function(t,n){e.departments=t}),e.$scope.$watch(function(){return e.CustomerService.isLoggedIn()},function(t,n){e.CustomerService.isLoggedIn()&&e.CustomerService.getAccountCardsCount()})}},{key:"showLoginModal",value:function(){this._SegmentService.set("from_location","Account icon"),this.ModalService.showLoginModal()}},{key:"showCartIfLoggedIn",value:function(){var e=this;e.CustomerService.isLoggedIn()?(this._$analytics.eventTrack("Click",{category:"Cart",action:"cart-direct",label:"view"}),e.ModalService.showCartModal()):(e.toastr.info("Please login to view your cart."),e.$timeout(function(){e._SegmentService.set("from_location","Cart icon"),e._$cookies.putObject(e.REDIRECT_COOKIE,{state:"CART"},{expires:new Date((new Date).getTime()+e.REDIRECT_TIMEOUT)}),e.ModalService.showLoginModal()},500))}},{key:"showCartIfLoggedInForSmall",value:function(){this.showCartIfLoggedIn()}},{key:"goToAccountPage",value:function(){this._$state.go("account.detail.orders",{},{reload:!0})}},{key:"getAccountUpdateCount",value:function(){return-1==["account.detail.orders","account.detail.moments","account.detail.stored-card"].indexOf(this._$state.current.name)?this.CustomerService.getActiveAccountCardCount():!1}},{key:"setSegmentParams",value:function(e){this._SegmentService.resetTrackData();var t=null;this._$state.includes("home")&&(t="Discover"),this._$state.includes("department-baby")&&(t="baby"),this._$state.includes("department-girls")&&(t="girls"),this._$state.includes("department-boys")&&(t="boys"),this._$state.includes("moments")&&(t="moments"),this._$state.includes("department-mom")&&(t="mom"),this._SegmentService.setTrackData("from_screen",t),this._SegmentService.setTrackData("from_location",e)}}]),e}();t.NavbarController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i={restrict:"E",templateUrl:"app/components/widgets/footer/footer.html",controller:"FooterController",controllerAs:"vm"};t.FooterComponent=i;var s=function a(e,t){"ngInject";n(this,a),this.AppStateService=t,this.ConfigService=e};s.$inject=["ConfigService","AppStateService"],t.FooterController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/alertbar/alertbar.html",controller:"AlertbarController",controllerAs:"vm",bindings:{}};t.AlertbarComponent=s;var a=function(){function e(t,i,s,a,r,o){"ngInject";n(this,e),this.ModalService=t,this.CustomerService=i,this.AppStateService=s,this._ResourceService=a,this._$state=o,this._SegmentService=r,this.offerHTMLTemplate="";var l=this;l._ResourceService.getSpecialOffer().then(function(e){l.offerResponse=e.offers[0],l.offerResponse&&(l.offerHTMLTemplate="Register & get "+l.offerResponse.header)},function(e){})}return e.$inject=["ModalService","CustomerService","AppStateService","ResourceService","SegmentService","$state"],i(e,[{key:"showLoginModal",value:function(e){this._SegmentService.set("from_location","Account icon"),this.ModalService.showLoginModal(!0,e)}},{key:"goToAccountPage",value:function(){this._$state.go("account.detail.orders",{},{reload:!0})}},{key:"getAccountUpdateCount",value:function(){return"account.detail.orders"!=this._$state.current.name?this.CustomerService.getActiveAccountCardCount():!1}}]),e}();t.AlertbarController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/boutique/card/boutique-card.html",controller:"BoutiqueCardController",controllerAs:"vm",bindings:{boutique:"=",loadedTill:"&",isDepartment:"=",trackData:"=",section:"=",deregisterListeners:"&"}};t.BoutiqueCardComponent=s;var a=function(){function e(t,i,s,a,r,o){"ngInject";n(this,e),this._$state=s,this._$scope=r,this._$analytics=a,this._$log=o,this._ConfigService=t,this._PageTrackingService=i,this.aspectRatio=this.boutique.flexiImageHeight?this.boutique.flexiImageWidth/this.boutique.flexiImageHeight:1;var l=i.getUrl(i.getFunnel(),this.section,i.getSubSection(),this.isCustomTile()?i.getPLP():this.boutique.id);l+="&from_screen="+this._$state.current.name,l+=this.section?"&from_section=RFY collections":"",l+=this.isCustomTile()?"&from_location=Custom tile&custom_tile_id="+this.boutique.id:"",l+="RFYC"===this.section?"&reco_type="+this.boutique.recoType:"",this.boutique.href.indexOf("?")>-1?this.boutique.href+="&"+l:this.boutique.href+="?"+l}return e.$inject=["ConfigService","PageTrackingService","$state","$analytics","$scope","$log"],i(e,[{key:"getHeight",value:function(){if("TIP"==this.boutique.tileType){var e=this.boutique.tileGrid[0];return 100/(e.width/e.height)+"%"}return 100/this.aspectRatio+"%"}},{key:"boutiqueClicked",value:function(){"RFYC"==this.section&&this.deregisterListeners&&this.deregisterListeners(),this._ConfigService.tiles.customTilesId=null,this._ConfigService.tiles.cptId=null,this._ConfigService.tiles.from=null;var e=this.boutique.name,t=this.boutique.id;this._$analytics.eventTrack("Boutique Clicked",{category:"Home Page",label:e,value:t}),this.isDepartment&&this.trackCollection()}},{key:"isCustomTile",value:function(){return this.boutique.isTile}},{key:"isSpecialPage",value:function(){return!this.boutique.isTile&&this.boutique.showInBoutiqueSetting}},{key:"isBoutique",value:function(){return!this.boutique.isTile&&!this.boutique.showInBoutiqueSetting}},{key:"trackCollection",value:function(){this._$scope.$emit("hs.boutique.clicked",this.trackData)}}]),e}();t.BoutiqueCardController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/boutique/multi-boutique-tile/multi-boutique-tile.html",controller:"MultiBoutiqueTileController",controllerAs:"vm",bindings:{boutique:"=",loadedTill:"&",index:"@",section:"="}};t.MultiBoutiqueTileComponent=s;var a=function(){function e(t,i,s,a,r,o,l,c,d,u){"ngInject";var m=this;n(this,e),this._$state=r,this._$analytics=o,this._$element=l,this._$timeout=d,this._$sce=u,this._ConfigService=t,this._ModalService=i,this._PageTrackingService=a,this._SegmentService=s;var v=_.flattenDeep(this.boutique.tiles).length,p="",h="";this.isCustomTile()?p=a.SUB_SECTION_TYPE.CUSTOM_TILE+this.boutique.id:this.isSpecialPage()?p=a.SUB_SECTION_TYPE.SPECIAL_PAGE+this.boutique.page_id:h=a.PLP_TYPE.BOUTIQUE+this.boutique.id;var g=a.getUrl(a.getFunnel(),this.section,a.getSubSection(p),h);if(g+="&from_screen="+this._$state.current.name,g+=this.section?"&from_section="+this.section:"",g+=this.isCustomTile()?"&from_location=Custom tile&position="+this.boutique.index+"&custom_tile_id="+this.boutique.id:"",this.funnelUrl=g,this.boutique.href.indexOf("?")>-1?this.boutique.href+="&"+g:this.boutique.href+="?"+g,this.customUrl="",this.boutique.isDepartment&&"collection"==this.boutique.tileType.toLowerCase()){var f="department-";this.customUrl+="&department="+this._$state.current.name.substr(this._$state.current.name.indexOf(f.length)+f.length+1)+"&customTileId="+this.boutique.id}d(function(){l.find("img").on("load",function(){v--,0>=v&&c.$emit("hs.imageLoaded",m.index,m.boutique.getBoutiqueImage())})})}return e.$inject=["ConfigService","ModalService","SegmentService","PageTrackingService","$state","$analytics","$element","$scope","$timeout","$sce"],i(e,[{key:"setCustomTileId",value:function(e,t){this._ConfigService.tiles.customTilesId=this.boutique.customTilesId,this._ConfigService.tiles.from="customTilesId_"+this.boutique.customTilesId+"_"+e.$_customTileID+"_"+(t+1),this._SegmentService.resetTrackData(),this.boutique.pageName?this._SegmentService.setTrackData("from_screen",this.boutique.pageName):this._SegmentService.setTrackData("from_screen","Discover"),this._SegmentService.setTrackData("from_location","Custom tile"),this._SegmentService.setTrackData("custom_tile_id",this.boutique.customTilesId),this._SegmentService.setTrackData("position",this.boutique.arrayIndex+1)}},{key:"isCustomTile",value:function(){return 1===this.boutique.isTile}},{key:"isSpecialPage",value:function(){return 0===this.boutique.isTile&&this.boutique.showInBoutiqueSetting===!0}},{key:"isBoutique",value:function(){return 0===this.boutique.isTile&&this.boutique.showInBoutiqueSetting===!1}},{key:"openVideo",value:function(e){this._ModalService.showVideoModal({url:e.actionUri})}},{key:"getUrl",value:function(e,t,n){var i=this;i._$timeout(function(){var s=i._$element[0].querySelectorAll("."+n)[0],a=s.parentElement;i._ConfigService.homeVideos[i.boutique.pageBlock]||(i._ConfigService.homeVideos[i.boutique.pageBlock]={}),i._ConfigService.homeVideos[i.boutique.pageBlock][e.$_customTileID]=[s.innerHTML,a.offsetWidth,a.offsetWidth*(t.height/t.width),a.offsetTop]},1500);var s=t.actionUri.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=s?this._$sce.trustAsResourceUrl("https://www.youtube.com/embed/"+s[1]):this._$sce.trustAsResourceUrl(t.actionUri)}},{key:"getRedirectUrl",value:function(e){return"NO_ACTION"!=e.action_type&&"VIDEO"!=e.action_type?e.actionUri+"?"+this.funnelUrl+this.customUrl:void 0}}]),e}();t.MultiBoutiqueTileController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i={restrict:"E",templateUrl:"app/components/widgets/boutique/list/boutique-list.html",controller:"BoutiqueListController",controllerAs:"vm",bindings:{boutiques:"=",first:"@"}};t.BoutiqueListComponent=i;var s=function a(e,t,i){"ngInject";n(this,a),this._$sce=t;var s=this;i.$watch(function(){return e.homeVideos},function(e,t){s.boutiques[0]&&s.boutiques[0].pageBlock&&(s.data=e[s.boutiques[0].pageBlock])},!0)};s.$inject=["ConfigService","$sce","$scope"],t.BoutiqueListController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/product/list/product-list.html",controller:"ProductListController",controllerAs:"vm",bindings:{products:"=",isComingSoon:"=",pagesize:"=",deregisterListeners:"&"}};t.ProductListComponent=s;var a=function(){function e(){"ngInject";n(this,e)}return i(e,[{key:"getEndClass",value:function(e){return e?"end":""}}]),e}();t.ProductListController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/product/card/product-card.html",controller:"ProductCardController",controllerAs:"vm",bindings:{product:"=",isComingSoon:"=",deregisterListeners:"&"}};t.ProductCardComponent=s;var a=function(){function e(t,i,s,a,r,o,l,c,d,u,m){"ngInject";n(this,e),this._$state=o,this._$timeout=c,this._$sce=d,this._ProductService=t,this._ModalService=a,this._AppStateService=i,this._ConfigService=s,this._PageTrackingService=r,this.disableTile=!1,this.displayDiscount=!1,this._$analytics=l,this.externalUrl=!1,this.disableQuickShop=!0,this.product.isTile&&(this.disableTile=!this.product.tileAction,this.externalUrl=0===(this.product.tileAction||"").indexOf("http")),this.productForm=null,this.showShopinshop=!0,this.skuProduct=this.product,this.productClass=(this.product.isTile?"custom-product ":"")+(this.disableTile?"disable-product ":"")+(this.isComingSoon?"is-coming-soon ":""),this.soldOutClass=this.product.quantity||this.product.isTile||this.isComingSoon?"":"sold-out-image",this.soldImageOverlayClass=this.product.quantity||this.product.isTile||this.isComingSoon?"":"sold-out-image-overlay",this.boutiqueId=m.boutiqueId;var v=this,p=u.$watch(function(){return v.skuProduct.retailPrice},function(e,t){null!=e&&e!=t&&(v.priceUpdated=!0,v._$timeout(function(){v.priceUpdated=!1},1e3))});u.$on("$destroy",p)}return e.$inject=["ProductService","AppStateService","ConfigService","ModalService","PageTrackingService","$state","$analytics","$timeout","$sce","$scope","$stateParams"],i(e,[{key:"trackProductClick",value:function(){this.deregisterListeners();var e=this;e.product.isTile?e._ConfigService.tiles.cptId=e.product.id:e._ConfigService.tiles.cptId=null,e._$analytics.eventTrack("productClick",{ecommerce:{click:{actionField:{list:e._$state.is("boutique")?"Boutique PLP":"Search PLP"},products:[{name:e.product.name,brand:e.product.brandName,id:e.product.id,price:e.product.retailPrice,category:e.product.categoryId,position:e.product.position}]}}})}},{key:"getUrlString",value:function(){var e=this._PageTrackingService.getUrl(this._PageTrackingService.getFunnel(),this._PageTrackingService.getSection(),this.product.isTile?this._PageTrackingService.getSubSection(this._PageTrackingService.SUB_SECTION_TYPE.CUSTOM_PRODUCT_TILE+this.product.id):this._PageTrackingService.getSubSection(),this._PageTrackingService.getPLP());return e+="&from_screen="+this._$state.current.name+(this.boutiqueId?"&boutiqueId="+this.boutiqueId:""),e+=this.product.isTile?"&from_location=Custom product tile&custom_product_tile_id="+this.product.id+"&position="+this.product.position:"",this.product.isTile?this.product.tileAction.indexOf("?")>-1?this.product.tileAction+"&"+e:this.product.tileAction.length?this.product.tileAction+"?"+e:"":this.isComingSoon?"":this._ProductService.getProductDashedUrl(this.product)+"?"+e}},{key:"getDiscount",value:function(e){return e.regularPrice>e.retailPrice?e.discount>5?(this.displayDiscount=!0,"("+e.discount+"% off)"):"":void 0}},{key:"displayQuickShop",value:function(e){this.disableQuickShop=!e}},{key:"addQuickShop",value:function(){return this.skuProduct=this.productForm||this.product,!(this.disableQuickShop||this.product.isTile||this.isComingSoon||this.disableTile||"computer"!==this._AppStateService.getDeviceType()||!this.showShopinshop||!this.product.quantity)}},{key:"getUrl",value:function(){var e=this.product.tileAction.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=e?this._$sce.trustAsResourceUrl("https://www.youtube.com/embed/"+e[1]+"?rel=0&wmode=transparent"):this._$sce.trustAsResourceUrl(this.product.tileAction)}},{key:"openVideo",value:function(){this._ModalService.showVideoModal({url:this.product.tileAction})}}]),e}();t.ProductCardController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",template:" ",controller:"TimeleftController",controllerAs:"vm",bindings:{endTime:"=",startTime:"=",restTime:"=",onlyHours:"="}};t.TimeleftComponent=s;var a=function(){function e(t,i,s,a){"ngInject";n(this,e);var r=this;r.TimeService=s;var o=function(){var e=r.calculateTimeRemaining(r.TimeService.getCurrentTime());return e&&t.html('<span class="tag with-icon time-left icon-timer">'+e+"</span>"),e},l=o();if(l&&-1!=l.indexOf("m")){var c=i(o,6e4);a.$on("$destroy",function(){i.cancel(c)})}}return e.$inject=["$element","$interval","TimeService","$scope"],i(e,[{key:"calculateTimeRemaining",value:function(e){var t=function(e){return Math.floor(e/1e3)},n=this.startTime?new Date(this.startTime).getTime():0,i=new Date(this.endTime).getTime(),s=void 0,a=!1;this.endTime?n>e?(a=!0,s=this.restTime?this.restTime:t(n-e)):s=t(i-e):(a=!0,s=this.restTime);var r=Math.floor(s/60),o=Math.floor(s/3600),l=Math.floor(s/86400),c=a?" to go":" left";return l>0?a?l+(l>1?" days":" day")+c:"":o>0?o+(o>1?" hours":" hour")+c:r>0?r+(r>1?" minutes":" minute")+c:"1 minute"+c}}]),e}();t.TimeleftController=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/divider/divider.html",transclude:!0};t.DividerComponent=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/autocomplete/autocomplete.html",controller:"AutocompleteController",controllerAs:"ac",bindings:{}};t.AutocompleteComponent=s;var a=function(){function e(t,i,s){"ngInject";n(this,e),this.$scope=t,this.$rootScope=i,this.AppStateService=s,this.activate()}return e.$inject=["$scope","$rootScope","AppStateService"],i(e,[{key:"activate",value:function(){var e=this;e.$scope.$on("setOverlay",function(t,n){e.setOverlay(n.setOverlay)})}},{key:"setOverlay",value:function(e){this.AppStateService.setOverlay(e),this.$rootScope.$broadcast("hs.showSearch",{showSearch:e}),this.$rootScope.$broadcast("hs.showMSearch",{showMSearch:e})}},{key:"showOverlay",value:function(){return this.AppStateService.isShowOverlay()}},{key:"highlightSearchText",value:function(e,t){var n=t.substring(0,e.length);return t=t.replace(n,"<em>"+n+"</em>")}}]),e}();t.AutocompleteController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/recommended/product/recommended-product.html",controller:"RecommendedProductController",controllerAs:"vm",bindings:{product:"=",last:"=",viewAllAction:"=",showViewAll:"=",totalProducts:"=",section:"=",subSection:"=",fromScreen:"="}};t.RecommendedProductComponent=s;var a=function(){function e(t,i,s){"ngInject";n(this,e),this._ProductService=t,this._PageTrackingService=i,this._$state=s}return e.$inject=["ProductService","PageTrackingService","$state"],i(e,[{key:"getProductUrl",value:function(){var e=this._PageTrackingService.getUrl(this._PageTrackingService.getFunnel(),this.section,this.subSection," ");if(e+="&from_screen="+this.fromScreen,this.showViewAll)return this.viewAllAction.indexOf("?")>-1?this.viewAllAction+="&"+e:this.viewAllAction+="?"+e,this.viewAllAction;var t=this._ProductService.getProductDashedUrl(this.product);return t.indexOf("?")>-1?t+"&"+e:t+"?"+e}},{key:"recommendationClicked",value:function(){}}]),e}();t.RecommendedProductController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i={restrict:"E",templateUrl:"app/components/widgets/recommended/carousel/recommended-carousel.html",controller:"RecommendedProductCarouselController",controllerAs:"vm",bindings:{recommended:"="}};t.RecommendedProductCarouselComponent=i;var s=function a(){"ngInject";n(this,a)};t.RecommendedProductCarouselController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/product/carousel/product-carousel.html",controller:"ProductCarouselController",controllerAs:"vm",bindings:{products:"=",viewAllAction:"=",showViewAll:"=",totalProducts:"=",section:"=",subSection:"="}};t.ProductCarouselComponent=s;var a=function(){function e(t,i,s,a){"ngInject";n(this,e),this._$element=t,this._$scope=i,this._$window=s,this._$state=a,this.showLeftScroller=!1,this.showRightScroller=!0,this.maxRight=null,this.activate()}return e.$inject=["$element","$scope","$window","$state"],i(e,[{key:"activate",value:function(){this.isWindowResized()}},{key:"isWindowResized",value:function(){var e=this;angular.element(this._$window).bind("resize",function(){if(e.scrollElement){e.clientWidth=e.marginLeft=e.maxRight=null;var t=angular.element(e.scrollElement).css("transition");angular.element(e.scrollElement).css({transition:"none"}),angular.element(".scroller-left").click(),angular.element(e.scrollElement).css({transition:t})}}),e._$scope.$on("$destroy",function(){angular.element(e._$window).unbind("resize")})}},{key:"initializeVariables",value:function(){this.marginLeft=this.marginLeft||0,this.clientWidth=this.clientWidth||this._$element.find(".recommended-product-wrapper")[0].clientWidth,this.scrollElement=this.scrollElement||this._$element.find(".recommended-product")[0],this.scrollWidth=this.scrollWidth||this.scrollElement.scrollWidth}},{key:"scrollLeft",value:function(){this.showRightScroller=!0,this.initializeVariables(),this.marginLeft+=.8*this.clientWidth,this.marginLeft>=0&&(this.marginLeft=0,this.showLeftScroller=!1),this.scrollElement.style.marginLeft=this.marginLeft+"px"}},{key:"scrollRight",value:function(){this.showLeftScroller=!0,this.initializeVariables(),null===this.maxRight&&(this.maxRight=this.scrollWidth-this.clientWidth),this.marginLeft-=.8*this.clientWidth,Math.abs(this.marginLeft)>this.maxRight&&(this.marginLeft=-this.maxRight,this.showRightScroller=!1),this.scrollElement.style.marginLeft=this.marginLeft+"px"}}]),e}();t.ProductCarouselController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i={restrict:"E",templateUrl:"app/components/widgets/recommended/matching/recommended-matching.html",controller:"RecommendedMatchingController",controllerAs:"vm",bindings:{product:"=",section:"="}};t.RecommendedMatchingComponent=i;var s=function a(e,t){"ngInject";n(this,a),this._PageTrackingService=e,this._$state=t;var i="More",s="Brand",r="Category",o="Colour";this.product.searchParams&&this.product.searchParams.brandId&&(i+=s),this.product.searchParams&&this.product.searchParams.colour&&(i+=o),this.product.searchParams&&this.product.searchParams.subCategorys&&(i+=r),this.product.type=i};s.$inject=["PageTrackingService","$state"],t.RecommendedMatchingController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/loader/placeholder/placeholder.html",controller:"PlaceholderController",controllerAs:"vm",bindings:{}};t.PlaceholderComponent=s;var a=function(){function e(t){"ngInject";n(this,e),this.rows=t.attr("rows"),this.columns=t.attr("columns"),this.isPlp=t.attr("plp")||!1,this.activate()}return e.$inject=["$element"],i(e,[{key:"activate",value:function(){this.createPlaceholderVariables()}},{key:"createPlaceholderVariables",value:function(){var e=this.columns-2>0?this.columns-2:1,t=this.columns-1>0?this.columns-1:1,n=this.columns;this.smallBlocks=this.rows*e,this.mediumBlocks=this.rows*t,this.maxBlocks=new Array(this.rows*this.columns),this["class"]="small-up-"+e+" medium-up-"+t+" large-up-"+n+" loader"}}]),e}();t.PlaceholderController=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/loader/spinner/spinner.html"};t.SpinnerComponent=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/accordion/accordion.html",controller:"AccordionController",controllerAs:"vm",bindings:{product:"=",sku:"="
}};t.AccordionComponent=s;var a=function(){function e(t,i){"ngInject";n(this,e),this._$sce=t,this._$scope=i,this.showDetail=!1,this.showBrand=!1,this.showPreorder=!1,this.showShipping=!1,this.showMore=!0}return e.$inject=["$sce","$scope"],i(e,[{key:"htmlToPlaintext",value:function(e){return e?String(e).replace(/<[^>]+>/gm,""):""}},{key:"sanitizeHtml",value:function(e){return this._$sce.trustAsHtml(e)}}]),e}();t.AccordionController=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return{restrict:"A",scope:{ellipsis:"@"},link:function(e,t,n){t.width(t.width())}}};t.EllipsisDirective=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/filter/filter.html",controller:"FilterController",controllerAs:"fc",bindings:{filters:"=",sortBy:"=",salePlanId:"=",items:"=",plpData:"=",onFilterChanged:"&"}};t.FilterComponent=s;var a=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v){"ngInject";n(this,e),this.selected="",this.categorySearch="",this.brandSearch="",this.catCount="All",this.sizeCount="All",this.ageCount="All",this.genderCount="All",this.brandCount="All",this.preorderCount="All",this.$state=l,this.$timeout=u,this.$stateParams=o,this.$element=m,this.$attrs=v,this.orderRule=-1,this.selectedSortOrder=this.sortBy[0].sortName,this.AppStateService=i,this._SegmentService=s,this._PageTrackingService=a,this._ConfigService=t,this.showMobileFilter=!1,this.showMobileSort=!1,this.isMobile=!1,this.isSortOrder=!1,this.sendFilterAppliedSegment=!0,this.$scope=r,this.mobileSafari=d.navigator.userAgent.indexOf("Mobile")>-1&&d.navigator.userAgent.indexOf("Safari")>-1,this.showPriceSlider=this.filters.basePriceRange.minPrice!==this.filters.basePriceRange.maxPrice&&"Infinity"!==this.filters.basePriceRange.minPrice,this.params={pageNo:1,pageSize:t.PAGINATION.ALTERNATE_PAGE_SIZE,filterQuery:"salePlanId="+this.salePlanId},this.$stateParams.orderRule&&(this.orderRule=this.$stateParams.orderRule),this.$stateParams.filterQuery&&(this.params.filterQuery=this.$stateParams.filterQuery),this.price={},this.slider="",this.firstFilter="gender",this.disableFilter=!1,this.basePriceRangeFilterValue=angular.copy(this.filters.basePriceRange),this.keyToPropMapping={genderCount:"optionValue",sizeCount:"groupName",ageCount:"groupName",brandCount:"brandId",preCount:"filters",catCount:function(e){return e.subCategorys[0]}},this.keyToFiltersMapping={genderCount:"shopForRefines",sizeCount:"sizeRefines",ageCount:"ageRefines",brandCount:"brandRefines",catCount:"subCategories",preCount:"filters"},this.activate(r,c),this.filterResults({firstLoad:!0});var p=this;d.addEventListener("popstate",function(e){i.setDisableScroll(!1),p.toggleFilter(!1)})}return e.$inject=["ConfigService","AppStateService","SegmentService","PageTrackingService","$scope","$stateParams","$state","$document","$window","$timeout","$element","$attrs"],i(e,[{key:"activate",value:function(e,t){var n=this,i=!0;this.arrowDownImage=this._ConfigService.IMAGE_BASE_PATH+"images/assets/icon-angle-down.svg",this.mobileSafari&&angular.element("body").addClass("mobile-safari"),e.$on("hs.search.updated",function(e,t){i=!0}),e.$watchCollection(function(){return n.filters},function(e,t){n.filterCopy=angular.copy(e),n.isSortOrder=!1;for(var i in n.keyToFiltersMapping)n[i]=n.getSelectedCount(i)});var s=t.find("body"),a=function(t){var i=angular.element(t.target);!i.hasClass("ng-filters")&&!i.hasClass("noUi-handle")&&!i.parents(".ng-filters").length>0&&(n.selected=[],e.$apply())};s.on("click",a),e.$on("$destroy",function(){s.off("click",a),s.removeClass("mobile-safari")}),n.AppStateService.setFullOverlay(!1);for(var r in n.sortBy){var o=n.sortBy[r].sortingOrders;o.length>1&&_(o).forEach(function(e){Number(e.orderRule)===Number(n.orderRule)&&(n.selectedSortOrder=e.label)})}var l=this.filters;l.shopForRefines.length>1?this.firstFilter="gender":l.sizeRefines.length>1?this.firstFilter="size":l.ageRefines.length>1?this.firstFilter="age":l.subCategories.length>1?this.firstFilter="categories":l.brandRefines.length>1?this.firstFilter="brands":l.basePriceRange&&l.basePriceRange.maxPrice&&l.basePriceRange.minPrice?this.firstFilter="price":l.moreRefines.filters&&l.moreRefines.filters.length>0?this.firstFilter="preorder":this.disableFilter=!0}},{key:"select",value:function(e){var t=this,n=function(){t.filterResults({isMobilePriceFilter:t.isMobile})};this.selected=this.selected===e?"":e,"price"===e&&t.$timeout(function(){t.isMobile?t.slider=angular.element(".mobile-filter"):t.slider=angular.element(".desktop-filter"),angular.element(t.slider).on("set",n)}),t.$scope.$on("$destroy",function(){angular.element(t.slider).off("set",n)})}},{key:"isSelected",value:function(e){return this.selected==e}},{key:"startsWith",value:function(e,t){var n=(e+"").toLowerCase();return 0===n.indexOf(t.toLowerCase().trim())}},{key:"setSortOrder",value:function(e,t,n){var i=this.selectedSortOrder,s={"Price (low to high)":"PriceLowHigh","Price (high to low)":"PriceHighLow"};n=n||!1,this.orderRule=e,this.selectedSortOrder=t,this.isSortOrder=!0,this.sendFilterAppliedSegment=!1,this.filterResults(),this.toggleMobileSort(!0);var a={from_screen:this._SegmentService.getScreen(this._SegmentService.get("from_screen")),from_sort:s[i]||i,new_sort:s[t]||t};a[this.getPlpNameField()]=this.getPlpName(),a.plp_type=this.getPlpType(),this._SegmentService.track(this._SegmentService.EVENTS.SORTING_APPLIED,a),this.sendFilterAppliedSegment=!0}},{key:"stop",value:function(e){e.stopPropagation()}},{key:"showOverlay",value:function(){return this.AppStateService.isShowFullOverlay()}},{key:"createSelectedArray",value:function(e,t){return _(e).chain().filter("isSelected").map(t).value()}},{key:"getSelectedCount",value:function(e){var t=this,n=void 0;return n="preCount"!==e?this.createSelectedArray(this.filters[t.keyToFiltersMapping[e]],t.keyToPropMapping[e]).length:t.filters.moreRefines.filters&&t.filters.moreRefines.filters[0].selected?1:0,n>0?n+" selected":"All"}},{key:"toggleFilter",value:function(e){if(this.isMobile=!0,this.showMobileFilter=angular.isDefined(e)?!1:!this.showMobileFilter,this.select(this.showMobileFilter?this.firstFilter:""),this.AppStateService.setDisableScroll(this.showMobileFilter),this.rollbackFilterChanges(),this.showMobileFilter){var t={feed_size:this.plpData.totalRecords};t[this.getPlpNameField()]=this.getPlpName(),t.plp_type=this.getPlpType(),this._SegmentService.track(this._SegmentService.EVENTS.FILTER_CLICKED,t)}}},{key:"setFilterParams",value:function(e,t,n,i,s){var a=this,r=void 0;e&&("param"==i?(r=e[t].selected?[e[t].selected]:[],i=e[t][i]):r=a.createSelectedArray(e,t,i),r.length>0?(n[i]=r.join(","),a[s]=r.length+" selected"):(delete n[i],a[s]="All"))}},{key:"applyFilterSegment",value:function(){var e=this.$attrs["class"].indexOf("hide-for-large")>-1&&"mobile"===this.AppStateService.getDeviceType(),t=this.$attrs["class"].indexOf("show-for-large")>-1&&"mobile"!==this.AppStateService.getDeviceType();if(e||t){var n=[],i=[],s=[],a=[],r=[],o=[];n=this.filters.ageRefines.filter(function(e){return e.isSelected}).map(function(e){return e.fromAge+"-"+e.toAge}),i=this.filters.brandRefines.filter(function(e){return e.isSelected}).map(function(e){return e.brandName});for(var l in this.filters.subCategoryRefines){var c=this.filters.subCategoryRefines[l];c.isSelected&&s.push(c.name)}a=this.filters.shopForRefines.filter(function(e){return e.isSelected}).map(function(e){return e.optionName});for(var d=0;this.filters.moreRefines.filters&&d<this.filters.moreRefines.filters.length;d++){var c=this.filters.moreRefines.filters[d];c.selected&&r.push("Yes")}r=1==r.length?r[0]:"No",o=this.filters.sizeRefines.filter(function(e){return e.isSelected}).map(function(e){return e.name});var u=this.filters.currentPriceRange.minPrice!=this.filters.basePriceRange.minPrice?this.filters.currentPriceRange.minPrice:"",m=this.filters.currentPriceRange.maxPrice!=this.filters.basePriceRange.maxPrice?this.filters.currentPriceRange.maxPrice:"",v=void 0;(u||m)&&(u=u||this.filters.basePriceRange.minPrice,m=m||this.filters.basePriceRange.maxPrice,v=u+"-"+m);var p={from_screen:this._SegmentService.getScreen(this._SegmentService.get("from_screen")),department_filter:a.length?a:null,age_filter:n.length?n:null,subcategory_filter:s.length?s:null,price_filter:v,size_filter:o.length?o:null,brand_filter:i.length?i:null,non_preorder_filter:r.length?r:null,feed_size:this.plpData.totalRecords};p[this.getPlpNameField()]=this.getPlpName(),p.plp_type=this.getPlpType(),this._SegmentService.track(this._SegmentService.EVENTS.FILTER_APPLIED,p)}}},{key:"getPlpType",value:function(){var e="";return e="boutique"===this.$state.current.name?this._ConfigService.SEGMENT.PLP_TYPE.BOUTIQUE:"products"===this.$state.current.name?this._ConfigService.SEGMENT.PLP_TYPE.PLP:["RFYP","ShopLook","SimilarProducts"].indexOf(this.$stateParams.hsection)>-1?this._ConfigService.SEGMENT.PLP_TYPE.RECO:this._ConfigService.SEGMENT.PLP_TYPE.SEARCH}},{key:"getPlpName",value:function(){var e="";return e="boutique"===this.$state.current.name?this.$stateParams.boutiqueName:"products"===this.$state.current.name?this.plpData.screenName:this.$stateParams.hsection==this._ConfigService.SEGMENT.KEYWORD||this.$stateParams.hsection==this._ConfigService.SEGMENT.RECENT_SEARCH?this._ConfigService.SEGMENT.SEARCH_RESULTS:this.plpData.screenName}},{key:"getPlpNameField",value:function(){var e={boutique:"boutique_name",products:"product_listing_name",search:"plp_name"};return e[this.$state.current.name]}},{key:"applyFilter",value:function(){this.filterResults(),this.toggleFilter(!1),this.toggleMobileSort(!1)}},{key:"toggleMobileSort",value:function(e){this.showMobileSort=angular.isDefined(e)?!1:!this.showMobileSort,this.AppStateService.setDisableScroll(this.showMobileSort)}},{key:"rollbackFilterChanges",value:function(){this.filterCopy?this.filters=angular.copy(this.filterCopy):this.resetFilters()}},{key:"filterResults",value:function(e,t,n){e&&t&&n&&e.map(function(e){angular.isArray(t[n])?t[n][0]===e[n][0]&&(e.isSelected=t.isSelected):t[n]===e[n]&&(e.isSelected=t.isSelected)});var i=this,s=!1,a=angular.copy(i.$stateParams),r=arguments[0]&&arguments[0].firstLoad,o=arguments[0]&&arguments[0].isMobilePriceFilter,l=i.filters;if(i.setFilterParams(l.shopForRefines,"optionValue",a,"shopForGender","genderCount"),i.setFilterParams(l.sizeRefines,"groupName",a,"sizeList","sizeCount"),i.setFilterParams(l.ageRefines,"groupName",a,"ageList","ageCount"),i.setFilterParams(l.brandRefines,"brandId",a,"brandIds","brandCount"),i.setFilterParams(l.subCategories,function(e){return e.subCategorys},a,"subCategorys","catCount"),i.setFilterParams(l.moreRefines.filters,"0",a,"param","preCount"),a.orderRule=i.orderRule,!l.currentPriceRange||l.currentPriceRange.maxPrice==l.basePriceRange.maxPrice&&l.currentPriceRange.minPrice==l.basePriceRange.minPrice?(delete a.maxPrice,delete a.minPrice):(a.maxPrice=l.currentPriceRange.maxPrice,a.minPrice=l.currentPriceRange.minPrice,s=!0),!r&&!o){if(!i.isSortOrder){var c=!1;for(var d in i.keyToFiltersMapping)if("All"!=i[d]){c=!0;break}c||s?a.isFromRefineFilter=!0:delete a.isFromRefineFilter}s=!1,i.isSortOrder=!1,delete a.fromSmartFilter,i.onFilterChanged({params:a}),this.sendFilterAppliedSegment&&this.applyFilterSegment()}}},{key:"resetFilters",value:function(){var e=this,t=e.filters;_([t.shopForRefines,t.sizeRefines,t.ageRefines,t.brandRefines,t.subCategories]).forEach(function(t){e.setKeyValue(t,"isSelected",!1)}),t.moreRefines.filters&&t.moreRefines.filters.length&&(t.moreRefines.filters[0].selected=!1),e.filters.currentPriceRange.minPrice=e.filters.basePriceRange.minPrice,e.filters.currentPriceRange.maxPrice=e.filters.basePriceRange.maxPrice}},{key:"setKeyValue",value:function(e,t,n){_.forOwn(e,function(e,i){e[t]=n})}}]),e}();t.FilterController=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return{restrict:"A",scope:{start:"=",step:"@",end:"=",callback:"@",margin:"@",ngModel:"=",ngFrom:"=",ngTo:"="},link:function(e,t,n){var i,s,a,r,o;return r=angular.element(t),i=e.callback?e.callback:"slide",null!=e.ngFrom&&null!=e.ngTo?(s=null,o=null,r.noUiSlider({start:[parseFloat(e.ngFrom)||parseFloat(e.start),parseFloat(e.ngTo)||parseFloat(e.end)],step:parseFloat(e.step||1),connect:!0,margin:parseFloat(e.margin||0),range:{min:[parseFloat(e.start)],max:[parseFloat(e.end)]}}),r.on(i,function(){var t,n,i;return i=r.val(),t=i[0],n=i[1],s=parseFloat(t),o=parseFloat(n),e.$apply(function(){return e.ngFrom=s,e.ngTo=o})}),e.$watch("ngFrom",function(e,t){return e!==s?r.val([e,null]):void 0}),e.$watch("ngTo",function(e,t){return e!==o?r.val([null,e]):void 0})):(a=null,r.noUiSlider({start:[parseFloat(e.ngModel)||parseFloat(e.start)],step:parseFloat(e.step||1),range:{min:[parseFloat(e.start)],max:[parseFloat(e.end)]}}),r.on(i,function(){return a=parseFloat(r.val()),e.$apply(function(){return e.ngModel=a})}),e.$watch("ngModel",function(e,t){return e!==a?r.val(e):void 0}))}}};t.NoUISliderDirective=n},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,n,i){"ngInject";function s(e){var t=e.data("__uid");return t||e.data("__uid",t=""+ ++f),t}function a(){return"number"==typeof h.pageYOffset?h.pageYOffset:(((t=v.documentElement)||(t=p.parentNode))&&"number"==typeof t.ScrollTop?t:p).ScrollTop}function r(){return Math.max(v.documentElement.clientHeight,h.innerHeight||0)}function o(e,t){return e+b+S>=t}function l(){var e=a();for(var t in y)if(y.hasOwnProperty(t)){var n=y[t],i=n.iElement,s=n.$scope;n.elemTop||(n.elemTop=i[0].parentElement.offsetTop),o(e,n.elemTop)&&(i.attr("src",s.lazySrc),y.hasOwnProperty(t)&&delete y[t])}}function c(){var e=angular.element(this),t=s(e);e.css("opacity",1),y.hasOwnProperty(t)&&delete y[t]}var d,u,m,v=n[0],p=v.body,h=e,g=angular.element(h),f=0,y={},b=r(),S=500;return g.bind("scroll",l),g.bind("resize",function(){b=r(),l()}),{restrict:"A",scope:{lazySrc:"@",animateVisible:"@",animateSpeed:"@"},link:function(e,t){t.bind("load",c);var n=function(e){return i(function(){l()},e)};e.$watch("lazySrc",function(){var i=e.animateSpeed||"1s",a=s(t);t.css({"background-color":"#fff",opacity:0,"-webkit-transition":"opacity "+i+", transform 0.85s ease-in-out",transition:"opacity "+i+", transform 0.85s ease-in-out"}),y[a]={iElement:t,$scope:e},d||(d=n(1e3),d.then(function(){d=null})),u||(u=n(2e3),u.then(function(){u=null})),m||(m=n(4e3),m.then(function(){m=null}))}),e.$on("$destroy",function(){t.unbind("load");var e=s(t);y.hasOwnProperty(e)&&delete y[e]})}}};i.$inject=["$window","$document","$timeout"],n.LazySrcDirective=i},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(e,n,i){"ngInject";return{restrict:"A",scope:{lazyBg:"@",animateVisible:"@",animateSpeed:"@"},link:function(s,a){function r(e){var t=e.data("__uid");return t||e.data("__uid",t=""+ ++f),t}function o(){return"number"==typeof h.pageYOffset?h.pageYOffset:(((t=v.documentElement)||(t=p.parentNode))&&"number"==typeof t.ScrollTop?t:p).ScrollTop}function l(){return Math.max(v.documentElement.clientHeight,h.innerHeight||0)}function c(e,t){return e+b+S>=t}function d(){var e=o();for(var t in y)if(y.hasOwnProperty(t)){var n=y[t],i=n.iElement,s=n.$scope;if(!n.elemTop){for(var a=i[0],r=0,l=0;10>=l&&a.offsetParent;)r+=a.offsetTop,a=a.offsetParent,l++;n.elemTop=r}c(e,n.elemTop)&&(i.css("background-image",'url("'+s.lazyBg+'")'),i.css("opacity",1),delete y[t])}}function u(){var e=angular.element(this),t=r(e);y.hasOwnProperty(t)&&delete y[t]}var m,v=n[0],p=v.body,h=e,g=angular.element(h),f=0,y={},b=l(),S=500;g.bind("scroll",d),g.bind("resize",function(){b=l(),d()}),u.apply(a);var _=function(e){return i(function(){d()},e)};s.$watch("lazyBg",function(){var e=s.animateSpeed||"1s",t=r(a);a.css({opacity:0,"-webkit-transition":"opacity "+e+" ease-in-out",transition:"opacity "+e+" ease-in-out"}),y[t]={iElement:a,$scope:s},m||(m=_(0),m.then(function(){m=null}))}),s.$on("$destroy",function(){var e=r(a);y.hasOwnProperty(e)&&delete y[e],g.unbind("scroll",d)})}}};i.$inject=["$window","$document","$timeout"],n.LazyBgDirective=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){"ngInject";return{restrict:"AE",scope:{boutiques:"=",isDepartment:"=",section:"=",deregisterListeners:"&"},controller:["$scope","$element",function(i,s){var a='<div class="columns boutique-tile masonry-brick">\n                <boutique boutique="boutique" track-data="trackData" is-department="isDepartment" section="section"  deregister-listeners="deregisterListeners()"></boutique>',r='<div class="columns boutique-tile masonry-brick">\n                <multi-boutique-tile boutique="boutique" section="section"></multi-boutique-tile>',o={},l=!0;salvattore.registerGrid(s[0]);var c=s[0].children.length,d=s.width()/c,u=function(){n(function(){c=s[0].children.length,d=s.width()/c})};t.addEventListener("resize",u,!1),s.on("$destroy",function(){t.removeEventListener("resize",u)}),i.$on("hs.loggedIn",function(){s[0].innerHTML="",salvattore.registerGrid(s[0])});var m=function(e,t,n){var i=e?t/e:1;return n/i},v=function(e){return m(e.flexiImageHeight,e.flexiImageWidth,d)},p=function(e){for(var t=0,n=0;n<e.length;n++){var i=e[n][0].width/e[n].length;t+=m(e[n][0].height/e[n].length,i,d/e[n].length)}return t},h=[],g=10;i.$watchCollection("boutiques",function(t,n){for(var u=[],m=0;c>m;m++)u.push([]),h.push(s[0].children[m].offsetHeight);var f=0,y=l?0:(n||[]).length;l=!1;for(var b=[],m=y;m<(t||[]).length;m++){var S=i.$new();S.boutique=i.boutiques[m],S.boutique.columnWidth=d,S.boutique.isDepartment=i.isDepartment,S.boutique.arrayIndex=m,o[S.boutique.getBoutiqueImage()]=m;var _=void 0,k=void 0;if("COLLECTION"===S.boutique.tileType&&S.boutique.tiles?(_=e(r)(S),k=p(S.boutique.tiles)):(S.trackData={add_from:m+1+"_Boutique_"+S.boutique.id,add_from_details:""},_=e(a)(S),k=v(S.boutique)),g>m)u[m%c].push(_[0]),h[m%c]+=k,f=Math.max(f,u[m%c].length);else{for(var w=9999999,C=0,P=0;c>P;P++){for(var D=h[P]+k,T=D,I=D,$=0;c>$;$++)P!=$&&(T=Math.min(h[$],T),I=Math.max(h[$],I));var E=I-T;w>E&&(w=E,C=P)}u[C].push(_[0]),h[C]+=k,f=Math.max(f,u[C].length)}}for(var m=0;f>m;m++)for(var P=0;c>P;P++)u[P][m]?b.push(u[P][m]):b.push(angular.element("<div></div>")[0]);salvattore.appendElements(s[0],b)})}]}};n.$inject=["$compile","$window","$timeout"],t.SalvattoreDirective=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/sizechart/size-chart.html",controller:"SizeChartController",controllerAs:"vm"};t.SizeChartComponent=s;var a=function(){function e(t,i,s,a,r,o){"ngInject";n(this,e),this._ModalService=t,this._ProductService=i,this._ConfigService=s,this._SegmentService=a,this._$scope=r,this._$state=o,this.sizeChartData={},this.showLengthBlock=[!0,!0],this.showWeightBlock=[!0,!0],this.isLengthActive=[],this.isWeightActive=[],this.tableData=[],this.activate()}return e.$inject=["ModalService","ProductService","ConfigService","SegmentService","$scope","$state"],i(e,[{key:"activate",value:function(){this.loadSizeChart()}},{key:"loadSizeChart",value:function(){var e=this,t={},n=e._$scope.ngDialogData;this._ProductService.getProductSizeChart(n.productId,t).then(function(t){e.sizeChartData=t.data.sizeChartDTOList,e.productName=n.productName,e.prepareTableData();for(var i=[],s=[],a=0;a<n.simpleSkus.length;a++)i.push(n.simpleSkus[a].attributes.size);for(var a=0;a<n.simpleSkus.length;a++)s.push(n.simpleSkus[a].fromAge+"-"+n.simpleSkus[a].toAge);e._SegmentService.track(e._SegmentService.EVENTS.SIZE_CHART_VIEWED,{product_id:n.productId,from_screen:e._SegmentService.getScreen(e._SegmentService.get("from_screen")),from_location:"product"===e._$state.current.name?"PDP":"Select size",name:n.productName,brand:n.brandName,category:n.categoryName,subcategory:n.subCategoryName||n.subcategoryName,product_type:n.productTypeName,preorder:n.isPresale?"Yes":null,gender:n.simpleSkus[0].gender,size:i.length?i:null,age:s.length?s:null})},function(t){e.showToastr(t)})}},{key:"prepareTableData",value:function(){if(this.sizeChartData[0].sizeChartParameterValueDTOList)for(var e=0;e<this.sizeChartData.length;e++)-1===this.sizeChartData[e].parameterMeasureTypeList.indexOf("W")&&(this.showWeightBlock[e]=!1),-1===this.sizeChartData[e].parameterMeasureTypeList.indexOf("L")&&(this.showLengthBlock[e]=!1),this.isLengthActive[e]=this.sizeChartData[e].lengthUnit,this.isWeightActive[e]=this.sizeChartData[e].weightUnit,this.tableData[e]=[{valueList:this.sizeChartData[e].parameterNamesList}].concat(this.sizeChartData[e].sizeChartParameterValueDTOList)}},{key:"setWeight",value:function(e,t){if(this.isWeightActive[e]!==t){var n="kg"===t?1/this._ConfigService.KG_TO_LB:this._ConfigService.KG_TO_LB;this.isWeightActive[e]=t,this.convertUnit("W",n,e)}}},{key:"setLength",value:function(e,t){if(this.isLengthActive[e]!==t){var n="cm"===t?this._ConfigService.CM_TO_INCH:1/this._ConfigService.CM_TO_INCH;this.isLengthActive[e]=t,this.convertUnit("L",n,e)}}},{key:"convertUnit",value:function(e,t,n){var i=this;i.sizeChartData[n].sizeChartParameterValueDTOList.map(function(s){return s.valueList.forEach(function(a,r){i.sizeChartData[n].parameterMeasureTypeList[r]==e&&!function(){var e=a.replace(/\s/g,"").split("-");e.forEach(function(n,i){e[i]=Math.round(n*t*10)/10}),s.valueList[r]=e.join(" - ")}()}),s})}}]),e}();t.SizeChartController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/sizeselector/size-selector.html",controller:"SizeSelectorController",controllerAs:"vm"};t.SizeSelectorComponent=s;var a=function(){function e(t,i){"ngInject";n(this,e),this._ModalService=t,this.productDetail=i.ngDialogData,this._$scope=i,this.activate()}return e.$inject=["ModalService","$scope"],i(e,[{key:"activate",value:function(){this.skus=_.sortBy(this.productDetail.simpleSkus,function(e){return!e.availableQuantity>0})}},{key:"addItemToCart",value:function(e){e.availableQuantity?this._$scope.closeThisDialog(e):this._$scope.closeThisDialog()}},{key:"showSizeChart",value:function(){var e=this.productDetail;e.productId=this.productDetail.id,this._ModalService.showSizeChartModal(e)}},{key:"chooseSku",value:function(e){e.availableQuantity>0&&(this.selectedSku=e)}}]),e}();t.SizeSelectorController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._ProductService=t,this._SegmentService=i,this.data=s.ngDialogData,this._$scope=s,this.form={},this._$element=a,this.activate(r)}return e.$inject=["ProductService","SegmentService","$scope","$element","$timeout"],i(e,[{key:"activate",value:function(e){var t=this;this.data.addressList&&e(t.initializeVariables.bind(t),100)}},{key:"checkPincode",value:function(e,t){var n=this;return angular.isUndefined(t)&&!this.form.enteredPincode?void(this.form.enteredPincodeError="Please enter pincode."):(e=e||this.form.enteredPincode,void(this.data.pincode!==e?!function(){n.gettingEdd=!0;var i=n;n._ProductService.checkEddForPincode(n.data.pid,e).then(function(s){var a={from_screen:"Product details",from_pincode:i.data.pincode||"standard",pincode:e};t&&(a.shipped_address=t),s.data.newPincode=e,s.data.serviceable?(i.form.enteredPincodeError=null,a.edd=s.data.edd,a.COD=s.data.codAvailable?"Available":"Not available",i._SegmentService.track(i._SegmentService.EVENTS.PINCODE_CHECKED,a),n.closeModal(s.data)):(i.form.enteredPincodeError=s.data.noPinCodeMessage,a.edd="Not available",a.COD="Not available",i._SegmentService.track(i._SegmentService.EVENTS.PINCODE_CHECKED,a)),i.gettingEdd=!1},function(e){i.gettingEdd=!1,i.form.enteredPincodeError=e.data.message})}():this.closeModal()))}},{key:"closeModal",value:function(e){this._$scope.closeThisDialog(e)}},{key:"initializeVariables",value:function(){this.showRight=!1,this.showLeft=!1,this.maxRight=null,this.marginLeft=0,this.clientWidth=this._$element.find(".delivery-addresses-container")[0].clientWidth,this.scrollElement=this._$element.find(".address-scroller-container")[0],this.scrollWidth=this.scrollElement.scrollWidth,this.scrollWidth>this.clientWidth&&(this.showRight=!0)}},{key:"scrollRight",value:function(){this.showLeft=!0,null===this.maxRight&&(this.maxRight=this.scrollWidth-this.clientWidth),this.marginLeft-=.6*this.clientWidth,Math.abs(this.marginLeft)>this.maxRight&&(this.marginLeft=-this.maxRight,this.showRight=!1),this.scrollElement.style.marginLeft=this.marginLeft+"px"}},{key:"scrollLeft",value:function(){this.showRight=!0,this.marginLeft+=.6*this.clientWidth,this.marginLeft>=0&&(this.marginLeft=0,this.showLeft=!1),this.scrollElement.style.marginLeft=this.marginLeft+"px"}}]),e}();t.PincodeCheckerModalController=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";return{template:'<a href="javascript:void(0);" id="goToTop"><span class="icon-medium icon-arrow-top"></span><span class="top-text">Back to top</span></a>',restrict:"E",link:function(t,n){var i=n.find("#goToTop"),s=0;t.$on("$locationChangeSuccess",function(){s=a.scrollTop()});var a=angular.element(e),r=void 0;a.scroll(function(){r=clearTimeout(r),setTimeout(function(){var e=a.scrollTop(),t=e-s;0>t&&e>500?i.show().addClass("active"):(t>20||500>=e)&&i.hide().removeClass("active"),s=e},200)}),i.click(function(){return angular.element("html, body").animate({scrollTop:0},600),!1})}}};n.$inject=["$window"],t.GoToTopComponent=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/refund-qty-selector/refund-qty-selector.html",controller:"RefundQtySelectorController",controllerAs:"vm"};t.RefundQtySelectorComponent=s;var a=function(){function e(t,i){"ngInject";n(this,e),this._ModalService=t,this.qtyData=i.ngDialogData,this._$scope=i,this.activate()}return e.$inject=["ModalService","$scope"],i(e,[{key:"activate",value:function(){}},{key:"chooseQty",value:function(e){this._$scope.ngDialogData.cancelQty=e,this._$scope.closeThisDialog()}}]),e}();t.RefundQtySelectorController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/cart/cart-details/cart-details.html",controller:"CartDetailsController",controllerAs:"vm",bindings:{cartDetails:"=",onItemChange:"&",updatingCart:"="}};t.CartDetailsComponent=s;var a=function(){function e(t,i,s,a){"ngInject";n(this,e),this._CartService=t,this._ModalService=i,this._$log=s,this.promoCode="",this.disableEnter=!1,this._toastr=a}return e.$inject=["CartService","ModalService","$log","toastr"],i(e,[{key:"updateCredits",value:function(e){var t=this,n=function(e){t.onItemChange()},i=function(n){t._$log.error(n),e.applied=!e.applied,t.updatingCart=!1};e.applied?t._CartService.applyCredits(e.creditName).then(n,i):t._CartService.removeCredits(e.creditName).then(n,i)}},{key:"applyPromoCode",value:function(){var e=this;e.promoCode&&(e.disableEnter=!0,e._CartService.applyPromoCode(e.promoCode).then(function(t){e.onItemChange().then(function(){e.promoCode="",e.disableEnter=!1})},function(t){"no_promo_mobile"===t.data.errorType?e._ModalService.showPhoneVerificationModal(e):e._toastr.error(t.data.message),e.updatingCart=!1,e.disableEnter=!1}))}},{key:"removePromoCode",value:function(e){var t=this;t._CartService.removePromoCode(e).then(function(e){t.onItemChange(),t._toastr.info("Promo code removed successfully.")},function(e){t._toastr.error(e.data.message),t.updatingCart=!1})}}]),e}();t.CartDetailsController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/cart/cart-item/cart-item.html",controller:"CartItemController",controllerAs:"vm",bindings:{product:"=",onItemChange:"&",isSoldOut:"=",updatingCart:"="}};t.CartItemComponent=s;var a=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._$log=a,this._CustomerService=i,this.itemRemoved=!1,this._maxQty=this.product.selectMaxValue,this.selectedSkuName=_.find(this.product.miniSkus,{sku:this.product.sku}).size,this.product.discount=this.product.discount||Math.round((this.product.regularTotal-this.product.subTotal)/this.product.regularTotal*100),this._CartService=t,this._ProductService=s,this._toastr=r,this.isOneSize="one size"==this.selectedSkuName.toLowerCase()||"onesize"==this.selectedSkuName.toLowerCase()}return e.$inject=["CartService","CustomerService","ProductService","$log","toastr"],i(e,[{key:"removeItem",value:function(){var e=this;e._CartService.removeCartItem(e.product.shoppingCartItemId).then(function(t){e.onItemChange()},function(t){e._toastr.error(t.data.message),e._$log.error(t),e.updatingCart=!1})}},{key:"getAnalyticsDataForProductCart",value:function(){return{sku:this.product.sku,quantity:this.product.quantity,productId:this.product.id,value:this.product.retailPrice}}},{key:"updateItem",value:function(){var e=this;e._CartService.updateCart(e.product,e.getAnalyticsDataForProductCart()).then(function(t){e._CustomerService.setCartItemQty(t.data.cartItemQty),e.onItemChange()},function(t){e._toastr.error(t.data.message),e._$log.error(t),e.updatingCart=!1})}},{key:"viewProduct",value:function(){return this._ProductService.getProductDashedUrl(this.product)}},{key:"subtractQty",value:function(){this.product.quantity>1&&(this.product.quantity--,this.updateItem())}},{key:"addQty",value:function(){this.product.quantity>=this._maxQty?this._toastr.info("You cannot select more than "+this._maxQty+" quantity."):(this.product.quantity++,
this.updateItem())}},{key:"showDiscount",value:function(){return this.product.regularTotal<=this.product.subTotal}}]),e}();t.CartItemController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={MESSAGE_BAR:"Message bar",FAIL_MSG:"Fail message"},a=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v,p){"ngInject";n(this,e),this._ModalService=t,this._CartService=i,this._ConfigService=a,this._$log=r,this._$state=o,this._$analytics=c,this._AnalyticsUtil=s,this._$scope=l,this._$timeout=d,this._toastr=v,this._$window=u,this._$rootScope=m,this._SegmentService=p,this.activate()}return e.$inject=["ModalService","CartService","AnalyticsUtil","ConfigService","$log","$state","$scope","$analytics","$timeout","$window","$rootScope","toastr","SegmentService"],i(e,[{key:"activate",value:function(){var e=this;e.loading=!0,e.empty=!1,e.updatingCart=!1,e.getCartDetails(),e._$scope.$on("hs.cart.loading",function(){e.updatingCart=!0}),e._$state.includes("checkout.review")&&e._CartService.trackCheckout(2,"checkout-review")}},{key:"getCartDetails",value:function(){var t=this;return t.inactivePane=function(){return!("checkout.review"==t._$state.current.name)},t._CartService.getCartDetails().then(function(n){if(t.loading=!1,t.empty=n.data.isCartEmpty,t.cartDetails=e.setCreditInfo(n.data),t.updatingCart=!1,!t.empty){var i=t._AnalyticsUtil.extractProductsForTrackingFromCartResponse(t.cartDetails);t._CartService.setCartProductsForAnalytic(i.products),t.trackViewCartEvent(i.viewCartData)}t.empty&&t._$state.includes("checkout.review")&&t._$timeout(function(){t._$state.go("home")},t._ConfigService.EMPTY_CART_REDIRECT_TIMER)},function(e){t._CartService.resetCacheBusterTs(),t._$log.error(e),t.updatingCart=!1})}},{key:"closeCartModal",value:function(){this._ModalService.closeCartModal()}},{key:"closeCartModalForSmall",value:function(){this._$window.history.back(),this._$window.location.hash="",this._ModalService.closeCartModal()}},{key:"orderNow",value:function(){var e=this;e.updatingCart=!0,e._CartService.orderNow().then(function(t){e._CartService.trackCheckout(1,"checkout-initiate"),e._$state.go("checkout.delivery"),e.updatingCart=!1;for(var n=0,i=0;i<e.cartDetails.cartResponse.orderResponse.orderGroups.length;i++)n+=e.cartDetails.cartResponse.orderResponse.orderGroups[i].orderItemInfos.length;e._SegmentService.track(e._SegmentService.EVENTS.CHECKOUT_STARTED,{total_item_price:e.cartDetails.cartResponse.orderResponse.order.productAmount,total_amount:e.cartDetails.cartResponse.orderResponse.order.totalAmount,discount_percentage:e.cartDetails.cartResponse.orderResponse.order.discountPercentage,credit:e.cartDetails.cartResponse.orderResponse.order.totalCredit,shipping:e.cartDetails.cartResponse.orderResponse.order.postAge,net_amount:e.cartDetails.cartResponse.orderResponse.order.payAmount,sku_count:n,total_quantity:e.cartDetails.cartResponse.orderResponse.order.itemCount}),e.closeCartModal()},function(t){return e.updatingCart=!1,"failure"==t.data.action&&"no_verify_mobile"==t.data.errorType?void e.goForPhoneVerificaton():(e._CartService.resetCacheBusterTs(),void e._toastr.error(t.data.message))})}},{key:"orderNowCheckout",value:function(){var e=this;e.updatingCart=!0,e._CartService.orderNow().then(function(t){e.unNotifiedStateTransitionTo(e,"checkout.delivery"),e.updatingCart=!1},function(t){e._CartService.resetCacheBusterTs(),e.updatingCart=!1,e._toastr.error(t.data.message)})}},{key:"showNotificationClasses",value:function(){var e=[];return this.cartDetails&&this.cartDetails.displayType==s.MESSAGE_BAR&&e.push("message-bar"),this.cartDetails&&this.cartDetails.displayType==s.FAIL_MSG&&e.push("fail-message"),e}},{key:"isShowNotification",value:function(){return this.cartDetails&&(this.cartDetails.displayType==s.MESSAGE_BAR||this.cartDetails.displayType==s.FAIL_MSG)}},{key:"gotoNextState",value:function(){this.unNotifiedStateTransitionTo(this,"checkout.review")}},{key:"trackViewCartEvent",value:function(e){this._$state.includes("checkout")||(e.productIds=e.productIds.join(","),e.productNames=e.productNames.join(","),e.productBrands=e.productBrands.join(","),e.productPrices=e.productPrices.join(","),e.productSkuIds=e.productSkuIds.join(","),e.productQtys=e.productQtys.join(","),this._$analytics.eventTrack("viewCart",e))}},{key:"unNotifiedStateTransitionTo",value:function(e,t){e._$state.go(t,{},{notify:!1}),e._$timeout(function(){e._$rootScope.$broadcast("checkout.stepChanged")})}},{key:"goForPhoneVerificaton",value:function(){this._ModalService.showPhoneVerificationModal(this)}},{key:"applyPromoCode",value:function(){this.orderNow()}}],[{key:"setCreditInfo",value:function(e){if(e.showCreditPanel=!1,e.isCartEmpty)return e;for(var t=0;t<e.cartResponse.orderResponse.creditAccounts.length;t++){var n=e.cartResponse.orderResponse.creditAccounts[t];if("W"!=n.creditType&&n.amount)return e.showCreditPanel=!0,e}return e}}]),e}();t.CartController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function s(e,t,i){"ngInject";n(this,s),this._ModalService=e,this._$scope=t,this.dialogData=this._$scope.ngDialogData,"checkout.review"===this.dialogData.goToState&&(i._cartDetails=null)};i.$inject=["ModalService","$scope","CartService"],t.CartAlertDialogController=i},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l){"ngInject";n(this,e),this._DeliveryService=t,this.addressForm={pincodeError:!1,pincodeErrorMsg:""},this._$state=s,this._toastr=o,this.CartService=i,this.inactivePane=function(){return!("checkout.delivery"==s.current.name)},this.isDeliveryDone=this.inactivePane()&&"checkout.payment"==s.current.name,this.selectedAddress=null,this.selectedAddressId=null,this.isZipcodeValid=!1,this.processingDelivery=!1,this.upsertTitle="Add a delivery address",this.loading=!0,this.incorrectPhone=!1,this._$rootScope=a,this._$timeout=r,this.form={},this.activate();var c=this;l.$watch(function(){return s.$current.name},function(e,t){if("checkout.delivery"==e){var n=c.CartService.getPrimaryAddress();c.validateDeliveryForPincode(n,!0)}})}return e.$inject=["DeliveryService","CartService","$state","$rootScope","$timeout","toastr","$scope"],i(e,[{key:"activate",value:function(){this.getAddressList(),this._$state.includes("checkout.delivery")&&this.CartService.trackCheckout(3,"checkout-delivery")}},{key:"validateDeliveryForPincode",value:function(e,t){e&&e.isPrimary&&(this.CartService.setPrimaryAddress(e),e.canCod||"checkout.delivery"!=this._$state.current.name||this._toastr.error("Cash on delivery not available for pin code "+e.zipCode+"."))}},{key:"getAddressList",value:function(){var e=this;e._DeliveryService.getAddresses().then(function(t){e.loading=!1,e.addressList=t.data.allAddressItems;var n=_.partition(e.addressList,{isPrimary:!0});e.addressList=_.flatten(n),e.noAddress=0===e.addressList.length,e.noAddress||(e.selectedAddress=_.find(e.addressList,{isPrimary:!0})||{},e.selectedAddress.zipCode&&e._DeliveryService.setDefaultZipcode(e.selectedAddress.zipCode),e.selectedAddressId=e.selectedAddress.id,e.selectedAddressId&&e.validateDeliveryForPincode(e.selectedAddress,e.selectedAddressId!=e.selectedAddress.id))},e.errorCb.bind(e))}},{key:"editAddress",value:function(e,t){this.upsertAddress=!0,this.upsertTitle="Edit delivery address",this.addressForm=angular.copy(e),this.addressForm.shipToName=e.name,this.addressForm.addressId=e.id,this.addressForm.index=t,this.isZipcodeValid=!0,this.addressForm.zipCode=1*this.addressForm.zipCode,this.addressForm.cellPhone=1*this.addressForm.cellPhone}},{key:"isPincodeAndPhoneValid",value:function(){var e=6==this.addressForm.zipCode.toString().length,t=10==this.addressForm.cellPhone.toString().length&&parseInt(this.addressForm.cellPhone.toString()[0])>6;return e||(this.addressForm.pincodeError=!0,this.addressForm.pincodeErrorMsg="Please enter pincode"),t||(this.incorrectPhone=!0),e&&t}},{key:"saveUpdateAddress",value:function(){if(this.isPincodeAndPhoneValid()){var e=this;e.incorrectPhone=!1,e.addressForm.isPrimary=!0,e.processingDelivery=!0,e._DeliveryService.saveUpdateAddress(e.addressForm).then(function(t){e.processingDelivery=!1,e.upsertAddress=!1,e.selectedAddress=t.data.currentAddress,e.CartService.setPrimaryAddress(e.selectedAddress),e._DeliveryService.setDefaultZipcode(e.selectedAddress.zipCode),e.selectedAddressId=e.selectedAddress.id,e.addressForm.id?e.addressList[e.addressForm.index]=t.data.currentAddress:e.addressList=[t.data.currentAddress].concat(e.addressList),angular.element("#addressList")[0].scrollTop=0,e.validateDeliveryForPincode(e.selectedAddress),e.unNotifiedStateTransitionTo(e,"checkout.payment")},e.errorCb.bind(e))}}},{key:"addNewAddress",value:function(){this.CartService.trackCheckoutOption(2,"add-new-address"),this.upsertAddress=!0,this.upsertTitle="Add a delivery address",this.addressForm={}}},{key:"closeUpsertForm",value:function(){this.upsertAddress=!1}},{key:"proceedToPayment",value:function(){var e=this;e.processingDelivery=!0;var t=function(){e.unNotifiedStateTransitionTo(e,"checkout.payment"),e.processingDelivery=!1,e._DeliveryService.setDefaultZipcode(e.selectedAddress.zipCode)};e.selectedAddressId!=e.selectedAddress.id?(e.CartService.trackCheckoutOption(2,"select-different-address"),e._DeliveryService.selectDeliveryAddress({addressId:e.selectedAddressId}).then(function(n){e.validateDeliveryForPincode(n.data.currentAddress,e.selectedAddressId!=e.selectedAddress.id),e.selectedAddress=_.find(e.addressList,{id:e.selectedAddressId}),t()},e.errorCb.bind(e))):t()}},{key:"errorCb",value:function(e){this._toastr.error(e.data.message),this.processingDelivery=!1,this.loading=!1}},{key:"checkPincode",value:function(e){var t=this;e?t._DeliveryService.checkPincode(e).then(function(e){t.addressForm.pincodeError=!1,t.addressForm.pincodeErrorMsg="",t.addressForm.city=e.data.city,t.addressForm.state=e.data.state,t.isZipcodeValid=!0},function(e){t.addressForm.pincodeError=!0,t.addressForm.pincodeErrorMsg=e.data.message,t.isZipcodeValid=!1}):(t.addressForm.pincodeError=!0,t.addressForm.pincodeErrorMsg="Please enter pincode")}},{key:"gotoNextState",value:function(){this.unNotifiedStateTransitionTo(this,"checkout.delivery")}},{key:"unNotifiedStateTransitionTo",value:function(e,t){e._$state.go(t,{},{notify:!1}),e._$timeout(function(){e._$rootScope.$broadcast("checkout.stepChanged")})}}]),e}();t.DeliveryController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d,u,m){"ngInject";var v=this;n(this,e),this._$state=c,this.inactivePane=function(){return!("checkout.payment"==v._$state.current.name)},this.CartService=t,this._CustomerService=s,this.userCredentials="Hopscotch:"+s.getCustomerInfo().userId,this._PaymentService=i,this._ModalService=a,this._ConfigService=r,this._OrderService=o,this._PaymentValidationService=l,this._toastr=d,this._$cookies=u,this.PAYMENT_MODES={ONLINE_PAYMENT:"POL",CASH_ON_DELIVERY:"COD",ORDER_WITHOUT_PAYMENT:"OWP"},this.PAYMENT_GATEWAY={NET_BANKING:"NB",CREDIT_CARD:"CC",SAVED_CARD:"SC"},this.CARD_TYPE={CC:"CREDIT",DC:"DEBIT"},this.ORDER_STATUS_CODE={PAYMENT_FAILED:"PF"},this.paymentDetails={},this.paymentDetails.saveCardForFuture=!0,this.processingPayment=!1,this.failedPayment=!1;var p=this,h=m.$on("hs.cart.updated",function(){p.getCartDetails()});m.$on("$destroy",function(){h()}),this.activate()}return e.$inject=["CartService","PaymentService","CustomerService","ModalService","ConfigService","OrderService","PaymentValidationService","$state","toastr","$cookies","$scope"],i(e,[{key:"activate",value:function(){this.getNetBankList(),this.getCartDetails(),this.getSavedCards(),this._$state.params.paymentResult&&this._$state.params.orderId&&(this.failedPayment=!0,this.paymentMode=null,this.getFailedPaymentDetails(this._$state.params.orderId)),this._$state.includes("checkout.payment")&&this.CartService.trackCheckout(4,"checkout-payment")}},{key:"toggleSavedCard",value:function(e){var t=this;_.isEmpty(this.savedCards)||_.forIn(this.savedCards,function(n,i){n.isActive=e==i,n.isActive&&(t.paymentMode=t.PAYMENT_GATEWAY.SAVED_CARD,t.paymentDetails.ccvv=null,t.paymentDetails.cardToken=n.card_token)})}},{key:"getZIndex",value:function(e){return{position:"relative","z-index":e,"margin-bottom":"-10px"}}},{key:"showIfNotTestUser",value:function(e){return e.toLowerCase().indexOf("hopscotch")<0}},{key:"getExpireDateYear",value:function(e){return this.savedCards[e].expiry_month+"/"+this.savedCards[e].expiry_year.substr(-2)}},{key:"getNetBankList",value:function(){var e=this;e._PaymentService.netBanksList().then(function(t){e.netBanks=_.sortBy(t.data.netBankList,["description"]),e.highLevelBanks=_.filter(t.data.netBankList,"logo").splice(0,4)},function(t){return e.errorCb(t)})}},{key:"getCartDetails",value:function(){var e=this;e.CartService.getCartDetailsObj().then(function(t){null!=t&&(e.cartDetails=t.data,e.isOWP=0==e.cartDetails.cartResponse.orderResponse.order.payAmount)},function(t){return e.errorCb(t)})}},{key:"getSavedCards",value:function(){var e=this;e._PaymentService.getSavedCards().then(function(t){if(e.response=angular.fromJson(t.data.responseText),e.response.status?(e.savedCards=e.response.user_cards,e.paymentMode=e.PAYMENT_GATEWAY.SAVED_CARD):(e.savedCards={},e.paymentMode={}),!_.isEmpty(e.savedCards)){var n=Object.keys(e.savedCards);e.savedCards[n[0]].isActive=!0,e.totalCards=_.values(e.savedCards).length}},function(t){return e.errorCb(t)})}},{key:"getFailedPaymentDetails",value:function(e){var t=this;t._OrderService.getOrderDetails(e).then(function(e){e.data.orderStatusCode===t.ORDER_STATUS_CODE.PAYMENT_FAILED?(e.data.paymentDetail["Credit card payment"]?(e.data.paymentDetail.mode=t.PAYMENT_GATEWAY.CREDIT_CARD,e.data.paymentDetail.modeName="Credit card",e.data.paymentDetail.icon="payment-failed-card"):e.data.paymentDetail["Netbanking payment"]?(e.data.paymentDetail.mode=t.PAYMENT_GATEWAY.NET_BANKING,e.data.paymentDetail.modeName="Net banking",e.data.paymentDetail.icon="payment-failed-netbanking"):(e.data.paymentDetail.mode=t.PAYMENT_MODES.CASH_ON_DELIVERY,e.data.paymentDetail.modeName="Cash On Delivery",e.data.paymentDetail.icon="payment-failed-common"),t.failedPaymentDetails=e.data):t.failedPayment=!1},function(e){return t.errorCb(e)})}},{key:"reorderByCOD",value:function(){var e=this;e.processingPayment=!0,e._PaymentService.placeOrder(e.PAYMENT_MODES.CASH_ON_DELIVERY).then(function(t){var n=t.data.orderId;e._PaymentService.payCod({orderId:n}).then(function(t){e._$cookies.put(e._ConfigService.SHOW_ORDER_CONFIRMATION_ONCE_COOKIE,!0),e._$state.go("paymentresult",{orderId:n,recordId:"NA",payResult:"Success",orderPlaced:"true"}),e.processingPayment=!1},function(t){e.CartService.resetCacheBusterTs(),e.processingPayment=!1,e._ModalService.showCartAlertModal({title:t.data.title||"Failure",message:t.data.message||"Cash on delivery failed. Please try again",button:"Try again",gotoHref:e._$state.href("checkout.payment"),goToState:"checkout.payment"})})})}},{key:"errorCb",value:function(e){this._toastr.error(e.message||e.data.message),this.CartService.resetCacheBusterTs(),this.savedCards={},this.paymentMode={}}},{key:"changePaymentMode",value:function(){this.paymentDetails={},this.paymentMode===this.PAYMENT_GATEWAY.CREDIT_CARD&&(this.paymentDetails.saveCardForFuture=!0),this.CartService.trackCheckoutOption(3,"Payment-Mode-"+this.paymentMode),this.toggleSavedCard()}},{key:"setPayNowDisable",value:function(e){return this.paymentMode==this.PAYMENT_GATEWAY.CREDIT_CARD?e.$invalid||!this.paymentDetails.cvcValid||!this.paymentDetails.valid:this.paymentMode==this.PAYMENT_GATEWAY.NET_BANKING?!this.paymentDetails.bankCode:this.paymentMode==this.PAYMENT_GATEWAY.SAVED_CARD?!this.paymentDetails.ccvv:this.paymentMode==this.PAYMENT_MODES.CASH_ON_DELIVERY?!1:!0}},{key:"placeOrder",value:function(){var e=this,t=e.CartService.getPrimaryAddress();if(!t.isServicable)return void e.errorCb({message:"Sorry we don't deliver to pincode "+t.zipCode+" anymore."});e.processingPayment=!0;var n=e.paymentMode;this._CustomerService.setCustomerAddresses(null),n!=e.PAYMENT_MODES.CASH_ON_DELIVERY&&(e.paymentDetails.payuPaymentGateway=n,n=e.PAYMENT_MODES.ONLINE_PAYMENT,e.paymentDetails.payuPaymentGateway===e.PAYMENT_GATEWAY.CREDIT_CARD&&(e.paymentDetails.storeCard=e.paymentDetails.saveCardForFuture?1:0,e.paymentDetails.bankCode=e.PAYMENT_GATEWAY.CREDIT_CARD,e.paymentDetails.ccexpmon=e.paymentDetails.expiryDetail.split("/")[0],e.paymentDetails.ccexpyr="20"+e.paymentDetails.expiryDetail.split("/")[1]),e.paymentMode===e.PAYMENT_GATEWAY.SAVED_CARD&&(e.paymentDetails.payuPaymentGateway=e.PAYMENT_GATEWAY.CREDIT_CARD)),e.CartService.trackCheckout(5,"checkout-placeOrder"),e._PaymentService.placeOrder(n).then(function(t){var i=t.data.recordId,s=t.data.orderId;e.paymentDetails.recordId=i,n===e.PAYMENT_MODES.ONLINE_PAYMENT?e._PaymentService.payPol(e.paymentDetails).then(function(t){e.paymentMode===e.PAYMENT_GATEWAY.CREDIT_CARD?t.data.bankcode=e.PAYMENT_GATEWAY.CREDIT_CARD:e.paymentMode===e.PAYMENT_GATEWAY.SAVED_CARD?t.data.store_card_token=e.paymentDetails.cardToken:t.data.bankcode=e.paymentDetails.bankCode,t.data.user_credentials=e.userCredentials,t.data.enforce_paymethod="creditcard|debitcard|netbanking",e._$cookies.put(e._ConfigService.SHOW_ORDER_CONFIRMATION_ONCE_COOKIE,!0),e._PaymentService.postToPayu(t.data)}):e._PaymentService.payCod({orderId:s}).then(function(t){e._$cookies.put(e._ConfigService.SHOW_ORDER_CONFIRMATION_ONCE_COOKIE,!0),e._$state.go("paymentresult",{orderId:s,recordId:"NA",payResult:"Success",orderPlaced:"true"}),e.processingPayment=!1},function(t){e.CartService.resetCacheBusterTs(),e.processingPayment=!1,e._ModalService.showCartAlertModal({title:t.data.title||"Failure",message:t.data.message||"Cash on delivery failed. Please try again",button:"Try again",gotoHref:e._$state.href("checkout.payment"),goToState:"checkout.payment"})})},function(t){e.CartService.resetCacheBusterTs(),e._ModalService.showCartAlertModal({title:t.data.title||t.data.alertTitle||"Oops! There’s bad news…",logo:t.data.logo||"payment-failed-alert",message:t.data.message,button:"Review Cart",gotoHref:e._$state.href("checkout.review"),goToState:"checkout.review"})})}},{key:"placeOWP",value:function(){var e=this;e.processingPayment=!0,e._PaymentService.placeOrder(e.PAYMENT_MODES.ORDER_WITHOUT_PAYMENT).then(function(t){var n=t.data.orderId;e._$cookies.put(e._ConfigService.SHOW_ORDER_CONFIRMATION_ONCE_COOKIE,!0),e._$state.go("paymentresult",{orderId:n,recordId:"NA",payResult:"Success",orderPlaced:"true"})},function(t){e.CartService.resetCacheBusterTs(),e._ModalService.showCartAlertModal({title:t.data.title||"It’s been a while…",logo:t.data.logo||"timeout-alert",message:t.data.message,button:"Review Cart",gotoHref:e._$state.href("checkout.review"),goToState:"checkout.review"})})}},{key:"getCardBrandClass",value:function(e,t,n){var i,s;return i="UNKNOWN"==e?"common-card":e.toLowerCase(),t?(s="saved-card-"+i+"-"+n+"-active","bg"==n&&(s+=" active")):s="saved-card-"+i+"-"+n+"-inactive",s}},{key:"getCardNumberRegex",value:function(e,t){var n=this._PaymentValidationService.getRegexForCard(t.toLowerCase());return e.split(n).join(" ")}},{key:"canMakeCod",value:function(){return this.CartService.canMakeCod()}}]),e}();t.PaymentController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this.verCC,this.verCVC,this.verEXP,this.isIE=t.documentMode&&t.documentMode<9,this.defaultFormat=/(\d{1,4})/g,this.defaultRegexFormat=/(\w{1,4})/g,this.cards=[{type:"visa",icon:"visa",pattern:/^4/,format:this.defaultFormat,regexFormat:this.defaultRegexFormat,length:[13,14,15,16],cvcLength:[3],luhn:!0},{type:"rupay",icon:"rupay",pattern:/(^508[5-9][0-9][0-9]|60698[5-9]|60699[0-9]|607[0-8][0-9][0-9]|6079[0-7][0-9]|60798[0-4]|(?!608000)608[0-4][0-9][0-9]|608500|6521[5-9][0-9]|652[2-9][0-9][0-9]|6530[0-9][0-9]|6531[0-4][0-9])/,format:this.defaultFormat,regexFormat:this.defaultRegexFormat,length:[16],cvcLength:[3],luhn:!0},{type:"laser",icon:"common-card",pattern:/^(6706|6771|6709)/,format:this.defaultFormat,regexFormat:this.defaultRegexFormat,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"maestro",icon:"maestro",pattern:/(^(5[06-8]|6\d)\d{14}(\d{2,3})?[\d]+)|(^(5[06-8]|6\d)[\d]+)|(^((504([435|645|774|775|809|993]))|(60([0206]|[3845]))|(622[018])\d)[\d]+)/,format:this.defaultFormat,regexFormat:this.defaultRegexFormat,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"mastercard",icon:"mastercard",pattern:/^5[1-5]/,format:this.defaultFormat,regexFormat:this.defaultRegexFormat,length:[16],cvcLength:[3],luhn:!0},{type:"amex",icon:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,regexFormat:/(\w{1,4})(\w{1,6})?(\w{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"diners",icon:"diners",pattern:/^(36|38|30[0-5])/,format:/(\d{1,4})(\d{1,6})?(\d{1,4})?/,regexFormat:/(\w{1,4})(\w{1,6})?(\w{1,4})?/,length:[14],cvcLength:[3],luhn:!0},{type:"jcb",icon:"common-card",pattern:/^35/,format:this.defaultFormat,regexFormat:this.defaultRegexFormat,length:[16],cvcLength:[3],luhn:!0}]}return e.$inject=["$document"],i(e,[{key:"verified",value:function(){return this.verCC&&this.verCVC&&this.verEXP}},{key:"reFormatCardNumber",value:function(e){var t,n,i,s;return(t=this.cardFromNumber(e))?(i=t.length[t.length.length-1],e=e.replace(/\D/g,""),e=e.slice(0,+i+1||9e9),t.format.global?null!=(s=e.match(t.format))?s.join(" "):void 0:(n=t.format.exec(e),null!=n&&n.shift(),null!=n?n.join(" "):void 0)):e}},{key:"cardFromNumber",value:function(e){var t,n,i;for(e=(e+"").replace(/\D/g,""),n=0,i=this.cards.length;i>n;n++)if(t=this.cards[n],t.pattern.test(e))return t}},{key:"luhnCheck",value:function(e){var t,n,i,s,a,r,o,l;if(i=!0,s=0,o=this.cardFromNumber(e),!o)return!1;for(l=o.length[o.length.length-1],n=(e+"").split("").reverse(),a=0,r=n.length;r>a;a++)t=n[a],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),s+=t;return this.verCC=s%10===0}},{key:"validateCardExpiry",value:function(e,t){var n,i,s,a;return angular.isObject(e)&&"month"in e&&(a=e,e=a.month,t=a.year),e&&t&&/^\d+$/.test(e)&&/^\d+$/.test(t)&&parseInt(e,10)<=12?(2===t.length&&(s=(new Date).getFullYear(),s=s.toString().slice(0,2),t=s+t),i=new Date(t,e),n=new Date,i.setMonth(i.getMonth()-1),i.setMonth(i.getMonth()+1,1),this.verEXP=i>n):!1}},{key:"validateCVC",value:function(e,t){return this.verCVC=e.indexOf(t)>-1}},{key:"getRegexForCard",value:function(e){var t=_.find(this.cards,{type:e});return t?t.regexFormat:this.defaultRegexFormat}}]),e}();t.PaymentValidationService=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["PaymentValidationService",function(e){return{require:"ngModel",scope:{ngModel:"="},link:function(t,n,i){var s,a,r,o,l,c;l=16,c=!1;var d=t.$watch("ngModel.ccnum",function(n,i){t.ngModel.icon="",t.ngModel.type="",n&&(r=e.cardFromNumber(n),r&&r.type&&(t.ngModel.type=r.type,t.ngModel.icon=r.icon),r&&(l=r.length[r.length.length-1]),o=n.replace(/\D/g,"").length,o==l&&(c=t.ngModel.valid=e.luhnCheck(n.replace(/\D/g,""))),c&&o!=l&&(c=t.ngModel.valid=!1))},!0),u=t.$watch("ngModel.ccexpmon",function(n,i){n&&(s=n,a&&(t.ngModel.expiry=e.validateCardExpiry(s,a)))},!0),m=t.$watch("ngModel.ccexpyr",function(n,i){n&&(a=n,s&&(t.ngModel.expiry=e.validateCardExpiry(s,a)))},!0),v=t.$watch("ngModel.ccvv",function(n,i){n&&r&&(t.ngModel.cvcValid=e.validateCVC(r.cvcLength,n.length))},!0);n.on("$destroy",function(){d(),u(),m(),v()})}}}];t.ValidateCardDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["PaymentValidationService","$timeout",function(e,t){return{scope:!1,link:function(n,i,s,a){i.on("keypress",function(t){var n,s,a,r,o,l;if(!(8===t.which||t.metaKey||!t.which&&t.keyCode))return n=String.fromCharCode(t.which),/^\d+$/.test(n)?(r=i.val(),a=e.cardFromNumber(r+n),o=(r.replace(/\D/g,"")+n).length,l=16,a&&(l=a.length[a.length.length-1]),o>l?void t.preventDefault():void((e.isIE||null==t.currentTarget.selectionStart||t.currentTarget.selectionStart===r.length)&&(s=a&&"amex"===a.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,s.test(r)?(t.preventDefault(),i.val(r+" "+n)):s.test(r+n)&&l>o&&(t.preventDefault(),i.val(r+n+" "))))):void t.preventDefault()}),i.on("paste",function(n){t(function(){var t,n;n=i.val();var t=e.reFormatCardNumber(n);i.val(t)})}),i.on("$destroy",function(){i.off("keypress"),i.off("paste")})}}}];t.FormatCardDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,i){function s(e){return e.length>4?t.val(e.substr(0,5)+"-"+e.substr(5)):t.val(e),t.val()}i.$formatters.push(function(e){return e?s(e.toString().replace(/\D/g,"")):void 0}),i.$parsers.push(function(e){if(e){var t=e.toString().replace(/\D/g,"");if(t.length>10&&(t=t.substr(-10)),s(t),10==t.length)return t}})}}}];t.FormatPhoneDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,i){function s(e){return e.length>2?t.val(e.substr(0,3)+"-"+e.substr(3)):t.val(e),t.val()}i.$formatters.push(function(e){return e?s(e.toString().replace(/\D/g,"")):void 0}),i.$parsers.push(function(e){return e&&(s(e.toString().replace(/\D/g,"")),6==e.toString().replace(/\D/g,"").length&&"0"!==e.toString()[0])?e.toString().replace(/\D/g,""):void 0})}}}];t.FormatZipcodeDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,i){function s(e){return e.length>1?t.val(e.substr(0,2)+"/"+e.substr(2)):t.val(e),t.val()}function a(e){if(e&&e.indexOf("/")>-1){var t=e.split("/");if(2==t.length&&t[0]&&t[1]){var n=t[0],s=t[1],a=new Date((new Date).getFullYear(),(new Date).getMonth()).getTime();if(new Date("20"+s+"-"+n).getTime()>=a)return void i.$setValidity("validExpiry",!0)}}i.$setValidity("validExpiry",!1)}i.$formatters.push(function(e){return e?(a(e),s(e.toString().replace(/\D/g,""))):void 0}),i.$parsers.push(function(e){return e?(s(e.toString().replace(/\D/g,"")),a(e),e):void 0})}}}];t.FormatExpiryDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";return{restict:"A",controller:["$scope","$element","$attrs",function(t,n,i){t.$watch(i.autoFocus,function(t){angular.isDefined(t)&&t&&e(function(){n[0].focus()})},!0),n.bind("blur",function(){angular.isDefined(i.ngFocusLost)&&t.$apply(i.ngFocusLost)})}]}};n.$inject=["$timeout"],t.AutoFocusDirectory=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/loader/title/title-loader.html"};t.TitleLoaderComponent=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/loader/filter/filter-loader.html"};t.FilterLoaderComponent=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/loader/pdp/pdp-loader.html"};t.PDPLoaderComponent=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/loader/order-detail/order-detail-loader.html"};t.OrderDetailLoaderComponent=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){return{restrict:"A",templateUrl:"app/components/widgets/autocomplete/autocomplete-suggestions.html",controller:"AutocompleteSuggestionsController",controllerAs:"acc",scope:{}}};t.AutocompleteSuggestionsDirective=s;var a="RecentSearch",r="BrandSuggestion",o="Keyword",l="CategorySuggestion",c=function(){function e(t,i,s,a,r,o,l,c,d,u,m,v){"ngInject";n(this,e),this.ProductService=t,this.ConfigService=v,this.LocalStorageService=u,this.suggestions=[],this.searchText="",this.showSearch=!1,this.showMSearch=!1,this.$element=s,this.$document=a,this.$scope=r,this.$rootScope=o,this._$timeout=d,this.recentSearches=[],this.AppStateService=m,this.$state=l,this.$stateParams=c,this._PageTrackingService=i,this._recentSearch=!0,this.activate()}return e.$inject=["ProductService","PageTrackingService","$element","$document","$scope","$rootScope","$state","$stateParams","$timeout","LocalStorageService","AppStateService","ConfigService"],i(e,[{key:"activate",value:function(){var e=this,t=e.LocalStorageService.getData("recentSearches");e.selectedItemIndex=-1,e.recentSearches=null===t?[]:t,e.$document.find("body").on("click",function(t){var n=t.target;e.showSearch&&"search"!==n.type&&!angular.element(n).hasClass("search")&&(e.showSearch=!1,e.$scope.$emit("setOverlay",{setOverlay:!1}),e.hideAndShowSearchBar(),e.$scope.$apply())}),e.$scope.$on("hs.showSearch",function(t,n){e.showSearch=n.showSearch,e.hideAndShowSearchBar()})}},{key:"focusText",value:function(e){var t=e;setTimeout(function(){t.selectionStart=0,t.selectionEnd=angular.element(t).val().length},100)}},{key:"getSuggestions",value:function(e,t){var n=this;if(38===t.keyCode&&n.selectedItemIndex>-1)n.selectedItemIndex--;else if(40===t.keyCode){var i=0;e&&e.length?n.suggestions.length&&(i=n.suggestions.length-1):n.recentSearches.length&&(i=n.recentSearches.length-1),n.selectedItemIndex<i&&n.selectedItemIndex++}else 13!==t.keyCode&&(n.selectedItemIndex=-1);if(n._recentSearch=!0,13===t.keyCode)if(n._recentSearch=!1,-1===n.selectedItemIndex&&e&&e.trim().length)n.suggestions=[],n.setAndSearch(e,e,-1,"keyword");else if(n.searchText&&n.searchText.length)if(n.suggestions.length){var s=angular.copy(n.suggestions[n.selectedItemIndex]);n.setAndSearch(s.label,s.name,s.id,s.type),n.suggestions=[]}else n.setAndSearch(e,e,-1,"keyword");else if(n.recentSearches.length){var s=n.recentSearches[n.selectedItemIndex];s&&(n.setAndSearch(s.label,s.name,s.id,s.type),n.suggestions=[])}e&&e.length>1?n.ProductService.getAutoSuggestions(e).then(function(e){n.suggestions=e}):n.suggestions=[]}},{key:"hideAndShowSearchBar",value:function(){this.showSearch?this.$element.find(".hs-suggestions.zeroheight").removeClass("zeroheight"):this.$element.find(".hs-suggestions").addClass("zeroheight");
}},{key:"showSuggestions",value:function(){var e=this;e.showSearch=!e.showSearch,e.showSearch&&(e.suggestions=[]),this.hideAndShowSearchBar(),this.$scope.$emit("setOverlay",{setOverlay:e.showSearch});var t=angular.element("input[type=search]:visible").get(0);t&&t.focus()}},{key:"setAndSearch",value:function(e,t,n,i,s){var c=this,d={label:e,name:t,id:n,type:i},u={orderRule:-1,pageNo:1,pageSize:this.ConfigService.PAGINATION.TERNARY_PAGE_SIZE,productTypeId:"",keyWord:"",subCategorys:"",brandId:"",brandIds:"",shopForGender:"",minPrice:"",maxPrice:"",ageList:"",sizeList:"",isFromRefineFilter:"",smartFilterType:"",smartFilterSequence:"",smartFilterValue:"",fromSmartFilter:"",colour:"",showMenu:!0,resetFunnel:!0,hsection:"",subSection:"",plp:"",label:e,name:t,type:i};c.recentSearches.length>=5&&$.grep(c.recentSearches,function(e){return e.name==t})<1?(c.recentSearches.pop(),c.recentSearches.unshift(d),c.LocalStorageService.setData("recentSearches",c.recentSearches)):$.grep(c.recentSearches,function(e){return e.name==t})<1&&(c.recentSearches.unshift(d),c.LocalStorageService.setData("recentSearches",c.recentSearches)),"brands"===i?(u.filterQuery="brandId="+n,u.brandId=n,u.hsection="recent"===s?a:r,u.hplp=t):"keyword"===i?(u.filterQuery="keyWord="+t,u.keyWord=t,u.hsection=c._recentSearch?a:o,u.hplp=t,u.orderRule=3):"productTypeList"===i?(u.filterQuery="productTypeId="+n,u.productTypeId=n,u.hsection="recent"===s?a:l,u.hplp=t):(c.ProductService.getSubCategorys(n).then(function(e){u.filterQuery="subCategorys="+n+e}),u.hsection="recent"===s?a:l,u.hplp=t),u.resetFunnel&&!u.funnel&&(u.funnel="Search"),u.section=u.hsection,u.subSection=u.hsubSection,u.plp=u.hplp,c._$timeout(function(){u.searchBy=e,c.$state.params={};var t=angular.element("input[type=search]:visible").get(0);t&&t.blur(),c.$scope.$emit("setOverlay",{setOverlay:!1}),c.$state.go("search",u);var n=c.$state.current.name;"search"===n||"collection"===n||"boutique"===n||"products"===n?c.$rootScope.$broadcast("hs.search.updated",u):c.$state.go("search",u)},10)}},{key:"highlightSearchText",value:function(e,t){var n=new RegExp(e,"gi");return t=t.replace(n,function(e){return"<em>"+e+"</em>"})}}]),e}();t.AutocompleteSuggestionsController=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i={restrict:"E",templateUrl:"app/components/widgets/cart/notification/cart-notification.html",controller:"CartNotificationController",controllerAs:"vm",bindings:{product:"="}};t.CartNotificationComponent=i;var s=function a(){"ngInject";n(this,a)};t.CartNotificationController=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$parsers.unshift(function(t,n){var s=t===e.resetForm.password.$viewValue;return i.$setValidity("noMatch",s),t})}}};t.ConfirmPassword=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/resetpasswordform/reset-password-form.html",controller:"ResetPasswordFormController",controllerAs:"vm",bindings:{product:"="}};t.ResetPasswordFormComponent=s;var a=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._$scope=a,this._$location=r,this._toastr=s,this._CustomerService=i,this._ModalService=t}return e.$inject=["ModalService","CustomerService","toastr","$scope","$location"],i(e,[{key:"resetPassword",value:function(){var e=this;e.params=e._$scope.ngDialogData;var t={password:e.password,confirmPassword:e.confirmPassword},n=e.params.returnUrl||"home";e._CustomerService.resetPassword(e.params.uuid,e.params.resetToken,t).then(function(t){e._toastr.info("Your password is changed successfully!"),e._ModalService.closeResetPasswordModal(),e._$location.path(n),e._$location.search("")},function(t){e._toastr.error(t.data.message)})}}]),e}();t.ResetPasswordFormController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/department/banner/department-banner.html",controller:"DepartmentBannerController",controllerAs:"vm",bindings:{banners:"=",track:"&",section:"="}};t.DepartmentBannerComponent=s;var a=function(){function e(t,i){"ngInject";n(this,e),this._$state=i,this._PageTrackingService=t,this.banners.items=this.banners.items.filter(function(e,t){return!!e.heroImageUrl}),this.carouselIndex=4*this.banners.items.length,this.dynamicBanners=angular.copy(this.banners.items),this.dynamicBanners=this.dynamicBanners.concat(this.dynamicBanners).concat(this.dynamicBanners).concat(this.dynamicBanners),this.dynamicBanners=this.dynamicBanners.concat(this.dynamicBanners).concat(this.dynamicBanners).concat(this.dynamicBanners)}return e.$inject=["PageTrackingService","$state"],i(e,[{key:"appendToUrl",value:function(e,t){return e.indexOf("?")>-1?e+"&"+t:e+"?"+t}},{key:"getBannerUrl",value:function(e){if("NO_ACTION"!=e.action_type){var t=(e.name,this),n=(e.id,this._PageTrackingService.getUrl(this._PageTrackingService.getFunnel(),this.section,this.isCustomTile(e)?this._PageTrackingService.SUB_SECTION_TYPE.CUSTOM_TILE+e.id:"",this._PageTrackingService.getPLP()));return n+="&from_screen="+t._$state.current.name+"&from_section="+this.section,e.isTile?this.appendToUrl(e.action,n):e.specialPageName?this.appendToUrl(t._$state.href("collections",{pageName:e.specialPageName}),n):e.isTile?this.appendToUrl(e.action,n):this.appendToUrl(t._$state.href("boutique",{boutiqueId:e.id,boutiqueName:e.name.split(" ").join("-")}),n)}}},{key:"trackBanner",value:function(e,t){var n={add_from_details:this.banners.position+"_"+(this.banners.title||"cover"),add_from:t%this.banners.items.length+(e.isTile?"_Custom_":"_Boutique_")+e.id};this.track({data:n})}},{key:"isCustomTile",value:function(e){return e.isTile}},{key:"isSpecialPage",value:function(e){return!e.isTile&&e.showBoutiqueInPageSetting}},{key:"isBoutique",value:function(e){return!e.isTile&&!e.showBoutiqueInPageSetting}}]),e}();t.DepartmentBannerController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/department/store/department-store.html",controller:"DepartmentStoreController",controllerAs:"vm",bindings:{stores:"=",track:"&",section:"="}};t.DepartmentStoreComponent=s;var a=function(){function e(t,i,s){"ngInject";n(this,e),this._$state=s,this._ConfigService=t,this._PageTrackingService=i,this.funnel=i.getFunnel(),this.subsection=i.getSubSection(),this.plp=i.getPLP()}return e.$inject=["ConfigService","PageTrackingService","$state"],i(e,[{key:"trackStore",value:function(e,t,n,i){if("NO_ACTION"!=t.action_type){for(var s=0,a=0;n>a;a++)s+=e.tile_details[a].tileGrid.length;s+=i+1,this._ConfigService.tiles.customTilesId=e.id,this._ConfigService.tiles.from="customTilesId_"+e.id+"_"+e.tile_details[n].tile_detail_id+"_"+s;var r="";"SHOW_PRODUCT_LIST"==t.action_type?r=s+"_Products_"+t.action_value:"BOUTIQUE"==t.action_type?r=s+"_Boutique_"+t.action_value:"PRODUCT"==t.action_type&&(r=s+"_Product_"+t.action_value);var o={add_from_details:e.position+"_store",add_from:r};this.track({data:o})}}},{key:"getUrl",value:function(e){var t=this._PageTrackingService.getUrl(this.funnel,this.section,this.subsection,this.plp);return t+"&from_screen="+this._$state.current.name+"&from_section="+this.section}},{key:"getRedirectUrl",value:function(e){if("NO_ACTION"!=e.action_type){var t=this._PageTrackingService.getUrl(this.funnel,this.section,this.subsection,this.plp);return t+="&from_screen="+this._$state.current.name+"&from_section="+this.section,e.actionUri+"?"+t}}}]),e}();t.DepartmentStoreController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/department/sba/department-sba.html",controller:"DepartmentSBAController",controllerAs:"vm",bindings:{sba:"=",track:"&",section:"="}};t.DepartmentSBAComponent=s;var a=function(){function e(t,i,s){"ngInject";n(this,e),this._$state=s,this._PageTrackingService=t,this.funnel=t.getFunnel(),this.subsection=t.getSubSection(),this.plp=t.getPLP(),this.showScroller={left:!1,right:!0},this.colorCode="lightgray"}return e.$inject=["PageTrackingService","$scope","$state"],i(e,[{key:"trackSba",value:function(e,t){var n={add_from_details:this.sba.position+"_sba",add_from:t+1+"_Products_"+e.product_list_id};this.track({data:n})}}]),e}();t.DepartmentSBAController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/department/trending/department-trending.html",controller:"DepartmentTrendingController",controllerAs:"vm",bindings:{trendings:"=",track:"&",section:"="}};t.DepartmentTrendingComponent=s;var a=function(){function e(t,i,s,a){"ngInject";n(this,e),this._$state=a,this._ProductService=t,this._toastr=i,this._PageTrackingService=s,this.funnel=s.getFunnel(),this.subsection=s.getSubSection(),this.plp=s.getPLP(),this.productListings=[],this.listLoaded=!1,this.showScroller={left:!1,right:!1},this.activate()}return e.$inject=["ProductService","toastr","PageTrackingService","$state"],i(e,[{key:"activate",value:function(){var e=this,t={id:e.trendings.product_list_id,name:e.trendings.name,pageNo:1,pageSize:11};e._ProductService.getCategoryProducts(t,!1,!0).then(function(t){e.productListing=t,e.showScroller={left:!1,right:!0}},function(t){e._toastr.error(t.message)})}},{key:"trackTrending",value:function(e){var t={add_from_details:this.trendings.position+"_trending",add_from:e+"_Products_"+this.trendings.product_list_id};this.track({data:t})}}]),e}();t.DepartmentTrendingController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/department/brand/department-brand.html",controller:"DepartmentBrandController",controllerAs:"vm",bindings:{brands:"=",track:"&",section:"="}};t.DepartmentBrandComponent=s;var a=function(){function e(t,i){"ngInject";n(this,e),this._$state=i,this._PageTrackingService=t,this.funnel=t.getFunnel(),this.subsection=t.getSubSection(),this.plp=t.getPLP(),this.showScroller={left:!1,right:!0}}return e.$inject=["PageTrackingService","$state"],i(e,[{key:"trackBrand",value:function(e,t){var n={add_from_details:this.brands.position+"_brands",add_from:t+1+"_Brands_"+e.name};this.track({data:n})}}]),e}();t.DepartmentBrandController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/department/sbc/department-sbc.html",controller:"DepartmentSBCController",controllerAs:"vm",bindings:{sbc:"=",track:"&",section:"="}};t.DepartmentSBCComponent=s;var a=function(){function e(t,i,s){"ngInject";n(this,e),this._$state=i,this.categoryArray=[],this.showMore=!0,this._$timeout=s,this._PageTrackingService=t,this.funnel=t.getFunnel(),this.subsection=t.getSubSection(),this.plp=t.getPLP(),this.showScroller={left:!1,right:!0},this.rearrangeCategoryArray()}return e.$inject=["PageTrackingService","$state","$timeout"],i(e,[{key:"rearrangeCategoryArray",value:function(){for(var e=0;e<this.sbc.items.length;e++)e%2?this.categoryArray[this.categoryArray.length-1].push(this.sbc.items[e]):this.categoryArray[this.categoryArray.length]=[this.sbc.items[e]]}},{key:"viewMore",value:function(){var e=this;this._$timeout(function(){e.showMore=!e.showMore},250)}},{key:"trackSbc",value:function(e,t){var n={add_from_details:this.sbc.position+"_sbc",add_from:t+"_Products_"+e.product_list_id};this.track({data:n})}}]),e}();t.DepartmentSBCController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/cart/phone-verification/phone-verification.html",controller:"PhoneVerificationController",controllerAs:"vm"};t.PhoneVerificationComponent=s;var a=function(){function e(t,i,s,a,r){"ngInject";n(this,e),this._CartService=t,this._ModalService=i,this._toastr=r,this.phoneNumberSent=!1,this.disableEnter=!1,this._$scope=a,this.numberRegex=s.NUMBER_VALIDATOR_REGEX}return e.$inject=["CartService","ModalService","ConfigService","$scope","toastr"],i(e,[{key:"sendPhoneNumber",value:function(){var e=this;e.disableEnter=!0,e._CartService.sendPhoneNumber(e.phoneNumber).then(function(t){e.phoneNumberSent=!0,e.disableEnter=!1},function(t){e._toastr.error(t.data.message),e.disableEnter=!1})}},{key:"verifyPhoneNumber",value:function(){var e=this;e.disableEnter=!0,e._CartService.sendVerifyCode(e.phoneNumber,e.verificationNumber).then(function(t){e._ModalService.closePhoneVerificationModal(),e._$scope.ngDialogData.self.applyPromoCode(),e.disableEnter=!1},function(t){e._toastr.error(t.data.message),e._ModalService.closePhoneVerificationModal(),e.disableEnter=!1})}}]),e}();t.PhoneVerificationController=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return{restrict:"E",link:function(e,t,n){var i=n.key;!function(e,t,n,i,s,a,r,o,l,c){if(!e[i]||!e[i]._q){for(;o<r.length;)s(a,r[o++]);l=t.createElement(n),l.async=1,l.src="https://cdn.branch.io/branch-v1.8.8.min.js",c=t.getElementsByTagName(n)[0],c.parentNode.insertBefore(l,c),e[i]=a}}(window,document,"script","branch",function(e,t){e[t]=function(){e._q.push([t,arguments])}},{_q:[],_v:1},"init data first addListener removeListener setIdentity logout track link sendSMS referrals credits creditHistory applyCode validateCode getCode redeem banner closeBanner".split(" "),0),branch.init(i),branch.banner({icon:"https://static.hopscotch.in/web2/images/logo_216.png",title:"Switch to a better experience on our app",position:"bottom",downloadAppButtonText:"Install",openAppButtonText:"Open",mobileSticky:!0,desktopSticky:!0,showDesktop:!1,iframe:!1,showiOS:!0,showAndroid:!0,forgetHide:1},{data:{$deepLink:"hopscotch://new?utm_source=branch&utm_medium=smart_banner",$deeplink_path:"new?utm_source=branch&utm_medium=smart_banner"}})}}};t.BranchBannerDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";var t=500;return{require:"ngModel",link:function(n,i,s,a){function r(){o=e(function(){var e=i.val();e&&a.$viewValue!==e&&a.$setViewValue(e),r()},t)}var o;n.$on("$destroy",function(){e.cancel(o)}),r()}}};n.$inject=["$timeout"],t.AutofillFixDirective=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={restrict:"E",templateUrl:"app/components/widgets/quickshop/quickshop.html",controller:"QuickShopController",controllerAs:"vm",bindings:{product:"=",productForm:"="}};t.QuickShopComponent=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";return{restrict:"A",scope:{list:"=",visibleList:"=",height:"=",rowHeight:"=",containerHeight:"=",filterBy:"=",filterName:"@"},link:function(e,t,n){e.scrollTop=0,e.cellsPerPage=0,e.numberOfCells=0,e.filteredLIst=[],e.init=function(){t[0].addEventListener("scroll",e.onScroll),e.cellsPerPage=Math.round(e.height/e.rowHeight),e.numberOfCells=2*e.cellsPerPage,e.containerHeight={height:e.filteredLIst.length?e.filteredLIst.length*e.rowHeight+"px":e.rowHeight+"px"},e.updateDisplayList()},e.updateDisplayList=function(){var t=Math.max(Math.floor(e.scrollTop/e.rowHeight)-e.cellsPerPage,0),n=Math.min(t+e.numberOfCells,e.numberOfCells);e.visibleList=e.filteredLIst.slice(t,t+n);for(var i=0;i<e.visibleList.length;i++)e.visibleList[i].styles={top:(t+i)*e.rowHeight+"px"}},e.onScroll=function(n){e.scrollTop=t.prop("scrollTop"),e.updateDisplayList(),e.$apply()},e.$watch("filterBy",function(t,n){e.filterBy.length?e.filteredLIst=e.list.filter(function(t){return 0===t[e.filterName].toLowerCase().indexOf(e.filterBy.toLowerCase().trim())}):e.filteredLIst=e.list,e.init()})}}};n.$inject=["$timeout"],t.LazyScroll=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this.qualityRating=0,this.experienceRating=0,this.recommendRating=parseInt(r.rating)||0,this.isReSubmit=!1,this.isLoaded=!1,this.isSubmitted=!1,this.comment="",this.showValidationErrors=!1,this._CustomerService=t,this._$stateParams=r,this._$timeout=o,this._$scope=s,this._$state=a,this._$anchorScroll=l,this._toastr=c,this.isFeedbackSubmit=!1,this.ratings=i.RATINGS,this.activate()}return e.$inject=["CustomerService","ConfigService","$scope","$state","$stateParams","$timeout","$anchorScroll","toastr"],i(e,[{key:"activate",value:function(){var e=this;e.setPlaceHolderValue(e.recommendRating),e._$scope.$watch(function(){return e.recommendRating},function(t,n){t!=n&&e.setPlaceHolderValue(t)}),e._$scope.$watch(function(){return e.comment},function(t,n){t&&t.length>250&&(e.comment=n)}),e.verifyAndSubmit().then(function(t){e.isLoaded=!0,t.data.message&&"Resubmit"==t.data.message&&(e.isReSubmit=!0)},function(t){e._toastr.error(t.data.message)})}},{key:"setPlaceHolderValue",value:function(e){e>=4?this.placeHolder="Thank you! We'd be delighted if you'd tell us more":e>2?this.placeHolder="Please tell us how we could be better":e>0?this.placeHolder="Oops! Tell us what went wrong":this.placeHolder="Tell us more"}},{key:"verifyAndSubmit",value:function(){var e={name:this._$stateParams.name,email:this._$stateParams.id,origin:this._$stateParams.origin,orderId:this._$stateParams.orderId,isSubmit:this.isFeedbackSubmit,ratings:{quality:this.qualityRating,experience:this.experienceRating,recommend:this.recommendRating,comment:this.comment}};return this._CustomerService.verifyAndSubmitFeedback(e)}},{key:"submitFeedback",value:function(){var e=this;e.qualityRating&&e.experienceRating&&e.recommendRating?(e.isFeedbackSubmit=!0,e.verifyAndSubmit().then(function(t){"Invalid"!==t.data.message?(e.isSubmitted=!0,e._$anchorScroll()):(e.isFeedbackSubmit=!1,e._toastr.error("Order id is invalid."))},function(t){e._toastr.error(t.data.message)})):e.showValidationErrors=!0}}]),e}();t.FeedbackController=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";return{restrict:"A",scope:{milestoneDetails:"=",activateMilestoneFn:"&"},link:function(t,n){var i=null,s=500,a=2*t.milestoneDetails.width.split("px")[0]+40,r=function(){},o=function(){i=null;var e=Math.round(n.scrollLeft()/a);t.activateMilestoneFn({index:e,onLoadBoolVal:!1,firstLoad:!1})};n.scroll(function(){null===i?r():clearTimeout(i),i=e(o,s)})}}};n.$inject=["$timeout"],t.MilestoneScrollDir=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){"ngInject";return{restrict:"A",scope:{parent:"=",child:"=",fraction:"=",showScroller:"="},link:function(i,s,a){var r,o,l,c,d,u=i.fraction?i.fraction:.6,m=function(t,n){e.find(t)[0]&&(r=e.find(t)[0].clientWidth,o=e.find(n)[0],l=o.scrollWidth,r>=l?(i.showScroller.right=!1,i.showScroller.left=!1):i.showScroller.right=!0,c=l-r),d=d||0},v=function(){i.showScroller.right=!0,d+=r*u,d>=0&&(d=0,i.showScroller.left=!1),o.style.left=d+"px"},p=function(){i.showScroller.left=!0,d-=r*u,Math.abs(d)>c&&(d=-c,i.showScroller.right=!1),o.style.left=d+"px"},h=function(){o&&(d=0,o.style.left="0",m(i.parent,i.child),i.showScroller.left=!1)},g=function(){o.style.left&&(d=parseInt(o.style.left.split("px")[0])),a["class"].indexOf("left")>-1&&v(),a["class"].indexOf("right")>-1&&p(),i.$apply()};n(function(){m(i.parent,i.child),angular.element(t).bind("resize",h),s.bind("click",g)}),i.$on("$destroy",function(){s.unbind("click",g),angular.element(t).bind("resize",h)})}}};n.$inject=["$document","$window","$timeout"],t.ScrollDirective=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i={restrict:"E",templateUrl:"app/components/widgets/video/video.html",controller:"VideoController",controllerAs:"vm"};t.VideoComponent=i;var s=function a(e,t){"ngInject";n(this,a);var i=e.ngDialogData.url.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);null!=i?this.link=t.trustAsResourceUrl("https://www.youtube.com/embed/"+i[1]+"?rel=0&autoplay=1&enablejsapi=1&showinfo=0"):this.link=t.trustAsResourceUrl(e.ngDialogData.url)};s.$inject=["$scope","$sce"],t.VideoController=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){"ngInject";return!e[0].getElementById("fit-vids-style"),{restrict:"A",link:function(e,n,i){var s,a=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&a.push(i.customSelector),t(function(){s=n[0].querySelectorAll(a.join(",")),angular.forEach(s,function(e){var t=angular.element(e);"embed"===e.tagName.toLowerCase()&&"object"===t.parent().tagName&&t.parent().length||t.parent().hasClass(".fluid-width-video-wrapper")})},100)}}};n.$inject=["$document","$timeout"],t.FitVideo=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/boutique/special-page-boutique/special-page-boutique.html",controller:"SpecialPageBoutiqueController",controllerAs:"vm",bindings:{boutique:"=",deepLinkConstant:"=",products:"=",canShowProductCount:"@"}};t.SpecialPageBoutiqueComponent=s;var a=function(){function e(t,i,s){"ngInject";if(n(this,e),this.boutiqueDynamicHt=0,this._$state=t,this._AppStateService=i,this._$location=s,this.products=this.products&&this.products.slice(0,3),-1=="?&".indexOf(this.deepLinkConstant.deepLinkBaseUrl[0])){var a=-1==this.boutique.href.indexOf("?")?"?":"&";this.deepLinkConstant.deepLinkBaseUrl=a+this.deepLinkConstant.deepLinkBaseUrl}}return e.$inject=["$state","AppStateService","$location"],i(e,[{key:"goToPLP",value:function(e){this._AppStateService.setUtmParams({"utm-product":e}),this._AppStateService.setDeeplinkParams({deeplink:"boutique?id="+this.boutique.id}),this._$state.go("boutique",{boutiqueName:this.boutique.name,boutiqueId:this.boutique.id})}},{key:"goToLink",value:function(){this._$location.url(this.boutique.href)}}]),e}();t.SpecialPageBoutiqueController=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";return{restrict:"A",scope:{color:"="},link:function(e,t){var n;t[0].setAttribute("crossOrigin","Anonymous");var i=function(){n||(n=angular.element("<canvas />")[0],n.width=t[0].width,n.height=t[0].height,n.getContext("2d").drawImage(t[0],0,0,t[0].width,t[0].height));var i=n.getContext("2d").getImageData(t[0].width-10,t[0].height-10,t[0].width,t[0].height).data;e.color="rgb("+i[0]+","+i[1]+","+i[2]+")"};t.bind("load",i),e.$on("$destroy",function(){t.unbind("load",i)})}}};n.$inject=["$timeout"],t.PickBackgroundDirective=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s){"ngInject";n(this,e),this._$http=t,this._$location=i,this._$document=s,this._hasUtm=!1}return e.$inject=["$http","$location","$document"],i(e,[{key:"setUtm",value:function(){var e=this.loadUtmFromLocation(),t={};for(var n in e)t[n]=angular.isArray(e[n])?e[n][e[n].length-1]:e[n];return this._$http.post("/api/utm-info/",{utm_source:t.utm_source||"",utm_medium:t.utm_medium||"",utm_campaign:t.utm_campaign||"",deeplink:t.deeplink||""})}},{key:"loadUtmFromLocation",value:function(){var e=this._$location.search()||{},t={};for(var n in e)e.hasOwnProperty(n)&&0===n.indexOf("utm_")&&(t=t||{},t[n]=e[n],this._hasUtm=!0);if(!this._hasUtm&&this._$document[0].referrer){var i=this.hostname(this._$document[0].referrer);i&&(t={},t.utm_source=i,t.utm_medium="search",this._hasUtm=!0)}return t}},{key:"hostname",value:function(e){var t=this._$document[0].createElement("a");return t.href=e,t.hostname}}]),e}();t.UtmService=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){"ngInject";n(this,e),this._$http=t,this.averageLatency=0,this.count=0,this.threshold=1e3}return e.$inject=["$http"],i(e,[{key:"latencyCheck",value:function(){var e=this,t=this;return this._$http.post("/api/latencycheck?param="+this.averageLatency,{}).then(function(n){t.threshold=n.data.threshold;var i=n.config.requestStartTime,s=n.config.requestEndTime,a=s-i;e.averageLatency=(e.averageLatency*e.count+a)/(e.count++ +1),e.count%=10})}},{key:"getLatency",value:function(){return this.averageLatency}},{key:"getThreshold",value:function(){return this.threshold}}]),e}();t.LatencyService=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){"ngInject";return function(t){if(t&&-1==t.indexOf("impolicy")){var n=t.indexOf("?")>-1?"&":"?";return e.getLatency()>e.getThreshold()?t+n+"impolicy=medium":t+n+"impolicy=normal"}return t}};n.$inject=["LatencyService"],t.ImagePolicyFilter=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/account/card-notification/card-notification.html",controller:"CardNotificationController",controllerAs:"vm",bindings:{updateCardCount:"=",showCardWrapper:"="}};t.CardNotificationComponent=s;var a=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this.CART_TYPE={ORDER:"order",BIRTHDAY:"birthday",ORDER_ITEM:"orderitem"},this.showScroller={left:!1,right:!0},this.parent=t.find("#parentWrapper"),this.width=this.parent[0].offsetWidth,this._$timeout=i,this._CustomerService=s,this._$log=a,this._$location=o,this._ModalService=r,this._AppStateService=l,this._$state=c,this.MAX_CARD_SIZE=3,this.canRemoveCard=!1,this.makeAPICall=!0,this.cards=[],this.cardParams={lastCardId:void 0,fetchSize:this.MAX_CARD_SIZE},this.getCards()}return e.$inject=["$document","$timeout","CustomerService","$log","ModalService","$location","AppStateService","$state"],i(e,[{key:"isMobileDevice",value:function(){return"mobile"==this._AppStateService.getDeviceType()}},{key:"removeCard",value:function(e,t){var n=this;n.canRemoveCard=!0,n._$timeout(function(){n._CustomerService.closeAccountCard(t).then(function(t){n.canRemoveCard=!1,n.cards.splice(e,1),n.updateCardCount--,n.updateCardCount<1&&(n.updateCardCount=0),0==n.cards.length&&(n.showCardWrapper=!1),n.cards.length==n.MAX_CARD_SIZE-1&&n.getCards()},function(e){n.canRemoveCard=!1,n._$log.log("Error : ",e)})},300)}},{key:"getMilestoneRange",value:function(e){return e?Array(e).fill().map(function(e,t){return t*t}):void 0}},{key:"getWidth",value:function(e){return e?{width:"calc(100% /"+e+")"}:{}}},{key:"setCardStyle",value:function(e){return{position:"absolute",left:5*(e+1)+"px",right:5*(e+1)+"px",top:8*(e+1)+"px","z-index":100-e}}},{key:"getCards",value:function(){var e=this;this.makeAPICall&&(e.cards.length>0&&(e.cardParams.lastCardId=e.cards[e.cards.length-1].cardId),e._CustomerService.getAccountCards(e.cardParams).then(function(t){if(t.data&&t.data.cards){for(var n=0;n<t.data.cards.length;n++)e.cards.push(t.data.cards[n]);t.data.cards.length<e.MAX_CARD_SIZE?e.makeAPICall=!1:e.makeAPICall=!0,e.showCardWrapper=e.cards.length>0,e.updateCardCount=t.data.updateCards,e._CustomerService.setActiveAccountCardCount(t.data.totalCards)}}))}},{key:"trackOrder",value:function(e,t,n){if(e.toLowerCase()==this.CART_TYPE.ORDER_ITEM){var i=t.action.indexOf("="),s=t.action.substr(i+1),a={orderItemId:s,imgUrl:""};this._ModalService.showOrderTrackModal(a),n.stopPropagation(),n.preventDefault()}}}]),e}();t.CardNotificationController=a},function(e,t){
"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){"ngInject";n(this,e),this.activate()}return i(e,[{key:"activate",value:function(){}}]),e}();t.PersonalDetailController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){"ngInject";n(this,e),this.activate()}return i(e,[{key:"activate",value:function(){}}]),e}();t.AddressBookController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a){"ngInject";n(this,e),this._PaymentService=t,this._$timeout=i,this._$log=s,this._toastr=a,this.addNewCard=!1,this.paymentDetails={},this.storedCards=[],this.creditCardForm={},this.cardData={cardCategory:"CC"},this.loading=!1,this.activate()}return e.$inject=["PaymentService","$timeout","$log","toastr"],i(e,[{key:"activate",value:function(){this.getStoredCard()}},{key:"getStoredCard",value:function(){var e=this;e.loading=!0,e._PaymentService.getSavedCards().then(function(t){e.loading=!1,e.storedCards=[],delete e.defaultCard;var n=angular.fromJson(t.data.responseText);n&&n.user_cards&&(e.storedCards=_.values(n.user_cards),e.defaultCard=_.values(n.user_cards)[0])},function(t){e.loading=!1,e._toastr.error(t.data.message)})}},{key:"saveToPayU",value:function(){var e=this;e.paymentDetails.nameOnCard=e.paymentDetails.ccname,e.paymentDetails.ccexpmon=e.paymentDetails.expiryDetail.split("/")[0],e.paymentDetails.ccexpyr="20"+e.paymentDetails.expiryDetail.split("/")[1];var t="";t=t+e.paymentDetails.ccname+";"+e.cardData.cardCategory+";"+e.cardData.cardType+";"+e.paymentDetails.nameOnCard+";",e.paymentDetails.ccnum=e.paymentDetails.ccnum.replace(" ",""),t=t+e.paymentDetails.ccnum+";"+e.paymentDetails.ccexpmon+";"+e.paymentDetails.ccexpyr+";",e._PaymentService.saveCard(t).then(function(t){e.getStoredCard(),e.paymentDetails={},e.addNewCard=!1;var n=angular.fromJson(t.data.responseText);n&&0==n.status&&n.msg&&e._toastr.error(n.msg)},function(t){e._$log.log("Err : ",t),e._toastr.error(t.data.message)})}},{key:"saveCard",value:function(){var e=this;e._PaymentService.checkIsDomestic(e.paymentDetails.ccnum.substr(0,7).replace(" ","")).then(function(t){e.cardData=angular.fromJson(t.data.responseText),e.cardData.cardCategory="unknown"==e.cardData.cardCategory.toLowerCase()?"CC":e.cardData.cardCategory,e.cardData.cardType="unknown"==e.cardData.cardType.toLowerCase()?"CC":e.cardData.cardType,e.saveToPayU()},function(t){e.saveToPayU()})}},{key:"addNewCardFn",value:function(){this.addNewCard=!0,this.paymentDetails={}}}]),e}();t.StoredCardController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){"ngInject";n(this,e),this.activate()}return i(e,[{key:"activate",value:function(){}}]),e}();t.FavouriteBrandController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/stored-card/stored-card.html",controller:"StoredCardComponentController",controllerAs:"vm",bindings:{storedCard:"=",updateCb:"&"}};t.StoredCardComponent=s;var a=function(){function e(t,i,s){"ngInject";n(this,e),this._PaymentValidationService=t,this._PaymentService=i,this.CARD_TYPES={CC:"CC",DC:"DC"},this._$log=s}return e.$inject=["PaymentValidationService","PaymentService","$log"],i(e,[{key:"getCardNumberRegex",value:function(e,t){if(e&&t){var n=this._PaymentValidationService.getRegexForCard(t.toLowerCase());return e.split(n).join(" ")}}},{key:"getCardBrandClass",value:function(e,t,n){if(e&&t&&n){var i,s;return i="UNKNOWN"==e?"common-card":e.toLowerCase(),t?(s="saved-card-"+i+"-"+n+"-active","bg"==n&&(s+=" active")):s="saved-card-"+i+"-"+n+"-inactive",s}}},{key:"removeSavedCard",value:function(){var e=this;e._PaymentService.deleteSavedCard(e.storedCard.card_token).then(function(t){e.updateCb()},function(t){e._$log.log("ERR : ",t)})}},{key:"cardFromNumber",value:function(e){return this._PaymentValidationService.cardFromNumber(e)}}]),e}();t.StoredCardComponentController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c,d){"ngInject";n(this,e),this._MomentsService=t,this._ModalService=i,this._SegmentService=s,this._PageTrackingService=a,this._$location=c,this._$scope=o,this._toastr=d,this._$sce=l,this.momentDetail={},this.momentId=r.params.id,this.kidNames="",this.initials="",this.isLiked=!1,this.paddingBottom="100%",this.positions={},this.likePromise,this.activate()}return e.$inject=["MomentsService","ModalService","SegmentService","PageTrackingService","$state","$scope","$sce","$location","toastr"],i(e,[{key:"activate",value:function(){var e=this;this.momentContainer=angular.element("#moment-detail"),this.detailsLoading=!0,this._MomentsService.getMomentDetail(this.momentId).then(function(t){e.momentDetail=t.data;var n=e.momentDetail.customerName.split(" ");e.initials=(n[0].charAt(0)+(n[1]?n[1].charAt(0):"")).toUpperCase(),e.styleHashTags(),e.setPositions(),e.momentDetail.kidNames.length>2||!e.momentDetail.kidNames.length?e.kidNames="the":e.momentDetail.kidNames.length>1?e.kidNames="for "+e.momentDetail.kidNames[0]+" and "+e.momentDetail.kidNames[1]+"'s":e.kidNames="for "+e.momentDetail.kidNames[0]+"'s",e.isLiked=t.data.isLiked,e.detailsLoading=!1,e._SegmentService.setTrackData("photo_id",e.momentId),e._SegmentService.setTrackData("photo_source",e.momentDetail.source),e._SegmentService.setTrackData("photo_from",e.momentDetail.uploaderId),e._SegmentService.setTrackData("photo_type",e.momentDetail.isPopular?"Popular":"Recent"),e._SegmentService.track(e._SegmentService.EVENTS.PHOTO_VIEWED,e._SegmentService.getTrackData())},function(t){e._toastr.error(t.data.message)})}},{key:"setPositions",value:function(){var e=void 0;this.momentDetail.height>this.momentDetail.width?(e=this.momentDetail.width/this.momentDetail.height,this.positions={left:(1-e)/2*100+"%",bottom:0},1/e>1.33?this.paddingBottom="133.33%":this.paddingBottom=100/e+"%"):this.momentDetail.height<this.momentDetail.width?(e=this.momentDetail.height/this.momentDetail.width,this.positions={left:0,bottom:(1-e)/2*100+"%"}):this.positions={left:0,bottom:0}}},{key:"styleHashTags",value:function(){this.whatsappUrl=this._$location.absUrl()+"?utm_medium=sharing&utm_campaign=moment_shared&utm_source=whatsapp",this.whatsappInfo=encodeURIComponent("A Hopscotch moment "+(this.momentDetail.customerName?"shared by "+this.momentDetail.customerName:""))+"%0A%0A"+encodeURIComponent(this.whatsappUrl),this.momentDetail.description&&-1!==this.momentDetail.description.indexOf("#")?this.description=this.momentDetail.description.replace(/#(\w+)/g,function(e,t){return'<span class="hash-tag">#'+t+"</span>"}):this.description=this.momentDetail.description}},{key:"share",value:function(){this.trackSegmentShare("Facebook");var e=this._$location.absUrl()+"?utm_medium=sharing&utm_campaign=moment_shared&utm_source=facebook";this.momentDetail.imageUrl&&FB.ui({method:"feed",name:"A Hopscotch moment "+(this.momentDetail.customerName?"shared by "+this.momentDetail.customerName:""),link:e,picture:this.momentDetail.imageUrl,description:this.momentDetail.description||"Uploaded on hopscotch"})}},{key:"updateFeedOnLike",value:function(e){var t=this,n=t._MomentsService.getMomentsData.momentsPhotos;if(n.length){var i=_.find(n,function(e){return e.id==t.momentId});e>0?(i.likes+=1,i.isLiked=!0,i.liked=!0):(i.likes-=1,i.isLiked=!1,i.liked=!1)}}},{key:"like",value:function(){var e=this;e.likeClicked=!0,e.likePromise||(e.isLiked?(e.likePromise=e._MomentsService.dislikeMoment(e.momentDetail),e.likePromise.then(function(t){e.updateFeedOnLike(-1),e.momentDetail.likes--,e.isLiked=!e.isLiked,e.likeClicked=!1,e.likePromise=null},function(t){t&&t.data&&t.data.message&&e._toastr.error(t.data.message),e.likeClicked=!1,e.likePromise=null})):(e.likePromise=e._MomentsService.likeMoment(e.momentDetail),e.likePromise.then(function(t){e.momentDetail.likes++,e.updateFeedOnLike(1),e.isLiked=!e.isLiked,e.likeClicked=!1,e.likePromise=null},function(t){t&&t.data&&t.data.message&&e._toastr.error(t.data.message),e.likeClicked=!1,e.likePromise=null})))}},{key:"getAgo",value:function(e){return this._MomentsService.getAgo(e)}},{key:"deleteMoment",value:function(){var e=this;this._ModalService.showReportMomentModal({imgUrl:this.momentDetail.imageUrl,id:this.momentId,segmentTrackData:{from_screen:"Photo details",photo_id:e.momentDetail.id,photo_source:e.momentDetail.source,photo_status:e.momentDetail.status,uploaded_date:e.momentDetail.createdDate},type:"delete"})}},{key:"report",value:function(){var e=this;this._ModalService.showReportMomentModal({imgUrl:this.momentDetail.imageUrl,id:this.momentId,segmentTrackData:{from_screen:"Photo details",photo_id:e.momentDetail.id,photo_source:e.momentDetail.source,photo_status:e.momentDetail.status},type:"report"})}},{key:"showLikes",value:function(e){var t=this;this._ModalService.showReportMomentModal({imgUrl:this.momentDetail.imageUrl,id:this.momentId,segmentTrackData:{from_screen:"Photo details",photo_id:t.momentDetail.id,photo_source:t.momentDetail.source,photo_status:t.momentDetail.status},type:"likes"}),e.stopPropagation()}},{key:"openTooltip",value:function(e){if(this.showShareTooltip=e,this.showTooltip=!e,e){var t=angular.element("#whatsapp-link");t.attr("href","whatsapp://send?text="+this.whatsappInfo)}}},{key:"clickedBody",value:function(e){var t=this;angular.element(".tooltip-on").length>0&&t.closeTooltip()}},{key:"closeTooltip",value:function(e){this.showTooltip=!1,this.showShareTooltip=!1,e&&e.stopPropagation()}},{key:"tooltipBodyClick",value:function(e){e.stopPropagation()}},{key:"trackSegmentShare",value:function(e){var t={from_screen:"Photo details",photo_id:this.momentDetail.id,photo_source:this.momentDetail.source,photo_from:this.momentDetail.uploaderId,shared_app:e,photo_type:this.momentDetail.isPopular?"Popular":"Recent"};this._SegmentService.track(this._SegmentService.EVENTS.PHOTO_SHARED,t)}},{key:"setSegmentTrackData",value:function(e){this._SegmentService.resetTrackData(),this._SegmentService.setTrackData("from_screen","Photo details"),this._SegmentService.setTrackData("photo_id",this.momentId),e.qty||this._SegmentService.setTrackData("product_id",e.productId)}},{key:"getPidHref",value:function(e){var t=this,n=e.actionUri,i=t._PageTrackingService.getUrl(t._PageTrackingService.getFunnel(),e.qty?"Product":"SimilarProducts","","")+"&resetFunnel=false";return t.momentDetail.recoType&&(i+="&recoType="+t.momentDetail.recoType),t.momentDetail.screenName&&(i+="&screenName="+t.momentDetail.screenName),n.indexOf("?")>-1?n+"&"+i:n+"?"+i}}]),e}();t.MomentDetailController=s},function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function t(e,i,s,a,r,o,l,c,d,u,m,v,p){"ngInject";n(this,t),this._MomentsService=e,this._ResourceService=s,this._toastr=r,this._$state=o,this._$q=p,this._$scope=l,this._$timeout=c,this._$window=d,this._$cookies=m,this._$rootScope=u,this._$document=v,this._ModalService=i,this._SegmentService=a,this.sizeLimit=52428800,this.file="",this.uploadedFile="",this.pageNo=1,this.pageSize=18,this.imageData={},this.imageInfo={},this.pids=[],this.kids=[],this.addedKid="",this.addedKids=[],this.disableViewMore=!1,this.userDataLoaded=!1,this.dataObj={},this.awsInfo={},this.agree=!1,this.refresh=!1,this.zoomIndex=1,this.cropUrl="",this.showUpload=!0,this.showScroller={left:!1,right:!1},this.URL=this._$window.URL||this._$window.webkitURL,this.outputImage={width:640,height:640},this.activate()}return t.$inject=["MomentsService","ModalService","ResourceService","SegmentService","toastr","$state","$scope","$timeout","$window","$rootScope","$cookies","$document","$q"],i(t,[{key:"activate",value:function(){var t=this;t.cropAPI=function(e){t.cropper=e},t._$scope.uploadImage=function(e){t._$scope.$apply(function(){t.uploadedFile=e.target.files[0]})},t.crop=function(n){t.showUpload=!1,t.imageData={dataURL:new e(n.replace(/^data:image\/\w+;base64,/,""),"base64"),url:t.base64TOBlobUrl(n),width:t.outputImage.width,height:t.outputImage.height,type:"image/jpeg"}},t.getUserData(),t.initializeCropper()}},{key:"resetOrientation",value:function(e,t,n){var i=this,s=new Image,a="image/jpeg";s.onload=function(){var e=s.width,r=s.height,o=i._$document[0].createElement("canvas"),l=o.getContext("2d"),c=e*r*4e5/(i.outputImage.width*i.outputImage.height*i.file.size);switch([5,6,7,8].indexOf(t)>-1?(o.width=r,o.height=e):(o.width=e,o.height=r),t){case 2:l.transform(-1,0,0,1,e,0);break;case 3:l.transform(-1,0,0,-1,e,r);break;case 4:l.transform(1,0,0,-1,0,r);break;case 5:l.transform(0,1,1,0,0,0);break;case 6:l.transform(0,1,-1,0,r,0);break;case 7:l.transform(0,-1,-1,0,r,e);break;case 8:l.transform(0,-1,1,0,0,e);break;default:l.transform(1,0,0,1,0,0)}l.drawImage(s,0,0),n(o.toDataURL(a,c>1?1:c))},s.src=e}},{key:"base64TOBlobUrl",value:function(e){for(var t=atob(e.split(",")[1]),n=t.length,i=new Uint8Array(n),s=0;n>s;s++)i[s]=t.charCodeAt(s);return this.URL.createObjectURL(new Blob([i],{type:"image/jpeg"}))}},{key:"initializeCropper",value:function(){var e=this;e._$scope.$watch(function(){return e.uploadedFile},function(t,n){t&&(e.zoomIndex=1,e.refresh=!0,e.file=t,e.resetOrientation(e.URL.createObjectURL(t),1,function(t){e._$scope.$apply(function(){e.cropUrl=e.base64TOBlobUrl(t),e.refresh=!1})}))})}},{key:"zoomIn",value:function(){this.zoomIndex<2&&(this.zoomIndex+=.1*this.zoomIndex,this.cropper.zoomIn(.1))}},{key:"zoomOut",value:function(){this.zoomIndex>1?(this.zoomIndex-=.1*this.zoomIndex,this.cropper.zoomOut(.1)):(this.zoomIndex=1,this.cropper.zoomOut(.1))}},{key:"fit",value:function(){this.cropper.fit(),this.zoomIndex=1}},{key:"edit",value:function(){this.showUpload=!0,this.imageData={}}},{key:"croppedResult",value:function(){this.cropper.crop()}},{key:"rotate",value:function(){this.cropper.rotate(90)}},{key:"getUserData",value:function(){var e=this,t={pageNo:this.pageNo,pageSize:this.pageSize};e._MomentsService.getUserData(t).then(function(t){e.dataObj=t,e.kids=e.kids.length?e.kids:t.childInfos||[],e.isFirstUpload=t.isFirstUpload,e.userDataLoaded=!0,t.deliveredProducts.length<e.pageSize&&(e.disableViewMore=!0),e.pids=e.pids.concat(t.deliveredProducts),"Registered"!=e._SegmentService.getTrackData().upload_eligibility&&(e.pids?e._SegmentService.setTrackData("upload_eligibility","Delivered order"):e._SegmentService.setTrackData("upload_eligibility","No delivered order")),e._SegmentService.track(e._SegmentService.EVENTS.PHOTO_UPLOAD_CLICKED,e._SegmentService.getTrackData())},function(t){e._toastr.error(t.data.message)})}},{key:"addChild",value:function(){var e=this;this.addedKid.trim().length&&!function(){e.allowAddChild=!1,e.isKidAdding=!0,e.imageInfo.kidName=e.imageInfo.kidName?e.imageInfo.kidName+=","+e.addedKid:e.addedKid,e.addedKids.push({kidName:e.addedKid,isSelected:!0}),e.addedKid="",e.showScroller={left:!1,right:!1};var t=e;e._$timeout(function(){t.isKidAdding=!1},30)}()}},{key:"allowAdd",value:function(){this.allowAddChild=!0}},{key:"removeKid",value:function(e){var t="";e.isSelected=!e.isSelected;for(var n in this.addedKids)this.addedKids[n].isSelected&&(t+=t?","+this.addedKids[n].kidName:this.addedKids[n].kidName);this.imageInfo.kidName=t}},{key:"viewMoreProducts",value:function(){this.pageNo++,this.getUserData()}},{key:"formValid",value:function(){return this.imageData.width&&this.imageData.height?this.imageInfo.taggedKidIds||this.imageInfo.kidName?this.pids.length&&!this.imageInfo.taggedProductIds?(this._toastr.error("Please select products"),this._$document[0].getElementById("pid-list").scrollIntoView(),!1):this.isFirstUpload&&!this.agree?(this._toastr.error("Please agree to our terms"),!1):!0:(this._toastr.error("Let's tag who is in this photo"),this._$document[0].getElementById("kid-info").scrollIntoView(),!1):(this._toastr.error(" Please upload a photo"),!1)}},{key:"upload",value:function(){var e=this;this.formValid()&&e._ResourceService.getAwsInfo().then(function(t){e.awsInfo=t;var n=e.createFolderName();AWS.config.region=e.awsInfo.regionS3Bucket,AWS.config.credentials=new AWS.CognitoIdentityCredentials({IdentityPoolId:e.awsInfo.congnitoPoolId},{region:e.awsInfo.regionPoolId});var i=new AWS.S3({signatureVersion:"v4",params:{Bucket:e.awsInfo.bucketNameS3}});if(e.file){var s=function(){var t=Math.round(parseInt(e.file.size));if(t>e.sizeLimit)return e._toastr.error("Sorry, your attachment is too big.","File Too Large"),{v:!1};var s=n+"/"+e.uniqueString()+"-"+e.file.name.split(" ").join("-"),a={Key:e.awsInfo.bucketS3BaseFolder+"/"+s,ContentType:e.imageData.type,Body:e.imageData.dataURL,ServerSideEncryption:"AES256"};e.momentUploadLoading=!0,i.putObject(a,function(n,i){return n?(e.momentUploadLoading=!1,e._toastr.error(n.message,n.code),!1):void e.submitPhoto(s,t)})}();if("object"==typeof s)return s.v}else e._toastr.error("Please select a file to upload")})}},{key:"uniqueString",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;8>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},{key:"submitPhoto",value:function(e,t){var n=void 0;n=this.imageInfo.taggedKidNames?this.imageInfo.taggedKidNames+(this.imageInfo.kidName?","+this.imageInfo.kidName:""):this.imageInfo.kidName;var i=this._$cookies.getObject("hs_customer_info"),s=this,a={imageUrl:e,width:this.imageData.width,height:this.imageData.height,description:this.imageInfo.description||"",taggedKidsIds:this.imageInfo.taggedKidIds,taggedKidNames:n,taggedProductIds:this.imageInfo.taggedProductIds,customerName:i.firstName+" "+i.lastName};this._MomentsService.postMomentData(a).then(function(e){s._toastr.info(e.data.message),s._$rootScope.$broadcast("hs.moments.uploaded",e.data.momentsPhoto),s.closeUploadModal(),s.momentUploadLoading=!1;var n={from_screen:"Moments",from_location:"Add moment button",photo_id:e.data.momentsPhoto.id,image_size:t/1024,dimension:a.width+"x"+a.height,kids:a.taggedKidNames.split(",").length,products:a.taggedProductIds.split(",").length};s._SegmentService.track(s._SegmentService.EVENTS.PHOTO_UPLOADED,n)},function(e){s._toastr.error(e.data.message),s.momentUploadLoading=!1})}},{key:"selectPid",value:function(e){e.isSelected=!e.isSelected,this.imageInfo.taggedProductIds=_.chain(this.pids).filter({isSelected:!0}).map("productId").value().join(",")}},{key:"selectKid",value:function(e){e.isSelected=!e.isSelected,this.imageInfo.taggedKidIds=_.chain(this.kids).filter({isSelected:!0}).map("kidId").value().join(","),this.imageInfo.taggedKidNames=_.chain(this.kids).filter({isSelected:!0}).map("kidName").value().join(",")}},{key:"createFolderName",value:function(){var e=new Date,t=e.getMonth()+1;return[e.getFullYear(),(t>9?"":"0")+t].join("")}},{key:"closeUploadModal",value:function(){this._ModalService.closeMomentUploadModal(),this._$state.go("moments",{upload:""},{reload:!1,notify:!1})}}]),t}();t.MomentUploadController=s}).call(t,n(133).Buffer)},function(e,t,n){(function(e){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return o(this,e,t,n)}function o(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?v(e,t,n,i):"string"==typeof t?u(e,t,n):p(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,i){return l(t),0>=t?a(e,t):void 0!==n?"string"==typeof i?a(e,t).fill(n,i):a(e,t).fill(n):a(e,t)}function d(e,t){if(l(t),e=a(e,0>t?0:0|h(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;++n)e[n]=0;return e}function u(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,n);e=a(e,i);var s=e.write(t,n);return s!==i&&(e=e.slice(0,s)),e}function m(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function v(e,t,n,i){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=m(e,t),e}function p(e,t){if(r.isBuffer(t)){var n=0|h(t.length);return e=a(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?a(e,0):m(e,t);if("Buffer"===t.type&&X(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function g(e){return+e!=e&&(e=0),r.alloc(+e)}function f(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,t>=n)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return $(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function b(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function S(e,t,n,i,s){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=s?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(0>n){if(!s)return-1;n=0}if("string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,s);if("number"==typeof t)return t=255&t,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,s);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,i,s){function a(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}var r=1,o=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;r=2,o/=2,l/=2,n/=2}var c;if(s){var d=-1;for(c=n;o>c;c++)if(a(e,c)===a(t,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===l)return d*r}else-1!==d&&(c-=c-d),d=-1}else for(n+l>o&&(n=o-l),c=n;c>=0;c--){for(var u=!0,m=0;l>m;m++)if(a(e,c+m)!==a(t,m)){u=!1;break}if(u)return c}return-1}function k(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i),i>s&&(i=s)):i=s;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");i>a/2&&(i=a/2);for(var r=0;i>r;++r){var o=parseInt(t.substr(2*r,2),16);if(isNaN(o))return r;e[n+r]=o}return r}function w(e,t,n,i){return Q(H(t,e.length-n),e,n,i)}function C(e,t,n,i){return Q(W(t),e,n,i)}function P(e,t,n,i){return C(e,t,n,i)}function D(e,t,n,i){return Q(G(t),e,n,i)}function T(e,t,n,i){return Q(Y(t,e.length-n),e,n,i)}function I(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function $(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;n>s;){var a=e[s],r=null,o=a>239?4:a>223?3:a>191?2:1;if(n>=s+o){var l,c,d,u;switch(o){case 1:128>a&&(r=a);break;case 2:l=e[s+1],128===(192&l)&&(u=(31&a)<<6|63&l,u>127&&(r=u));break;case 3:l=e[s+1],c=e[s+2],128===(192&l)&&128===(192&c)&&(u=(15&a)<<12|(63&l)<<6|63&c,u>2047&&(55296>u||u>57343)&&(r=u));break;case 4:l=e[s+1],c=e[s+2],d=e[s+3],128===(192&l)&&128===(192&c)&&128===(192&d)&&(u=(15&a)<<18|(63&l)<<12|(63&c)<<6|63&d,u>65535&&1114112>u&&(r=u))}}null===r?(r=65533,o=1):r>65535&&(r-=65536,i.push(r>>>10&1023|55296),r=56320|1023&r),i.push(r),s+=o}return E(i)}function E(e){var t=e.length;if(ee>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=ee));return n}function A(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;n>s;++s)i+=String.fromCharCode(127&e[s]);return i}function M(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;n>s;++s)i+=String.fromCharCode(e[s]);return i}function R(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var s="",a=t;n>a;++a)s+=V(e[a]);return s}function O(e,t,n){for(var i=e.slice(t,n),s="",a=0;a<i.length;a+=2)s+=String.fromCharCode(i[a]+256*i[a+1]);return s}function N(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,i,s,a){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||a>t)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function L(e,t,n,i){0>t&&(t=65535+t+1);for(var s=0,a=Math.min(e.length-n,2);a>s;++s)e[n+s]=(t&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function q(e,t,n,i){0>t&&(t=4294967295+t+1);for(var s=0,a=Math.min(e.length-n,4);a>s;++s)e[n+s]=t>>>8*(i?s:3-s)&255}function F(e,t,n,i,s,a){if(n+i>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function U(e,t,n,i,s){return s||F(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,s){return s||F(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,i,52,8),n+8}function j(e){if(e=z(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,i=e.length,s=null,a=[],r=0;i>r;++r){if(n=e.charCodeAt(r),n>55295&&57344>n){if(!s){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(r+1===i){(t-=3)>-1&&a.push(239,191,189);continue}s=n;continue}if(56320>n){(t-=3)>-1&&a.push(239,191,189),s=n;continue}n=(s-55296<<10|n-56320)+65536}else s&&(t-=3)>-1&&a.push(239,191,189);if(s=null,128>n){if((t-=1)<0)break;a.push(n)}else if(2048>n){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,i,s,a=[],r=0;r<e.length&&!((t-=2)<0);++r)n=e.charCodeAt(r),i=n>>8,s=n%256,a.push(s),a.push(i);return a}function G(e){return Z.toByteArray(j(e))}function Q(e,t,n,i){for(var s=0;i>s&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function K(e){return e!==e}var Z=n(134),J=n(135),X=n(136);t.Buffer=r,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=s(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return o(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return c(null,e,t,n)},r.allocUnsafe=function(e){return d(null,e)},r.allocUnsafeSlow=function(e){return d(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,s=0,a=Math.min(n,i);a>s;++s)if(e[s]!==t[s]){n=e[s],i=t[s];break}return i>n?-1:n>i?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),s=0;for(n=0;n<e.length;++n){var a=e[n];if(!r.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,s),s+=a.length}return i},r.byteLength=f,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)b(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?$(this,0,e):y.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===r.compare(this,e)},r.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,i,s){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===s&&(s=this.length),0>t||n>e.length||0>i||s>this.length)throw new RangeError("out of range index");if(i>=s&&t>=n)return 0;if(i>=s)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var a=s-i,o=n-t,l=Math.min(a,o),c=this.slice(i,s),d=e.slice(t,n),u=0;l>u;++u)if(c[u]!==d[u]){a=c[u],o=d[u];break}return o>a?-1:a>o?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},r.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0)}var s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return P(this,e,t,n);case"base64":return D(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var i;if(r.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=r.prototype;else{var s=t-e;i=new r(s,void 0);for(var a=0;s>a;++a)i[a]=this[a+e]}return i},r.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e],s=1,a=0;++a<t&&(s*=256);)i+=this[e+a]*s;return i},r.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},r.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=this[e],s=1,a=0;++a<t&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},r.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var i=t,s=1,a=this[e+--i];i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*t)),a},r.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=0|t,n=0|n,!i){var s=Math.pow(2,8*n)-1;x(this,e,t,n,s,0)}var a=1,r=0;for(this[t]=255&e;++r<n&&(a*=256);)this[t+r]=e/a&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=0|t,n=0|n,!i){var s=Math.pow(2,8*n)-1;x(this,e,t,n,s,0)}var a=n-1,r=1;for(this[t+a]=255&e;--a>=0&&(r*=256);)this[t+a]=e/r&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):q(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var s=Math.pow(2,8*n-1);x(this,e,t,n,s-1,-s)}var a=0,r=1,o=0;for(this[t]=255&e;++a<n&&(r*=256);)0>e&&0===o&&0!==this[t+a-1]&&(o=1),this[t+a]=(e/r>>0)-o&255;return t+n},r.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var s=Math.pow(2,8*n-1);x(this,e,t,n,s-1,-s)}var a=n-1,r=1,o=0;for(this[t+a]=255&e;--a>=0&&(r*=256);)0>e&&0===o&&0!==this[t+a+1]&&(o=1),this[t+a]=(e/r>>0)-o&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):q(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||x(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var s,a=i-n;if(this===e&&t>n&&i>t)for(s=a-1;s>=0;--s)e[s+t]=this[s+n];else if(1e3>a||!r.TYPED_ARRAY_SUPPORT)for(s=0;a>s;++s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},r.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var s=e.charCodeAt(0);256>s&&(e=s)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(t>=n)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;n>a;++a)this[a]=e;else{var o=r.isBuffer(e)?e:H(new r(e,i).toString()),l=o.length;for(a=0;n-t>a;++a)this[a+t]=o[a%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-n(e)}function s(e){var t,i,s,a,r,o,l=e.length;r=n(e),o=new d(3*l/4-r),s=r>0?l-4:l;var u=0;for(t=0,i=0;s>t;t+=4,i+=3)a=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],o[u++]=a>>16&255,o[u++]=a>>8&255,o[u++]=255&a;return 2===r?(a=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,o[u++]=255&a):1===r&&(a=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,o[u++]=a>>8&255,o[u++]=255&a),o}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function r(e,t,n){for(var i,s=[],r=t;n>r;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],s.push(a(i));return s.join("")}function o(e){for(var t,n=e.length,i=n%3,s="",a=[],o=16383,c=0,d=n-i;d>c;c+=o)a.push(r(e,c,c+o>d?d:c+o));return 1===i?(t=e[n-1],s+=l[t>>2],s+=l[t<<4&63],s+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],s+=l[t>>10],s+=l[t>>4&63],s+=l[t<<2&63],s+="="),a.push(s),a.join("")}t.byteLength=i,t.toByteArray=s,t.fromByteArray=o;for(var l=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,v=u.length;v>m;++m)l[m]=u[m],c[u.charCodeAt(m)]=m;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,s){var a,r,o=8*s-i-1,l=(1<<o)-1,c=l>>1,d=-7,u=n?s-1:0,m=n?-1:1,v=e[t+u];for(u+=m,a=v&(1<<-d)-1,v>>=-d,d+=o;d>0;a=256*a+e[t+u],u+=m,d-=8);for(r=a&(1<<-d)-1,a>>=-d,d+=i;d>0;r=256*r+e[t+u],u+=m,d-=8);if(0===a)a=1-c;else{if(a===l)return r?NaN:(v?-1:1)*(1/0);r+=Math.pow(2,i),a-=c}return(v?-1:1)*r*Math.pow(2,a-i)},t.write=function(e,t,n,i,s,a){var r,o,l,c=8*a-s-1,d=(1<<c)-1,u=d>>1,m=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,v=i?0:a-1,p=i?1:-1,h=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,r=d):(r=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-r))<1&&(r--,l*=2),t+=r+u>=1?m/l:m*Math.pow(2,1-u),t*l>=2&&(r++,l/=2),r+u>=d?(o=0,r=d):r+u>=1?(o=(t*l-1)*Math.pow(2,s),r+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,s),r=0));s>=8;e[n+v]=255&o,v+=p,o/=256,s-=8);for(r=r<<s|o,c+=s;c>0;e[n+v]=255&r,v+=p,r/=256,c-=8);e[n+v-p]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){"ngInject";return{restrict:"AE",scope:{moments:"="},controller:["$scope","$element",function(i,s){var a='<div class="columns moment-image">\n                    <moment-card moment="moment"></moment-card>',r={},o=!0;salvattore.registerGrid(s[0]);var l=s[0].children.length,c=s.width()/l,d=function(){n(function(){l=s[0].children.length,c=s.width()/l})};t.addEventListener("resize",d,!1),s.on("$destroy",function(){t.removeEventListener("resize",d)}),i.$on("hs.momentsUpdated",function(){s[0].innerHTML="",salvattore.registerGrid(s[0])});var u=function(e,t,n){var i=e?t/e:1;return n/i},m=function(e){return u(e.height,e.width,c)},v=[],p=10;i.$watchCollection("moments",function(t,n){for(var d=[],u=0;l>u;u++)d.push([]),v.push(s[0].children[u].offsetHeight);var h=0,g=o?0:(n||[]).length;o=!1;for(var f=[],u=g;u<(t||[]).length;u++){var y=i.$new();y.moment=i.moments[u],y.moment.arrayIndex=u,y.moment.columnWidth=c,r[y.moment.imgUrl]=u;var b=void 0,S=void 0;if(y.trackData={add_from:u+1+"_Moment_"+y.moment.id,add_from_details:""},b=e(a)(y),S=m(y.moment),p>u)d[u%l].push(b[0]),v[u%l]+=S,h=Math.max(h,d[u%l].length);else{for(var _=9999999,k=0,w=0;l>w;w++){for(var C=v[w]+S,P=C,D=C,T=0;l>T;T++)w!=T&&(P=Math.min(v[T],P),D=Math.max(v[T],D));var I=D-P;_>I&&(_=I,k=w)}d[k].push(b[0]),v[k]+=S,h=Math.max(h,d[k].length)}}for(var u=0;h>u;u++)for(var w=0;l>w;w++)d[w][u]?f.push(d[w][u]):f.push(angular.element("<div></div>")[0]);salvattore.appendElements(s[0],f)})}]}};n.$inject=["$compile","$window","$timeout"],t.SalvattoreMomentsDirective=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={restrict:"E",templateUrl:"app/components/widgets/moments/card/moment-card.html",controller:"MomentCardController",controllerAs:"vm",bindings:{moment:"="}};t.MomentCardComponent=s;var a=function(){function e(t,i,s,a,r){"ngInject";if(n(this,e),this._$state=a,this._$window=r,this._momentsService=t,this._SegmentService=i,this._PageTrackingService=s,this.likePromise,this.aspectRatio=this.moment.height?this.moment.width/this.moment.height:1,this.moment.isMoments=this._$state.includes("moments"),this.moment.isMomentCard=!0,this.moment.isProfile){var o=this.moment.name.split(" ");this.initials=(o[0].charAt(0)+(o[1]?o[1].charAt(0):"")).toUpperCase()}}return e.$inject=["MomentsService","SegmentService","PageTrackingService","$state","$window"],i(e,[{key:"getHeight",value:function(){return 100/this.aspectRatio+"%"}},{key:"setSegmentParams",value:function(e){this._momentsService.getMomentsData.scrolly=this._$window.scrollY,this._SegmentService.resetTrackData(),this.moment.isMoments?this._SegmentService.setTrackData("from_screen","Moments"):this._SegmentService.setTrackData("from_screen","My moments"),this.moment.isTile?(this._SegmentService.setTrackData("from_location","Custom tile"),this._SegmentService.setTrackData("custom_tile_id",this.moment.customTilesId||"NoTileIdYet")):this._SegmentService.setTrackData("from_location","Grid"),this._SegmentService.setTrackData("position",this.moment.arrayIndex+1)}},{key:"getHref",value:function(){var e=this,t=this.moment.isTile?this.moment.actionUri:this._$state.href("momentDetail",{id:this.moment.id}),n=e._PageTrackingService.getUrl(e._PageTrackingService.getFunnel(),"Product",e._PageTrackingService.getSubSection(),"");return t.indexOf("?")>-1?t+"&"+n:t+"?"+n}},{key:"toggleMomentLike",value:function(){var e=this;e.likePromise||(this.moment.isLiked?(e.likePromise=this._momentsService.dislikeMoment(this.moment),e.likePromise.then(function(t){e.moment.isLiked=!e.moment.isLiked,e.moment.likes--,e.likePromise=null},function(t){e.likePromise=null})):(e.likePromise=this._momentsService.likeMoment(this.moment),e.likePromise.then(function(t){e.moment.isLiked=!e.moment.isLiked,e.moment.likes++,e.likePromise=null},function(t){e.likePromise=null})))}},{key:"getAgo",value:function(e){return this._momentsService.getAgo(e,!0)}}]),e}();t.MomentCardController=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l){"ngInject";n(this,e),this._$http=r,this._CustomerService=t,this._CachingHttpService=s,this._ModalService=i,this._SegmentService=a,this._$q=o,this._toastr=l,this.getMomentsData={momentsPhotos:[],lastPage:1,scrolly:0,end:!1,hideLoadMore:!1}}return e.$inject=["CustomerService","ModalService","CachingHttpService","SegmentService","$http","$q","toastr"],i(e,[{key:"resetGetMomentsData",value:function(){this.getMomentsData={momentsPhotos:[],lastPage:1,scrolly:0,end:!1}}},{key:"getMoments",value:function(e,t){return t?this._$http.get("/api/moments/photo",{params:e}):this._$http.get("/api/moments/photo/customer",{params:e})}},{key:"getMomentDetail",value:function(e){return this._$http.get("/api/moments/photo/"+e)}},{key:"likeMoment",value:function(e){var t=this,n=e.id;return this._CustomerService.isLoggedIn()?this._$http.post("/api/moments/photo/"+n+"/like").then(function(n){return t.trackLikeForSegment(e,!0),t._$q.when(n)},function(e){return t._$q.reject(e)}):(this._toastr.info("Please login to like this moment."),this._SegmentService.set("from_location","Heart"),this._SegmentService.set("from_screen",this._SegmentService.getTrackData("from_screen")),t._ModalService.showLoginModal().closePromise.then(function(i){return"success"===i.value?(t.trackLikeForSegment(e,!0),t._$http.post("/api/moments/photo/"+n+"/like")):t._$q.reject({message:"Please login to like this moment."})}))}},{key:"dislikeMoment",value:function(e){var t=this,n=e.id;return this._$http["delete"]("/api/moments/photo/"+n+"/like").then(function(n){return t.trackLikeForSegment(e,!1),t._$q.when(n)},function(e){return t._$q.reject(e)})}},{key:"postMomentData",value:function(e){return this._$http.post("/api/moments/photo",e)}},{key:"getUserData",value:function(e){return this._CachingHttpService.doCacheableGet("/api/moments/userdata",e)}},{key:"getReportOptions",value:function(){return this._CachingHttpService.doCacheableGet("/api/moments/photo/report/options",{})}},{key:"report",value:function(e){return this._$http.post("/api/moments/photo/"+e.id+"/report",e)}},{key:"deleteMoment",value:function(e){return this._$http["delete"]("/api/moments/photo/"+e)}},{key:"getLikes",value:function(e){return this._$http.get("/api/moments/photo/"+e+"/like/customers")}},{key:"trackLikeForSegment",value:function(e,t){var n={from_screen:e.isMomentCard?e.isMoments?"Moments":"My moments":"Photo page",from_location:"Heart",photo_id:e.id,photo_source:e.source,photo_from:e.uploaderId,photo_type:e.isPopular?"Popular":"Recent"};e.isMomentCard&&(n.position=e.arrayIndex+1);var i=t?this._SegmentService.EVENTS.PHOTO_LIKED:this._SegmentService.EVENTS.PHOTO_UNLIKED;this._SegmentService.track(i,n)}},{key:"getAgo",value:function(e,t){if(!e)return"Just now";var n=Math.floor((new Date-e)/1e3),i=Math.floor(n/31536e3);return i>=1?i+(t?"y":" year"+(i>1?"s":"")+" ago"):(i=Math.floor(n/2592e3),i>=1?i+(t?"m":" month"+(i>1?"s":"")+" ago"):(i=Math.floor(n/86400),i>=1?i+(t?"d":" day"+(i>1?"s":"")+" ago"):(i=Math.floor(n/3600),i>=1?i+(t?"h":" hour"+(i>1?"s":"")+" ago"):(i=Math.floor(n/60),i>=1?i+(t?"m":" minute"+(i>1?"s":"")+" ago"):t?"now":"Just now"))))}},{key:"getProfileData",value:function(e){return this._CachingHttpService.doCacheableGet("/api/moments/profile/customer/"+e.customerProfileUserId,{pageNo:e.pageNo,pageSize:e.pageSize,source:e.source})}}]),e}();t.MomentsService=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){"ngInject";function n(n){angular.isFunction(jQuery)&&n instanceof jQuery&&(n=n[0]);var i=n.getBoundingClientRect();return i.top>=0&&i.right<=(e.innerWidth||t.documentElement.clientWidth)&&i.bottom<=(e.innerHeight||t.documentElement.clientHeight)&&i.left>=0}return{restrict:"A",scope:{checkElement:"@"},link:function(t,i,s){var a=angular.element(e),r=angular.element(t.checkElement);a.scroll(function(){r.length||(r=angular.element(t.checkElement)),r.length&&!n(r)?i.show():i.hide()})}}};n.$inject=["$window","$document"],t.StickyOnScrollDirective=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o,l,c){"ngInject";n(this,e),this._ModalService=t,this._MomentsService=i,this._CustomerService=s,this._SegmentService=r,this._$state=l,this.reportUploading=!1,this.emailRegex=a.EMAIL_VALIDATOR_REGEX,this._toastr=c,this.isLoggedIn=this._CustomerService.isLoggedIn(),this.reportData=o.ngDialogData,this.segmentTrackData=this.reportData.segmentTrackData,"report"===this.reportData.type?(this.reportForm={},this.activateReport()):"delete"===this.reportData.type?this.activateDelete():"likes"===this.reportData.type&&this.activateLikes();
}return e.$inject=["ModalService","MomentsService","CustomerService","ConfigService","SegmentService","$scope","$state","toastr"],i(e,[{key:"activateReport",value:function(){this.getReportOptions()}},{key:"getReportOptions",value:function(){var e=this;this._MomentsService.getReportOptions().then(function(t){e.reportOptions=t.reportOptions},function(t){e._toastr.error(t.data.message)})}},{key:"postReport",value:function(){var e=this.reportForm;e.id=this.reportData.id;var t=this;t.reportUploading=!0,t._MomentsService.report(e).then(function(n){t._MomentsService.resetGetMomentsData(),t._$state.go("moments",{}),t._toastr.info(n.data.message),t.reportUploading=!1,t.segmentTrackData.reason=e.optionSelected,t.segmentTrackData.reported_by=e.email||t._CustomerService.getCustomerEmail(),t._SegmentService.track(t._SegmentService.EVENTS.PHOTO_REPORTED,t.segmentTrackData)},function(e){t._toastr.error(e.data.message),t.reportUploading=!1})}},{key:"activateDelete",value:function(){}},{key:"deleteMoment",value:function(){var e=this;e.deleteLoading=!0,e._MomentsService.deleteMoment(e.reportData.id).then(function(t){e._MomentsService.resetGetMomentsData(),e._$state.go("moments",{}),e._toastr.info(t.data.message),e.deleteLoading=!1,e._SegmentService.track(e._SegmentService.EVENTS.PHOTO_DELETED,e.segmentTrackData)},function(t){e._toastr.error(t.data.message),e.deleteLoading=!1})}},{key:"activateLikes",value:function(){var e=this;e._MomentsService.getLikes(e.reportData.id).then(function(t){e.likes=t.data.momentsPhotoLikeInfos},function(t){e._toastr.error(t.data.message)})}},{key:"closeReportModal",value:function(){this._ModalService.closeReportMomentModal()}}]),e}();t.ReportModalController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t,i,s,a,r,o){"ngInject";n(this,e),this._$stateParams=a,this._$window=r,this._toastr=o,this._MomentsService=t,this._SegmentService=i,this._PageTrackingService=s,this.pageNo=1,this.pageSize=100,this.activate()}return e.$inject=["MomentsService","SegmentService","PageTrackingService","$stateParams","$window","toastr"],i(e,[{key:"activate",value:function(){var e=this;e.momentsLoading=!0;var t={pageNo:1,pageSize:e.pageSize,source:e._$stateParams.source,customerProfileUserId:e._$stateParams.id};this._MomentsService.getProfileData(t).then(function(n){(0==n.momentsPhotos.length||n.momentsPhotos.length<t.pageSize)&&(e.hideLoadMore=!0),e.userTile={isProfile:!0,imageUrl:n.customerProfileImageUrl,likes:n.likes,uploads:n.uploads,name:n.customerName};var i=e.userTile.name.split(" ");e.initials=(i[0].charAt(0)+(i[1]?i[1].charAt(0):"")).toUpperCase(),e.moments=[e.userTile].concat(n.momentsPhotos),e.momentsLoading=!1},function(t){e._toastr.error(t.data.message),e.momentsLoading=!1})}},{key:"viewMoreMoments",value:function(){var e=this,t={pageNo:e.pageNo+1,pageSize:e.pageSize,source:e._$stateParams.source,customerProfileUserId:e._$stateParams.id};this.loadingMoreMoments=!0,this._MomentsService.getProfileData(t).then(function(n){e.loadingMoreMoments=!1,(0==n.momentsPhotos.length||n.momentsPhotos.length<t.pageSize)&&(e.hideLoadMore=!0),e.moments=e.moments.concat(n.momentsPhotos)},function(t){e.loadingMoreMoments=!1,e._toastr.error(t.message),e.momentsLoading=!1})}}]),e}();t.ProfileController=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={templateUrl:"app/components/widgets/product/custom-size-picker/custom-size-picker.html",controller:"CustomSizePickerController",controllerAs:"vm",bindings:{skus:"=",onModelChange:"&",preselectedSku:"="}};t.CustomSizePickerComponent=s;var a=function(){function e(t){"ngInject";n(this,e),this._$scope=t,this.showOptions=!1,this.bodyElem=angular.element("body"),this.preselectedSku&&this.chooseSku(this.preselectedSku)}return e.$inject=["$scope"],i(e,[{key:"togglePicker",value:function(){this.showOptions?this.closePicker():this.openPicker()}},{key:"openPicker",value:function(){this.showOptions=!0;var e=this;this.bodyElem.bind("click",function(t){angular.element(".custom-size-picker.open").length>0&&e._$scope.$apply(function(){e.closePicker(t)})})}},{key:"closePicker",value:function(e){this.showOptions=!1,this.bodyElem.off("click"),e&&angular.isFunction(e.stopPropagation)&&e.stopPropagation()}},{key:"chooseSku",value:function(e){e.availableQuantity>0&&(this.selectedSku=e,this.onModelChange({sku:e}))}}]),e}();t.CustomSizePickerController=a}]),angular.module("ngHopscotch").run(["$templateCache",function(e){e.put("app/sections/503-modal/503-modal.html",'<div class="modal-503 empty-container">\n  <span class="icon-2x-large icon-503"></span>\n  <h2>Uh oh!</h2>\n  <p class="message">\n    Our systems are acting up. <br>\n    Refreshing the page might help.\n  </p>\n  <button type="button" class="button" onclick="location.reload()">Refresh</button>\n</div>\n'),e.put("app/sections/account/account.html","<div ui-view></div>\n"),e.put("app/sections/boutique/boutique-plp.html",'<div class="banner" ng-hide="vm.loading">\n    <div ng-if="vm.boutiqueDetails.salePlanDetail.heroImageUrl && vm.boutiqueDetails.salePlanDetail.heroImageHeight == 360" class="banner-image plp-banner hide-for-small-only">\n         <div class="disable-image-download" ng-if="vm.boutiqueDetails.salePlanDetail.heroImageUrl">\n            <img ng-src="{{::vm.boutiqueDetails.salePlanDetail.heroImageUrl}}">\n            <div class="transparent-img-overlay"></div>\n        </div>\n        <div class="small-12 columns boutique-with-banner">\n            <div class="boutique-tags-container">\n                 <span class="tags  time-left-tag-container" ng-if="::vm.boutiqueDetails.salePlanDetail.endDate">\n                    <time-left end-time="vm.boutiqueDetails.salePlanDetail.endDate"\n                               start-time="vm.boutiqueDetails.salePlanDetail.startDate"\n                               rest-time="vm.boutiqueDetails.salePlanDetail.restTime"\n                               class="ng-isolate-scope">\n                    </time-left>\n                </span>\n                <span class="tags offer-tag-container" ng-if="::vm.boutiqueDetails.salePlanDetail.priceDetail">\n                    <span class="tag positive-tag with-icon icon-offer">\n                        <span ng-bind="::vm.boutiqueDetails.salePlanDetail.priceDetail"></span>\n                    </span>\n                </span>\n                <span>\n                    <span class="tag tagline delivery-tags" ng-bind="::vm.boutiqueDetails.salePlanDetail.tagline"></span>\n                </span>\n            </div>\n        </div>\n    </div>\n    <div class="row boutique-header boutique-details-container hide-for-small-only" ng-if="(!vm.boutiqueDetails.salePlanDetail.heroImageUrl || !(vm.boutiqueDetails.salePlanDetail.heroImageUrl && vm.boutiqueDetails.salePlanDetail.heroImageHeight == 360)) && !vm.searchText && !vm.categorySearch">\n        <h1 class="boutique-name"\n            ng-bind="::vm.boutiqueDetails.salePlanDetail.name">\n        </h1>\n        <div class="small-12 columns boutique-tags-container">\n             <span class="tags  time-left-tag-container"\n                   ng-if="::(vm.boutiqueDetails.salePlanDetail.endDate || vm.boutiqueDetails.salePlanDetail.restTime)">\n                <time-left\n                        end-time="vm.boutiqueDetails.salePlanDetail.endDate"\n                        start-time="vm.boutiqueDetails.salePlanDetail.startDate"\n                        rest-time="vm.boutiqueDetails.salePlanDetail.restTime"\n                        class="ng-isolate-scope">\n                </time-left>\n            </span>\n            <span class="tags offer-tag-container" ng-if="::(vm.boutiqueDetails.salePlanDetail.priceDetail)">\n                <span class="tag positive-tag with-icon icon-offer">\n                    <span ng-bind="::vm.boutiqueDetails.salePlanDetail.priceDetail"></span>\n                </span>\n            </span>\n            <span>\n                <span class="tag tagline delivery-tags" ng-bind="::vm.boutiqueDetails.salePlanDetail.tagline"></span>\n            </span>\n        </div>\n    </div>\n    <div class="banner-image show-for-small-only" ng-if="!(vm.searchText || vm.categorySearch)">\n        <div>\n            <div ng-if="vm.boutiqueDetails.salePlanDetail.bannerImageUrl">\n                <img ng-src="{{vm.boutiqueDetails.salePlanDetail.bannerImageUrl}}">\n            </div>\n            <div ng-if="!vm.boutiqueDetails.salePlanDetail.bannerImageUrl">\n                <img ng-if="vm.boutiqueDetails.salePlanDetail.imageUrl"\n                     ng-src="{{vm.boutiqueDetails.salePlanDetail.imageUrl}}">\n            </div>\n        </div>\n        <div class="image-overlay"></div>\n        <div class="image-overlay-text">\n            <h1 ng-if="vm.searchText" class="boutique-name" >\n                <span ng-hide="vm.boutiqueDetails.records.length==0 && !vm.searchFilterApplied && vm.getCurrentState() === \'search\'" ng-bind="vm.searchText"></span>\n            </h1>\n        </div>\n        <div class="image-overlay-text show-for-small-only image-overlay-text-centered">\n            <div class="small-12 boutique-details-container-for-small">\n                <div class="boutique-name" ng-bind="::vm.boutiqueDetails.salePlanDetail.name"></div>\n                <div class="boutique-tagline" ng-if="::vm.boutiqueDetails.salePlanDetail.tagline" ng-bind="::vm.boutiqueDetails.salePlanDetail.tagline"></div>\n                <div class="boutique-tags-container">\n                    <span class="tags no-margin no-padding"\n                          ng-if="::(vm.boutiqueDetails.salePlanDetail.endDate || vm.boutiqueDetails.salePlanDetail.restTime)">\n                        <time-left\n                                end-time="vm.boutiqueDetails.salePlanDetail.endDate"\n                                start-time="vm.boutiqueDetails.salePlanDetail.startDate"\n                                rest-time="vm.boutiqueDetails.salePlanDetail.restTime"\n                                class="ng-isolate-scope">\n                        </time-left>\n                    </span>\n                    <span class="tags no-margin no-padding" ng-if="::vm.boutiqueDetails.salePlanDetail.priceDetail">\n                        <span class="tag positive-tag with-icon icon-offer">\n                            <span ng-bind="::vm.boutiqueDetails.salePlanDetail.priceDetail"></span>\n                        </span>\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="boutique-header boutique-category-details-container hide-for-small-only" ng-if="!vm.loading  && vm.boutiqueDetails.records.length != 0 && (vm.searchText || vm.categorySearch) && !vm.isSmartFilter">\n        <div class="product-results-search-title-container">\n            <div ng-if="vm.searchText">\n                <h1 class="" ng-hide="vm.$stateParams.similarProductId" >\n                    Showing results for &ldquo;<span ng-bind="vm.searchText">\n                </span>&rdquo;\n                </h1>\n                <h1 class="" ng-show="vm.$stateParams.similarProductId">\n                    Showing similar products\n                </h1>\n                <div class="results-count"><span ng-bind="vm.boutiqueDetails.totalRecords"></span> items</div>\n            </div>\n            <div ng-if="!vm.loading && vm.categorySearch">\n                <h1  class="show-search-result" ng-bind="vm.categorySearch">\n                </h1>\n            </div>\n        </div>\n\n        <!--<div class="tags" ng-if="::vm.boutiqueDetails.salePlanDetail.name">-->\n        <!--<time-left end-time="vm.boutiqueDetails.salePlanDetail.endDate"></time-left>-->\n        <!-- TODO: Hide and re-enable after available from API -->\n        <!--<span class="tag discount icon-offer">Flat 50% off</span>-->\n        <!--<span class="tag tagline">Delivery in 4-5 weeks from USA | For Sara</span>-->\n        <!--</div>-->\n    </div>\n    <div class="product-result-desc-container show-for-small-only" ng-if="!vm.loading && vm.boutiqueDetails.records.length != 0 && !vm.categorySearch && vm.searchText && !vm.isSmartFilter">\n        <span class="show-result-text" ng-if="vm.searchText && !vm.$stateParams.similarProductId">\n            Showing results for &ldquo;<span ng-bind="vm.searchText">\n            </span>&rdquo;\n        </span>\n        <span class="show-result-text" ng-show="vm.$stateParams.similarProductId">\n            Showing similar products\n        </span>\n    </div>\n    <div class="category-details-only-for-small show-for-small-only" ng-if="!vm.loading && vm.boutiqueDetails.records.length != 0 && !vm.searchText && vm.categorySearch && !vm.isSmartFilter">\n        <divider ng-if="vm.categorySearch" class="show-for-small-only">\n            <span ng-bind="vm.categorySearch"></span>\n        </divider>\n    </div>\n</div>\n\n<div class="product-container" id="plp-container">\n    <div class="plp-top-loader" ng-if="(vm.loading || !vm.boutiqueDetails.records) && !vm.boutiqueDetails.searchRefineResponse">\n        <div class="top-header">\n            <title-loader></title-loader>\n        </div>\n        <filter-loader></filter-loader>\n    </div>\n\n    <div class="row smart-filter" ng-style="vm.showSfStyle" ng-class="{\'load-data-animation\':vm.loadDataAnimation, \'end-load-animation\':vm.loadDataAnimation === false}">\n        <div class="small-12 columns filters selected-filters"\n             ng-if="vm.boutiqueDetails.totalRecords > 0 && (vm.boutiqueDetails.smartFilter.appliedSmartFilters.length || vm.autoSearch.length)">\n            <div class="result-count float-left">Showing <span ng-bind="vm.boutiqueDetails.totalRecords"></span> results for </div>\n            <div class="filter-wrapper">\n                <div class="scroll-wrap">\n                    <span class="filter-tab button primary" ng-if="vm.autoSearch.length"\n                          ng-repeat="keyword in vm.autoSearch track by $index"\n                          ng-bind="keyword"></span>\n                    <span class="filter-tab button primary closable"\n                          ng-repeat="filter in vm.boutiqueDetails.smartFilter.appliedSmartFilters track by filter.name+filter.sectionType"\n                          ng-bind="::filter.name" ng-click="vm.removeSmartFilter(filter, $index)"></span>\n                </div>\n            </div>\n        </div>\n        <div class="small-12 columns filters available-filters" ng-class="{\'invisible\': vm.hideAvailableFilters}"\n             ng-if="vm.availableFilters.length || vm.isFromRefineFilter" >\n            <div ng-if="vm.availableFilters.length" class="filter-wrapper">\n                <div class="scroll-wrap">\n                    <span class="filter-tab button primary" ng-class="{\'filter-tab-animate\': (clickedFilter && vm.addAnimation) || false}"\n                      ng-repeat="data in vm.availableFilters"\n                      ng-bind="::data.name" ng-click="vm.applySmartFilter(data); clickedFilter=true"></span>\n                </div>\n            </div>\n            <div class="scroller-wrapper-left sf-left-scroller hide-for-small-only"\n                 ng-show="vm.showLeftScroller"\n                 ng-style="{\'background-image\': \'linear-gradient(to left, rgba(245, 245, 245, 0), \'+vm.colorCode+\')\'}">\n                <div class="scroller scroller-left"\n                     ng-click="vm.scrollLeft()"></div>\n            </div>\n            <div class="scroller-wrapper-right sf-right-scroller hide-for-small-only"\n                 ng-show="vm.showRightScroller"\n                 ng-style="{\'background-image\': \'linear-gradient(to right, rgba(245, 245, 245, 0), \'+vm.colorCode+\')\'}">\n                <div class="scroller scroller-right"\n                     ng-click="vm.scrollRight()"></div>\n            </div>\n        </div>\n    </div>\n    <div ng-style="vm.showPlpStyle">\n        <div ng-if="vm.boutiqueDetails.searchRefineResponse"\n             ng-class="{\'hide-filters\': vm.hideAvailableFilters}">\n            <hs-filter class="plp-hs-filter show-for-large" ng-if="vm.showFilters()"\n                       filters="vm.boutiqueDetails.searchRefineResponse"\n                       sort-by="vm.boutiqueDetails.sortingOptions"\n                       sale-plan-id="vm.boutiqueDetails.salePlanId"\n                       items="vm.boutiqueDetails.totalRecords"\n                       plp-data="vm.boutiqueDetails"\n                       on-filter-changed="vm.filterResults(params)"></hs-filter>\n            <hs-filter class="plp-hs-filter hide-for-large plp-product-list-container" ng-if="vm.showFilters()"\n                       filters="vm.boutiqueDetails.searchRefineResponse"\n                       sort-by="vm.boutiqueDetails.sortingOptions"\n                       sale-plan-id="vm.boutiqueDetails.salePlanId"\n                       items="vm.boutiqueDetails.totalRecords"\n                       plp-data="vm.boutiqueDetails"\n                       on-filter-changed="vm.filterResults(params)"></hs-filter>\n        </div>\n        <div class="banner banner-plp-loader show-for-small-only" ng-class="{\'search-banner-loader\': vm.searchText || vm.categorySearch}" ng-show="vm.loading"></div>\n        <section class="boutique-section-for-small clearfix">\n            <placeholder ng-if="!vm.boutiqueDetails.records || vm.loading" rows="2" columns="4" plp="true"></placeholder>\n            <product-list ng-if="vm.boutiqueDetails.records.length > 0 && !vm.loading"\n                          products="vm.boutiqueDetails.records"\n                          pagesize="vm.NumVisibleProduct"\n                          deregister-listeners="vm.deregisterListeners()"\n                          is-coming-soon="::vm.isComingSoon"></product-list>\n            <div ng-if="(vm.boutiqueDetails.records.length==0 && vm.getCurrentState() === \'boutique\')\n         || (vm.boutiqueDetails.records.length==0 && (vm.searchFilterApplied || vm.categorySearch))" class="empty-container">\n\n                <span class="icon-2x-large icon-filternoresult"></span>\n                <div class="message">\n                    Oh no! Too many filters.\n                </div>\n                <a href="#" class="button secondary small-button" ng-click="vm.resetFilters()">\n                    View all items\n                </a>\n\n            </div>\n            <div ng-if="(vm.boutiqueDetails.records.length == 0 && !vm.searchFilterApplied && vm.getCurrentState() === \'search\')"\n                 class="no-search-results">\n\n                <img ng-src="{{::(vm._ConfigService.IMAGE_BASE_PATH + \'images/assets/empty-search.svg\')}}" alt="no results found" class="no-results-icon">\n\n                <h3 class="search-heading">We\'re unable to find items matching <span class="search-term">&ldquo;{{vm.searchText}}&rdquo;</span>.</h3>\n                <div class="row">\n                    <div class="browse-by-categories large-offset-1 large-10 medium-12 small-12 columns">\n                        <div class="row show-for-small-only sm-browse-heading">Shop for</div>\n                        <a ng-repeat="dept in vm.departmentStates" ng-href="{{dept.state}}">\n                            <div class="search-category large-3 medium-6 small-3 columns">\n                                <div class="category-search-container clearfix">\n                                    <div class="large-6 medium-6 small-12 columns">\n                                        <img ng-src="{{dept.image}}" alt="home category"/>\n                                    </div>\n                                    <div class="large-6 medium-6 small-12 columns">\n                                        <h3>\n                                            <div class="hide-for-small-only shop-title">Shop</div>\n                                            <div ng-bind="dept.name">Shop</div>\n                                        </h3>\n                                    </div>\n                                </div>\n                            </div>\n                        </a>\n                    </div><!--/.browse-by-categories -->\n                </div><!--/.row-->\n            </div><!--END ng-if -->\n        </section>\n        <div class="button-block show-more-button-container">\n            <button class="button secondary show-more-products"\n                    ng-class="{\'show-more-product-loading\': vm.moreProductLoading}"\n                    ng-click="vm.showMoreProducts()"\n                    ng-show="vm.loadMoreDetails.showLoadMore && vm.boutiqueDetails.records.length > 0"\n                    ng-disabled="vm.isDisabled">\n                <div class="text" ng-bind="\'View \' + vm.remainingProductCount + \' more products \'"></div>\n                <div ng-if="vm.isDisabled" class="loading">\n                    <!-- Mask of the quarter of circle -->\n                    <div class="mask">\n                        <!-- Inner masked circle -->\n                        <div class="maskedCircle"></div>\n                    </div>\n                </div>\n            </button>\n        </div>\n\n        <div ng-if="vm.recommendedBoutiques.length">\n            <divider>Similar collections</divider>\n            <div salvattore\n                 class="boutique-container clearfix"\n                 boutiques="vm.recommendedBoutiques"\n                 data-columns=""\n                 section="\'RFYC\'"\n                 deregister-listeners="vm.deregisterListeners()"\n                 first="true">\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/sections/cancellation/cancellation.html",'<div class="row cancellation-container">\n    <div class="row checkout-cancellation-headers-container">\n        <div class="row">\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-click="vm.goToStep(\'list\')"\n                 ng-class="{\'visited\': vm.listStep.done, \'pending\': !vm.listStep.done && vm.listStep.inactive, \'active\' : !vm.listStep.inactive && !vm.listStep.done}">\n                <div class="row">\n                    <div class="small-10 small-offset-1 medium-10 medium-offset-1 columns">\n                        <h3 class="row header">Select</h3>\n                    </div>\n                    <div class="small-1 medium-1 columns">\n                        <div class="float-right indicator-icon">\n                            <span class="icon-medium" ng-class="{\'icon-checkout-next-pink\': vm.listStep.done, \'icon-checkout-next-gray\': !vm.listStep.done}"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-click="vm.goToStep(\'reason\')"\n                 ng-class="{\'visited\': vm.reasonStep.done, \'pending\': !vm.reasonStep.done && vm.reasonStep.inactive, \'active\' : !vm.reasonStep.inactive && !vm.reasonStep.done}">\n                <div class="row">\n                    <div class="row">\n                        <div class="small-10 small-offset-1 medium-10 medium-offset-1 columns">\n                            <h3 class="row header">Reason</h3>\n                        </div>\n                        <div class="small-1 medium-1 columns">\n                            <div class="float-right indicator-icon">\n                                <span class="icon-medium" ng-class="{\'icon-checkout-next-pink\': vm.reasonStep.done, \'icon-checkout-next-gray\': !vm.reasonStep.done}"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-class="{\'visited\': vm.refundStep.done, \'pending\': !vm.refundStep.done && vm.refundStep.inactive, \'active\' : !vm.refundStep.inactive && !vm.refundStep.done}">\n                <div class="row">\n                    <h3 class="row header">Confirm</h3>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="small-12 large-4 columns">\n            <div class="cancellation-views right-divider" ng-class="{\'inactive\': vm.listStep.inactive}"\n                 ng-include="\'app/sections/cancellation/cancellable-list/cancellable-list.html\'"></div>\n            <!--<div ui-view="list"></div>-->\n        </div>\n        <div class="small-12 large-4 columns">\n            <div class="cancellation-views right-divider" ng-class="{\'inactive\': vm.reasonStep.inactive}"\n                 ng-include="\'app/sections/cancellation/reason/reason.html\'"></div>\n            <!--<div ui-view="reason"></div>-->\n        </div>\n        <div class="small-12 large-4 columns">\n            <div class="cancellation-views right-divider" ng-class="{\'inactive\': vm.refundStep.inactive}"\n                 ng-include="\'app/sections/cancellation/refund/refund.html\'"></div>\n            <!--<div ui-view="refund"></div>-->\n        </div>\n    </div>\n</div>\n\n'),e.put("app/sections/cart/cart-modal.html",'<div class="cart-modal">\n    <header class="modal-header">\n        <span >CART</span>\n        <span class="icon icon-dismiss modal-close hide-for-small-only" ng-click="vm.closeCartModal()"></span>\n        <span class="icon icon-dismiss modal-close show-for-small-only" ng-click="vm.closeCartModalForSmall()"></span>\n    </header>\n\n    <div class="cart-loader-panel" ng-show="vm.loading">\n        <div ng-include="\'app/components/widgets/cart/cart-item/cart-item-loader.html\'"></div>\n        <div ng-include="\'app/components/widgets/cart/cart-item/cart-item-loader.html\'"></div>\n    </div>\n\n    <div ng-show="vm.empty" class="empty-container empty-cart">\n        <div class="icon-2x-large icon-empty-cart"></div>\n        <div class="message"><span class="icon-small icon-timer"></span>Looks like your cart is empty.</div>\n        <button class="show-for-small-only button secondary small-button" ng-click="vm.closeCartModalForSmall()">Continue shopping</button>\n    </div>\n    <div ng-hide="vm.loading || vm.empty">\n        <div class="notification-container" ng-show="vm.isShowNotification()">\n            <div class="top-notification"\n                 ng-class="vm.showNotificationClasses()">\n                <span ng-bind="vm.cartDetails.message"></span>\n            </div>\n        </div>\n\n        <div class="scrollable scrollable-cart" ng-class="{\'no-notification\': !vm.isShowNotification() }">\n            <cart-details cart-details="vm.cartDetails" on-item-change="vm.getCartDetails()" updating-cart="vm.updatingCart"></cart-details>\n        </div>\n\n\n        <div class="fixed-bottom">\n            <div class="payment-amount">\n                <div class="row">\n                    <span class="float-left">You pay:</span>\n                    <span class="float-right" ng-bind="vm.cartDetails.cartResponse.orderResponse.order.payAmount | currency:\'&#8377;\':0"></span>\n                </div>\n            </div>\n            <button class="button primary order-now sticky-button" ng-click="vm.orderNow()">Order now\n                <div class="loading">\n                    <!-- Mask of the quarter of circle -->\n                    <div class="mask">\n                        <!-- Inner masked circle -->\n                        <div class="maskedCircle"></div>\n                    </div>\n                </div>\n            </button>\n        </div>\n\n    </div>\n\n    <div class="cart-loader-overlay" ng-show="vm.updatingCart">\n        <div>\n            <div class=\'cart-spinner\'>\n                <div class=\'spinner\'>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/sections/checkout/checkout.html",'<div class="row checkout-container">\n    <div class="row checkout-cancellation-headers-container">\n        <div class="row">\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-click="coCtrl.editStep(\'checkout.review\', \'reviewStep\')"\n                 ng-class="{\'visited\': coCtrl.reviewStep.done, \'pending\': !coCtrl.reviewStep.done && coCtrl.reviewStep.inactive, \'active\' : !coCtrl.reviewStep.inactive && !coCtrl.reviewStep.done}">\n                <div class="row">\n                    <h3 class="row header">Review </h3>\n                    <div class="row">\n                        <div class="small-offset-4 small-4 medium-offset-4 medium-4 columns heading-loader" ng-show="!coCtrl.CustomerService.getCartItemQty()"></div>\n                    </div>\n                    <div class="row checkout-label" ng-show="coCtrl.CustomerService.getCartItemQty()" ng-bind="coCtrl.CustomerService.getCartItemQty() + \' item\' + (coCtrl.CustomerService.getCartItemQty() > 1 ? \'s\' : \'\')"></div>\n                    <div class="checkout-icon-holder">\n                        <span class="icon icon-medium icon-checkout-next-pink" ng-show="coCtrl.reviewStep.done"></span>\n                        <span class="icon icon-medium icon-checkout-next-gray" ng-hide="coCtrl.reviewStep.done"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-click="coCtrl.editStep(\'checkout.delivery\', \'deliveryStep\')"\n                 ng-class="{\'visited\': coCtrl.deliveryStep.done, \'pending\': !coCtrl.deliveryStep.done && coCtrl.deliveryStep.inactive, \'active\' : !coCtrl.deliveryStep.inactive && !coCtrl.deliveryStep.done}">\n                <div class="row">\n                    <h3 class="row header">Deliver</h3>\n                    <div class="row empty-checkout-address-holder" ng-show="!coCtrl.DeliveryService.getDefaultZipcode()">\n                        <span class="empty-checkout-address"></span>\n                    </div>\n                    <div class="row checkout-label" ng-show="coCtrl.DeliveryService.getDefaultZipcode()" ng-bind="\'to \' + coCtrl.DeliveryService.getDefaultZipcode()"></div>\n                    <div class="checkout-icon-holder">\n                        <span class="icon icon-medium icon-checkout-next-pink" ng-show="coCtrl.deliveryStep.done"></span>\n                        <span class="icon icon-medium icon-checkout-next-gray" ng-hide="coCtrl.deliveryStep.done"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-class="{\'visited\': coCtrl.paymentStep.done, \'pending\': !coCtrl.paymentStep.done && coCtrl.paymentStep.inactive, \'active\' : !coCtrl.paymentStep.inactive && !coCtrl.paymentStep.done}">\n                <div class="row">\n                    <h3 class="row header">Payment</h3>\n                    <div class="small-offset-4 small-4 medium-offset-4 medium-4 columns heading-loader last" ng-show="coCtrl.CartService.getPayAmount() == null" ></div>\n                    <div class="row checkout-label"\n                         ng-show="coCtrl.CartService.getPayAmount() != null"\n                         ng-bind="coCtrl.CartService.getPayAmount()  | currency:\'&#8377;\':0"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="small-12 large-4 columns">\n            <div ui-view="review"></div>\n        </div>\n        <div class="small-12 large-4 columns">\n            <div ui-view="delivery"></div>\n        </div>\n        <div class="small-12 large-4 columns">\n            <div ui-view="payment"></div>\n        </div>\n    </div>\n</div>'),
e.put("app/sections/collections/collections.html",'<div class="row">\n    <div ng-show="(!vm.boutique.specialPageHeroImageUrl || !vm.boutique.specialPageImageUrl || !vm.boutique.specialPageBannerImageUrl) && vm.childBoutiques.length == 0">\n        <div class="row banner-placehoder">\n            <img src="https://static.hopscotch.in/web2/images/boutique-pattern.png">\n        </div>\n    </div>\n    <div class="banner" ng-show="(vm.boutique.specialPageHeroImageUrl || vm.boutique.specialPageImageUrl || vm.boutique.specialPageBannerImageUrl) && !vm.isTilePresent">\n        <div class="banner-image special-page-banner hide-for-small-only disable-image-download" ng-if="vm.boutique.specialPageHeroImageUrl">\n            <!-- Hero image -->\n            <div class="disable-image-download">\n                <img ng-src="{{vm.boutique.specialPageHeroImageUrl | ImagePolicy}}">\n                <div class="transparent-img-overlay"></div>\n            </div>\n        </div>\n        <div class="banner-image show-for-small-only">\n            <img ng-if="!vm.boutique.specialPageBannerImageUrl" ng-src="{{vm.boutique.specialPageImageUrl | ImagePolicy}}">\n            <img ng-if="vm.boutique.specialPageBannerImageUrl" ng-src="{{vm.boutique.specialPageBannerImageUrl | ImagePolicy}}">\n            <div class="image-overlay"></div>\n            <div class="image-overlay-text show-for-small-only image-overlay-text-centered">\n                <div class="boutique-details-container-for-small">\n                    <div class="boutique-name" ng-bind="vm.boutique.specialPageName"></div>\n                    <div class="boutique-tags-container">\n                        <span class="tags no-margin no-padding" ng-if="vm.boutique.restTime">\n                            <time-left  class="ng-isolate-scope"\n                                end-time="vm.boutique.restTime"\n                                start-time="vm.boutique.startDate"\n                                rest-time="vm.boutique.restTime">\n                            </time-left>\n                        </span>\n                        <span class="tags no-margin no-padding" ng-if="vm.boutique.priceDetail">\n                            <span class="tag positive-tag with-icon icon-offer">\n                                <span ng-bind="vm.boutique.priceDetail"></span>\n                            </span>\n                        </span>\n                    </div>\n                    <!-- Enable the following after server starts sending it -->\n                    <!--<div class="tag">Flat 50% off</div>-->\n                </div>\n            </div>\n        </div>\n    </div>\n\n<!-- Enable the following after the server starts sending it. The second part is the boutique.tagLine -->\n<!--<div class="row collection-tag-line hide-for-small-only">-->\n    <!--<span class="tag">Flat 50% off</span>-->\n    <!--<span>From USA | For ages 0 to 8 years</span>-->\n<!--</div>-->\n\n    <div class="collection-page-wrapper hide-for-small-only">\n        <div class="medium-10 medium-offset-1 small-12 float-left columns collections-loading" ng-hide="vm.childBoutiques.length > 0">\n            <div class="medium-8 small-7 columns boutique-banner-wrapper">\n            </div>\n            <div class="medium-4 small-5 columns boutique-text-loader">\n                <div class="row">\n                    <div class="img-loader">\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="empty-card name-card"></div>\n                </div>\n                <div class="row">\n                    <div class="empty-card"></div>\n                </div>\n            </div>\n        </div>\n        <div class="collection-content" ng-show="vm.childBoutiques.length > 0">\n            <div class="row collection-boutique-products"\n                 ng-repeat="childBoutique in vm.childBoutiques">\n                <multi-boutique-tile class="multi-boutiques"\n                                     ng-class="{\'cbt-placeholder\': !vm.showBoutiques, \'no-placeholder\': vm.showBoutiques}"\n                                     ng-if="childBoutique.isTile"\n                                     boutique="childBoutique"></multi-boutique-tile>\n                <special-page-boutique-component\n                        class="row"\n                        ng-if="!childBoutique.isTile && childBoutique.products.length > 0"\n                        boutique="childBoutique"\n                        products = "childBoutique.products"\n                        deep-link-constant="vm.deepLinkConstant"\n                        can-show-product-count="vm.canShowProductCount"></special-page-boutique-component>\n            </div>\n        </div>\n    </div>\n\n    <div class="show-for-small-only">\n        <div class="row banner-placehoder" ng-hide="vm.childBoutiques.length > 0">\n            <img src="https://static.hopscotch.in/web2/images/boutique-pattern.png">\n        </div>\n        <div class="row collections-boutiques section-boutiques" ng-show="vm.childBoutiques.length > 0">\n            <boutique-list boutiques="vm.childBoutiques"></boutique-list>\n        </div>\n    </div>\n</div>'),e.put("app/sections/coming-soon/coming-soon.html",'<placeholder ng-hide="vm.showBoutiques" rows="2" columns="3"></placeholder>\n\n<divider class="upcoming">{{::vm.header}}</divider>\n\n<section class="section-boutiques clearfix">\n  <boutique-list boutiques="vm.boutiques"></boutique-list>\n</section>\n\n<div class="button-block">\n  <button class="button secondary show-more-products"\n          ng-show="vm.showBoutiques && vm.hasMoreData"\n          ng-disabled="vm.loading"\n          ng-click="vm.loadBoutiquesPageWise()">View more</button>\n</div>\n'),e.put("app/sections/department/brands.html",'<div class="department-brand" ng-if="layout.items.length">\n    <divider>Top brands</divider>\n    <department-brand brands="layout" track="vm.trackDepartment(data)"section="\'Brands\'"></department-brand>\n</div>\n'),e.put("app/sections/department/collections.html",'<section class="clearfix" ng-if="layout.items.length">\n    <divider>Collections</divider>\n    <div class="department clearfix" salvattore\n         boutiques="layout.items"\n         is-department="true"\n         section="\'Collections\'"\n         data-columns="">\n    </div>\n</section>\n'),e.put("app/sections/department/department.html",'<div ng-if="vm.departmentResponse" class="department-container">\n    <department-banner ng-if="vm.departmentResponse.cover.items.length > 0"\n                       banners="vm.departmentResponse.cover"\n                       track="vm.trackDepartment(data)"\n                       section="\'Cover\'">\n    </department-banner>\n    <div class="max-width-container">\n        <div ng-repeat="layout in vm.layoutArray track by $index" ng-if="layout.section" ng-include="\'app/sections/department/\'+layout.section+\'.html\'">\n        </div>\n    </div>\n</div>\n'),e.put("app/sections/department/sba.html",'<div class="department-sba" ng-if="layout.items.length">\n    <department-sba sba="layout" track="vm.trackDepartment(data)" section="\'SBA\'"></department-sba>\n</div>\n'),e.put("app/sections/department/sbc.html",'<div class="department-categories">\n    <department-sbc ng-if="layout.items.length > 0"\n                    sbc="layout"\n                    track="vm.trackDepartment(data)"\n                    section="\'SBC\'">\n    </department-sbc>\n</div>'),e.put("app/sections/department/stores.html",'<div class="department-categories">\n    <department-store ng-if="layout.items.length > 0"\n                      stores="layout"\n                      track="vm.trackDepartment(data)"\n                      section="\'Store\'">\n    </department-store>\n</div>\n'),e.put("app/sections/department/trendings.html",'<div class="department-trending" ng-if="vm.departmentResponse.trendingExists">\n    <department-trending trendings="layout" track="vm.trackDepartment(data)" section="\'Trending\'"></department-trending>\n</div>'),e.put("app/sections/feedback/feedback.html",'<div class="top-bar feedback-menu">\n    <div class="feedback-top-bar" >\n        <div class="feedback">\n            <a href="/" class="checkout-logo"></a>\n        </div>\n    </div>\n</div>\n\n<div class="feedback-container" ng-if="vm.isLoaded">\n    <div class="top-banner feedback-banner" ng-class="{\'hide-for-small-only\': !vm.isReSubmit && vm.isSubmitted}">\n        <div class="banner-content">\n            <h1 ng-if="!(vm.isReSubmit || vm.isSubmitted)" class="big">Rate your experience</h1>\n            <h1 ng-if="!vm.isReSubmit && vm.isSubmitted" class="big">All done!</h1>\n        </div>\n    </div>\n\n    <div class="static-page-container feedback-page">\n        <div class="row">\n            <div class="large-6 large-offset-3 medium-8 medium-offset-2 columns">\n                <div ng-if="!(vm.isReSubmit || vm.isSubmitted)" class="content-body">\n                    <form name="feedbackForm" ng-submit="vm.submitFeedback()" novalidate>\n                        <div class="content-section">\n                            <p>How was the quality of the items you recently received? </p>\n                            <span ng-if="vm.showValidationErrors && !vm.qualityRating" class="error-message">Please provide a rating.</span>\n                            <div class="row rating-wrapper">\n                                <input type="radio"\n                                       name="qualityRadio"\n                                       ng-repeat-start="(key, val) in vm.ratings.quality"\n                                       id="{{\'quality-\' + key}}"\n                                       ng-model="vm.qualityRating"\n                                       ng-value="key+1"\n                                       ng-required="!vm.qualityRating"/>\n                                <label ng-repeat-end class="rating-check"\n                                       for="{{\'quality-\' + key}}"\n                                       ng-class="{\'included\': $index < vm.qualityRating, \'unchecked\': vm.qualityRating < 1}">\n                                    <span class="star-five inactive"></span>\n                                    <span class="type">{{val[key+1]}}</span>\n                                </label>\n                            </div>\n                        </div>\n                        <hr>\n                        <div class="content-section">\n                            <p>How was the delivery experience?</p>\n                            <span ng-if="vm.showValidationErrors && !vm.experienceRating" class="error-message">Please provide a rating.</span>\n                            <div class="row rating-wrapper">\n                                <input type="radio"\n                                       name="expRadio"\n                                       ng-repeat-start="(key, val) in vm.ratings.experience"\n                                       id="{{\'exp-\' + key}}"\n                                       ng-model="vm.experienceRating"\n                                       ng-value="key+1"\n                                       ng-required="!vm.experienceRating"/>\n                                <label ng-repeat-end\n                                       class="rating-check"\n                                       for="{{\'exp-\' + key}}"\n                                       ng-class="{\'included\': $index < vm.experienceRating, \'unchecked\': vm.experienceRating < 1}">\n                                    <span class="star-five inactive"></span>\n                                    <span class="type">{{val[key+1]}}</span>\n                                </label>\n                            </div>\n                        </div>\n                        <hr>\n                        <div class="content-section">\n                            <p>How likely are you to recommend Hopscotch to your friends and family?</p>\n                            <span ng-if="vm.showValidationErrors && !vm.recommendRating" class="error-message">Please provide a rating.</span>\n                            <div class="row rating-wrapper">\n                                <input type="radio"\n                                       name="recoRadio"\n                                       ng-repeat-start="(key, val) in vm.ratings.recommend"\n                                       id="{{\'reco-\' + key}}"\n                                       ng-model="vm.recommendRating"\n                                       ng-value="key+1"\n                                       ng-required="!vm.recommendRating"/>\n                                <label ng-repeat-end\n                                       class="rating-check"\n                                       for="{{\'reco-\' + key}}"\n                                       ng-class="{\'included\': $index < vm.recommendRating, \'unchecked\': vm.recommendRating < 1}">\n                                    <span class="star-five inactive"></span>\n                                    <span class="type">{{val[key+1]}}</span>\n                                </label>\n                            </div>\n                        </div>\n                        <div class="content-section">\n                            <div class="submit-comment">\n                                <textarea class="comment" name="comment" cols="42" rows="3" placeholder="{{vm.placeHolder}}"ng-model="vm.comment"></textarea>\n                                <div class="progress">\n                                    <span class="meter" ng-bind="vm.comment.length + \'/250 characters\'"></span>\n                                </div>\n                                <div class="buttons">\n                                    <input ng-hide="vm.isFeedbackSubmit" type="submit" class="button primary feedback-button" value="Submit feedback"/>\n                                    <button ng-show="vm.isFeedbackSubmit" type="button" class="button primary feedback-button login-loading-btn" disabled="disabled">\n                                        <div class="loading">\n                                            <div class="mask">\n                                                <div class="maskedCircle"></div>\n                                            </div>\n                                        </div>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n                <div ng-if="!vm.isReSubmit && vm.isSubmitted" class="content-body success">\n                    <div class="content-section feedback-success">\n                        <div class="checked-icon">\n                            <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>\n                        </div>\n                        <p class="msg">Thank you for helping us serve you better!</p>\n                        <p class="redirect-msg">Taking you to our new collections. (Press BACK if you are not redirected.)</p>\n                    </div>\n                </div>\n                <div ng-if="vm.isReSubmit" class="content-body">\n                    <div class="content-section feedback-success">\n                        <p class="msg">Hey there, you have already submitted feedback for this order.</p>\n                        <p class="redirect-msg">To continue shopping, please press BACK button.</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/sections/home/home.html",'<placeholder ng-hide="vm.showPrimaryBoutiques" rows="2" columns="3"></placeholder>\n\n<div class="banner home-banner" ng-if="vm.showPrimaryBoutiques && vm.heroBoutique">\n  <a ng-href="{{vm.heroBoutique.href}}">\n    <div class="banner-image hide-for-small-only disable-image-download">\n      <img ng-if="vm.heroBoutique.heroImageUrl" ng-src="{{::vm.heroBoutique.heroImageUrl | ImagePolicy}}">\n      <div class="transparent-img-overlay"></div>\n    </div>\n    <div class="banner-image show-for-small-only boutique">\n      <div class="disable-image-download" ng-if="vm.heroBoutique.flexiImageUrl">\n        <img class="height-auto"  ng-src="{{vm.heroBoutique.flexiImageUrl}}">\n        <div class="transparent-img-overlay"></div>\n      </div>\n      <div class="title-wrapper">\n        <h3 ng-bind="::vm.heroBoutique.name"></h3>\n        <div class="tag-line"\n              ng-if="vm.heroBoutique.tagline"\n              ng-bind="::vm.heroBoutique.tagline">\n        </div>\n      </div>\n    </div>\n  </a>\n</div>\n\n<section class="section-boutiques home-container clearfix" infinite-scroll="vm.nextPage()" infinite-scroll-distance="3">\n  <boutique-list boutiques="vm.boutiques"></boutique-list>\n</section>\n\n<!--<div class="button-block">-->\n  <!--<button class="button secondary show-more-products"-->\n          <!--ng-show="vm.showPrimaryBoutiques && vm.hasMoreData"-->\n          <!--ng-disabled="vm.loadingBoutiques"-->\n          <!--ng-click="vm.loadMainBoutiquesPageWise()">Show more</button>-->\n<!--</div>-->\n\n<!--<spinner ng-if="vm.hasMoreData && vm.showPrimaryBoutiques"></spinner>-->\n<!--<section class="section-boutiques clearfix" ng-if="vm.showPrimaryBoutiques && vm.showSecondaryBoutiques">\n  <divider>{{::vm.secondSectionHeader}}</divider>\n  <boutique-list boutiques="vm.secondaryBoutiques"></boutique-list>\n</section>-->\n\n<!--<div class="button-block" ng-if="vm.showPrimaryBoutiques && vm.showSecondaryBoutiques">\n  <a ng-href="{{vm.secondaryLink}}" class="button secondary show-more-products">View all</a>\n</div>-->\n\n<section class="section-boutiques clearfix" ng-if="vm.showPrimaryBoutiques && vm.showComingSoon">\n  <divider>Upcoming collections</divider>\n  <boutique-list boutiques="vm.comingSoonBoutiques"></boutique-list>\n</section>\n\n<div class="button-block" ng-if="vm.showPrimaryBoutiques && vm.showComingSoon">\n  <a ui-sref="coming-soon" class="button secondary show-more-products">View all</a>\n</div>\n'),e.put("app/sections/login-register-modal/forgot-password.html",'<div class="float-center hs-logo"></div>\n<div class="auth-offer">\n    <div>Enter your email address and we\'ll email you a link to reset your password.</div>\n</div>\n<form name="forgotPasswordForm" ng-submit="vm.forgotPassword()" novalidate>\n    <div class="group">\n        <input type="email"\n               name="email"\n               ng-model="vm.user.email"\n               ng-pattern="vm.emailRegex"\n               autocorrect="off"\n               autocapitalize="none"\n               required\n               class="round">\n        <label>Email</label>\n    </div>\n    <div ng-messages="forgotPasswordForm.email.$error" ng-if=\'forgotPasswordForm.email.$touched\'>\n        <div class="error-message" ng-message="pattern">Sorry, this doesn’t look like a valid email.</div>\n        <div class="error-message" ng-message="required">Please fill in your email.</div>\n    </div>\n    <input type="submit"\n           ng-disabled="forgotPasswordForm.$invalid"\n           class="button round"\n           value="Send instructions">\n</form>\n<div class="bottom-link"><a ng-click="vm.showForm(\'Register\')">New? Register now</a></div>\n'),e.put("app/sections/login-register-modal/instruction.html",'<div class="instruction sent-icon icon-checkmark icon-large"></div>\n<div class="instruction message">Instructions sent!</div>\n<div class="instruction detail">\n    <p>We\'ve sent an email with instructions on how to reset your password.</p>\n    <p>If you don\'t receive an email within a few minutes, check your spam and junk folders.</p>\n</div>\n<div class="bottom-link"><a ng-click="vm.showForm(\'SignIn\')" href="">Back to sign in</a></div>\n'),e.put("app/sections/login-register-modal/login-modal.html",'<div class="modal" ng-class="{\'reposition-close-button\': vm.currentForm === \'Register\' && vm.offerResponse}">\n    <div class="login-box authentication ng-cloak" ng-show="vm.currentForm === \'SignIn\'">\n        <div ng-include="\'app/sections/login-register-modal/login.html\'"></div>\n    </div>\n\n    <div class="register-box  ng-cloak" ng-show="vm.currentForm === \'Register\'">\n        <div ng-if="vm.offerResponse" ng-include="\'app/sections/login-register-modal/register-offer.html\'"></div>\n        <div ng-include="\'app/sections/login-register-modal/register.html\'"></div>\n    </div>\n\n    <div class="forgot-password-box authentication ng-cloak" ng-show="vm.currentForm === \'ForgotPassword\'">\n        <div ng-include="\'app/sections/login-register-modal/forgot-password.html\'"></div>\n    </div>\n\n    <div class="forgot-password-box authentication ng-cloak" ng-show="vm.currentForm === \'PasswordInstruction\'">\n        <div ng-include="\'app/sections/login-register-modal/instruction.html\'"></div>\n    </div>\n\n</div>\n'),e.put("app/sections/login-register-modal/login.html",'<div class="float-center hs-logo"></div>\n<button type="button"\n        ng-click="vm.facebookLogin()"\n        class="button round fb">Connect with Facebook</button>\n<div class="float-center fb-message">We\'ll never post without your permission.</div>\n<form name="loginForm" ng-submit="vm.login()" novalidate>\n    <div class="group">\n        <input type="email"\n               name="email"\n               ng-model="vm.user.email"\n               required\n               ng-pattern="vm.emailRegex"\n               autofill-fix\n               autocorrect="off"\n               autocapitalize="none"\n               class="round">\n        <label>Email</label>\n    </div>\n    <div ng-messages="loginForm.email.$error" ng-if=\'loginForm.email.$touched\'>\n        <div class="error-message" ng-message="pattern">Sorry, this doesn’t look like a valid email.</div>\n        <div class="error-message" ng-message="required">Please fill in your email to sign in.</div>\n    </div>\n    <div class="group">\n        <input type="password"\n               name="password"\n               autocorrect="off"\n               autocapitalize="none"\n               ng-model="vm.user.password"\n               required\n               class="round">\n        <label>Password</label>\n        <span class="forgot-password" ng-click="vm.showForm(\'ForgotPassword\')">Forgot?</span>\n    </div>\n    <div ng-messages="loginForm.password.$error"  ng-if=\'loginForm.password.$touched\'>\n        <div class="error-message" ng-message="required">Your password is required to sign in.</div>\n    </div>\n    <div class="button-block">\n        <div ng-show="vm.loading">\n            <button type="button" class="button default login-loading-btn" disabled>\n                <div class="loading">\n                    <!-- Mask of the quarter of circle -->\n                    <div class="mask">\n                        <!-- Inner masked circle -->\n                        <div class="maskedCircle"></div>\n                    </div>\n                </div>\n            </button>\n        </div>\n        <div ng-hide="vm.loading">\n            <input type="submit"\n                   ng-disabled="loginForm.$invalid"\n                   class="button round"\n                   value="Sign in">\n        </div>\n    </div>\n</form>\n<div class="bottom-link"><a ng-click="vm.showForm(\'Register\')">New? Register now</a></div>\n'),e.put("app/sections/login-register-modal/register-offer.html",'<div class="register-offer">\n    <div class="icon-coupon icon-medium offer-icon"></div>\n    <div class="offer-details">\n        <div class="offer-title" ng-bind-html="\'Register & get \'+ vm.offerResponse.header + \'!\'"></div>\n        <div class="offer-info" ng-bind-html="vm.offerResponse.offerDetails[2]+ \' to \'+ vm.offerResponse.headerDetails.substr(0, 1).toLowerCase() + vm.offerResponse.headerDetails.substr(1)+ \' on your first order.\'"></div>\n    </div>\n</div>\n'),e.put("app/sections/login-register-modal/register.html",'<div class="authentication">\n    <div class="float-center hs-logo"></div>\n    <button type="button"\n            ng-click="vm.facebookLogin()"\n            class="button round fb">Connect with Facebook\n    </button>\n    <div class="float-center fb-message">We\'ll never post without your permission.</div>\n    <form name="registerForm" ng-submit="vm.register()" novalidate>\n        <div class="group">\n            <input type="email"\n                   name="email"\n                   ng-model="vm.user.email"\n                   ng-pattern="vm.emailRegex"\n                   required\n                   autocorrect="off"\n                   autocapitalize="none"\n                   class="round">\n            <label>Email</label>\n        </div>\n        <div ng-messages="registerForm.email.$error" ng-if=\'registerForm.email.$touched\'>\n            <div class="error-message" ng-message="pattern">Sorry, this doesn’t look like a valid email.</div>\n            <div class="error-message" ng-message="required">Please fill in your email to register.</div>\n        </div>\n        <div class="group">\n            <input type="password"\n                   name="password"\n                   ng-model="vm.user.password"\n                   required\n                   autocorrect="off"\n                   autocapitalize="none"\n                   class="round">\n            <label>Password</label>\n        </div>\n        <div ng-messages="registerForm.password.$error"  ng-if=\'registerForm.password.$touched\'>\n            <div class="error-message" ng-message="required">Your password is required to register.</div>\n        </div>\n        <div class="group">\n            <input type="text"\n                   name="name"\n                   ng-model="vm.user.registerName"\n                   required\n                   autocorrect="off"\n                   autocapitalize="none"\n                   class="round">\n            <label>Name</label>\n        </div>\n        <div ng-messages="registerForm.name.$error"  ng-if=\'registerForm.name.$touched\'>\n            <div class="error-message" ng-message="required">Your name is required to register.</div>\n        </div>\n        <div class="button-block">\n            <div ng-show="vm.loading">\n                <button type="button" class="button default register-loading-btn" disabled>\n                    <div class="loading">\n                        <!-- Mask of the quarter of circle -->\n                        <div class="mask">\n                            <!-- Inner masked circle -->\n                            <div class="maskedCircle"></div>\n                        </div>\n                    </div>\n                </button>\n            </div>\n            <div ng-hide="vm.loading">\n                <input type="submit"\n                       ng-disabled="registerForm.$invalid"\n                       class="button round"\n                       value="Register">\n            </div>\n        </div>\n    </form>\n    <div class="bottom-link"><a ng-click="vm.showForm(\'SignIn\')">Already a member? Sign in</a></div>\n</div>\n'),e.put("app/sections/moments/moments.html",'<div class="moment-header-container hide-for-small-only" id="sticky-moment-header">\n    <div class="moment-header" ng-if="vm.isMoments">\n        <span class="header-title"></span>\n        <span class="header-caption">Click. Share. Love.</span>\n        <a ui-sref="moments({upload: \'upload\'})" ui-sref-opts="{reload: false, notify: false}" class="upload-title">\n            <span class="upload-icon">\n                <span class="icon-16 icon-add-plus"></span>\n            </span>\n            <span class="upload-text">Add a moment</span>\n        </a>\n    </div>\n</div>\n\n<div class="moment-header-container sticky-moment-header hide-for-small-only" sticky-on-scroll check-element="#sticky-moment-header">\n    <div class="moment-header">\n        <span class="header-title"></span>\n        <span class="header-caption">Click. Share. Love.</span>\n        <a ui-sref="moments({upload: \'upload\'})" ui-sref-opts="{reload: false, notify: false}" class="upload-title">\n            <span class="upload-icon">\n                <span class="icon-16 icon-add-plus"></span>\n            </span>\n            <span class="upload-text">Add a moment</span>\n        </a>\n    </div>\n</div>\n\n<div class="moments-container">\n    <a ui-sref="moments({upload: \'upload\'})" ui-sref-opts="{reload: false, notify: false}" class="fab-icon show-for-small-only" ng-if="vm.isMoments">\n        <span class="icon-medium icon-camera fab-upload"></span>\n    </a>\n\n    <div class="moments-list" ng-style="{\'visibility\': vm.visible ?\'visible\': \'hidden\'}" ng-if="vm.momentsUpdated" ng-show="vm.moments.length > 0">\n        <section infinite-scroll="vm.viewMoreMoments()" infinite-scroll-distance="1">\n            <divider ng-if="vm.allowABTest && vm.popularMoments.length">Top picks</divider>\n            <div ng-show="vm.allowABTest && vm.popularMoments.length" salvattore-moments\n                 class="moments-image popular clearfix"\n                 data-columns=""\n                 moments="vm.popularMoments">\n            </div>\n            <divider ng-if="vm.allowABTest">Most recent</divider>\n            <div salvattore-moments\n                 class="moments-image clearfix"\n                 data-columns=""\n                 moments="vm.moments">\n            </div>\n        </section>\n    </div>\n    <div class="moments-empty" ng-show="vm.moments && vm.moments.length === 0">\n        <div class="icon-no-moment"></div>\n        <p>See how some of our seriously stylish little customers are wearing their Hopscotch favourites.</p>\n        <a class="button primary" ui-sref="home">Shop new collections</a>\n    </div>\n    <div class="text-center load-more-moments-btn" ng-if="!vm.hideLoadMore" ng-hide="vm.momentsLoading">\n        <button class="button secondary" ng-click="vm.viewMoreMoments()" ng-disabled="vm.loadingMoreMoments">\n            <span ng-class="{\'empty-block\': vm.loadingMoreMoments}">View more moments</span>\n            <div class="loading" ng-show="vm.loadingMoreMoments">\n                <div class="mask">\n                    <div class="maskedCircle bold-text"></div>\n                </div>\n            </div>\n        </button>\n    </div>\n\n\n    <div class="cart-loader-overlay" ng-show="vm.momentsLoading">\n        <div>\n            <div class=\'cart-spinner\'>\n                <div class=\'spinner\'>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n'),e.put("app/sections/payment/payment-result.html",'<div class="row checkout-details-page">\n    <div class="large-8 medium-12 small-12 column checkout-details">\n        <div class="container">\n            <div class="orders">\n                <div class="order-status">\n                    <img ng-src="{{vm._ConfigService.IMAGE_BASE_PATH + \'images/assets/icon-order-success.svg\'}}" alt=""/>\n                    <p>Your order is complete</p>\n                </div>\n                <div class="checkout-message" ng-if="vm.orderDetails.isIVRVerified===\'false\'">\n                    <div class="container icon-ivr-verify">\n                        <p><strong>We will follow up with a verification call to confirm your order</strong></p>\n                    </div>\n                </div>\n                <div class="order-messages clearfix">\n                    <div class="email-message icon-small icon-msg-pink">\n                        A confirmation email will be sent to your registered email id.\n                    </div>\n                    <div class="live-status icon-small icon-bill-gray">\n                        You can check the live status of your shipment on the order details page.\n                    </div>\n                </div>\n            </div>\n\n            <div class="details clearfix">\n                <div class="order-details clearfix">\n                    <div class="heading">\n                        <strong>Order details</strong>\n                    </div>\n\n                    <div class="order-number orders details-data">\n                        <div>Order Number</div>\n                        <div><strong ng-bind="vm.orderDetails.orderBarCode"></strong></div>\n                    </div>\n                    <div class="total-payment orders details-data">\n                        <div>Total payment</div>\n                        <div class="positive"><strong ng-bind="vm.orderDetails.totalPayment | currency:\'&#8377;\':0"></strong></div>\n                    </div>\n\n                    <div class="mode-of-payment orders details-data ">\n                        <div>Mode of payment</div>\n                        <div><strong ng-bind="vm.orderDetails.paymentType"></strong></div>\n                    </div>\n                    <div class="order-of-status orders details-data">\n                        <div>Order status</div>\n                        <div><strong ng-bind="vm.orderDetails.orderStatus"></strong></div>\n                    </div>\n\n\n                </div>\n\n                <div class="shipment-details">\n                    <div class="heading">\n                        <strong>Shipment details</strong>\n                    </div>\n                    <div class="shipments details-data" ng-repeat="shipped in vm.orderDetails.subOrderList ">\n                        <div>Shipment {{$index + 1}} of {{vm.orderDetails.subOrderList.length}}</div>\n                        <div><strong ng-bind="(shipped.deliveryMessage.normalMsg) +\' \'+ (shipped.deliveryMessage.blackMsg)"></strong></div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <a ui-sref="account.orderDetail({orderId: vm.orderDetails.orderId})" class="more-details">View more details</a>\n            </div>\n        </div>\n\n    </div>\n    <div class="large-4 medium-12 small-12 column app-download">\n        <div class="container">\n            <div class="app-message">\n                <div>\n                    <p class="download-msg">\n                        Download our app for an amazing shopping experience\n                    </p>\n                    <div class="app-icons">\n                        <a href="https://itunes.apple.com/in/app/hopscotch-find-something-new/id945949424?mt=8" target="_blank">\n                            <div class="icon-x-large icon-app-store"></div>\n                        </a>\n                        <a href="https://play.google.com/store/apps/details?id=in.hopscotch.android" target="_blank">\n                            <div class="android icon-x-large icon-play-store"></div>\n                        </a>\n\n                    </div>\n                </div>\n            </div>\n            <div class="app-image">\n                <img ng-src="{{vm._ConfigService.IMAGE_BASE_PATH + \'images/mob_desktop.png\'}}" alt=""/>\n            </div>\n        </div>\n    </div>\n</div>'),
e.put("app/sections/reset-password/reset-password.html",'<div class="reset-password-container"></div>\n'),e.put("app/sections/product/product-details.html",'<pdp-loader ng-if="!vm.productDetail.simpleSkus"></pdp-loader>\n<div class="product-detail-container" ng-if="vm.productDetail.simpleSkus" itemscope itemtype="http://schema.org/Product">\n    <meta name="productID" content="{{vm.productId}}">\n    <div class="row ">\n        <ul rn-carousel rn-carousel-easing="easeOutQuad" rn-carousel-index="carouselIndex"\n            ng-if="vm.productDetail.imgurls.length > 0"\n            class="product-image-container small-12 columns show-for-small-only">\n            <li class="product-image"\n                ng-repeat="image in vm.productDetail.imgurls" itemprop="image">\n                <div class="product-image"\n                    ng-style="{\'background\': \'url(\' + (image.imgUrlFull | ImagePolicy) + \') no-repeat center\', \'background-size\': \'contain\'}">\n                </div>\n            </li>\n            <div rn-carousel-indicators class="carousel-links"\n                 ng-if="vm.productDetail.imgurls.length > 1"\n                 slides="vm.productDetail.imgurls"\n                 rn-carousel-index="carouselIndex"></div>\n            <div class="white-out" ng-show="vm.productDetail.isProductSoldOut"></div>\n            <meta itemprop="image" content="{{vm.productDetail.imgurls[carouselIndex].imgUrlFull}}" property=""/>\n        </ul>\n        <div ng-if="vm.productDetail.imgurls.length > 0" class="medium-7 large-8 columns image-carousel hide-for-small-only">\n            <div class="pdp-images-container">\n                <div class="clearfix pdp-images">\n                    <div class="pdp-image disable-image-download"\n                         ng-repeat="image in vm.productDetail.imgurls"\n                         ng-class="\'pdp-image-\'+ $index"\n                         itemprop="image">\n                        <img ng-src="{{image.imgUrlFull | ImagePolicy}}" alt>\n                        <div class="transparent-img-overlay"></div>\n                    </div>\n                </div>\n                <div class="scroller scroller-left"\n                     ng-class="{\'scroller-disable\': !vm.showLeftScroller}"\n                     ng-show="vm.productDetail.imgurls.length > 1 && vm.showLeftScrollerFirst"\n                     ng-click="vm.scrollLeft()"></div>\n                <div class="scroller scroller-right"\n                     ng-class="{\'scroller-disable\': !vm.showRightScroller}"\n                     ng-if="vm.productDetail.imgurls.length > 1"\n                     ng-click="vm.scrollRight()"></div>\n            </div>\n        </div>\n        <div class="sold-out show-for-small-only" ng-show="vm.productDetail.isProductSoldOut">Sold out</div>\n        <div class="pdp-details small-12 medium-5 large-4 columns">\n            <div class="row">\n                <div class="small-12 columns show-for-small-only" ng-class="{\'shaking-anim\': vm.priceUpdated}" itemprop="offers" itemscope itemtype="http://schema.org/Offer">\n                    <meta itemprop="priceCurrency" content="INR" />\n                    <meta itemprop="price" content="{{vm.productForm.retailPrice}}">\n                    <meta itemprop="availability" content="{{vm.productDetail.isProductSoldOut ? \'SoldOut\' : \'InStock\'}}"/>\n                    <span class="product-price price"\n                          ng-bind="vm.productForm.retailPrice | currency:\'&#8377;\':0"></span><!--\n                    --><span ng-show="vm.productDetail.retailPriceMax && !vm.productForm.selectedSku && vm.productForm.retailPrice != vm.productDetail.retailPriceMax" class="product-price price" ng-bind="\' - \' + (vm.productDetail.retailPriceMax | currency:\'&#8377;\':0)"></span>\n                    <span ng-hide="vm.productDetail.retailPriceMax && !vm.productForm.selectedSku">\n                        <span ng-show="(vm.productForm.regularPrice > vm.productForm.retailPrice) && (vm.productForm.discount > 2)">\n                            <span class="vendor-price price" ng-bind="vm.productForm.regularPrice | currency:\'&#8377;\':0"></span>\n                            <span class="discount price" ng-bind="\'-\' + (vm.productForm.discount) + \'% off\'"></span>\n                        </span>\n                    </span>\n                </div>\n                <div class="medium-12 large-12 small-12 columns">\n                    <h2 class="brand-name" itemprop="brand" ng-bind="::vm.productDetail.brandName"></h2>\n                    <h1 class="product-name" itemprop="name" ng-bind="vm.productDetail.productName"></h1>\n                </div>\n                <div class="small-12 columns hide-for-small-only" ng-class="{\'shaking-anim\': vm.priceUpdated}" itemprop="offers" itemscope itemtype="http://schema.org/Offer">\n                    <meta itemprop="priceCurrency" content="INR" />\n                    <meta itemprop="price" content="{{vm.productForm.retailPrice}}">\n                    <meta itemprop="availability" content="{{vm.productDetail.isProductSoldOut ? \'SoldOut\' : \'InStock\'}}"/>\n                    <span class="product-price price"\n                          ng-bind="vm.productForm.retailPrice | currency:\'&#8377;\':0" itemprop="price"></span><!--\n                    --><span ng-show="vm.productDetail.retailPriceMax && !vm.productForm.selectedSku && vm.productForm.retailPrice != vm.productDetail.retailPriceMax" class="product-price price" ng-bind="\' - \' + (vm.productDetail.retailPriceMax | currency:\'&#8377;\':0)"></span>\n                    <span ng-hide="vm.productDetail.retailPriceMax && !vm.productForm.selectedSku">\n                        <span ng-show="(vm.productForm.regularPrice > vm.productForm.retailPrice) && (vm.productForm.discount > 2)">\n                            <span class="vendor-price price" ng-bind="vm.productForm.regularPrice | currency:\'&#8377;\':0"></span>\n                            <span class="discount price" ng-bind="\'-\' + (vm.productForm.discount) + \'% off\'"></span>\n                        </span>\n                    </span>\n                </div>\n            </div>\n            <div class="row qty-chart"\n                 ng-show="vm.productForm.qtyLeft < 6 || vm.productDetail.hasSizeChart || !vm.productDetail.isOneSize || vm.productDetail.simpleSkus.length < 2">\n                <div class="medium-6 large-6 small-6 columns">\n                    <span class="float-left">\n                        <span ng-hide="vm.productDetail.isOneSize">Size </span>\n                    </span>\n                </div>\n                <div class="medium-6 large-6 small-6 columns">\n                    <span class="size-chart float-right" ng-if="::vm.productDetail.hasSizeChart" ng-click="vm.showSizeChart()">\n                        View size chart\n                    </span>\n                </div>\n            </div>\n            <div class="row size-selector-primary show-for-small-only" ng-if="!vm.productDetail.isOneSize">\n                <div class="sizes">\n                    <div class="size-pill" ng-class="{\'first\': $first, \'last\': $last}" ng-repeat="sku in vm.productDetail.simpleSkus track by sku.skuId">\n                        <span class="size"\n                              ng-class="{\'selected\': sku.skuId === vm.selectedSkuId, \'disabled\': sku.availableQuantity == 0}"\n                              ng-bind="::sku.attributes.size"\n                              ng-click="vm.updateProductDetail(sku)">\n                        </span>\n                        <div class="left-qty" ng-show="sku.availableQuantity > 0 && sku.availableQuantity < 4 && sku.skuId === vm.selectedSkuId" ng-bind="\'Only \'+ sku.availableQuantity +\' left\'"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="size-selector hide-for-small-only"\n                 ng-if="!vm.productDetail.isOneSize">\n                <!--<select class="size-dropdown"-->\n                        <!--ng-model="vm.productForm.selectedSku"-->\n                        <!--ng-change="vm.updateProductDetail(vm.productForm.selectedSku)"-->\n                        <!--ng-disabled="vm.productDetail.isProductSoldOut"-->\n                        <!--ng-options="sku as ((vm.productDetail.hasSamePrice ? sku.attributes.size : (sku.attributes.size + \'&nbsp;&nbsp;&#8377;\'+ sku.retailPrice)) + \' \' + (sku.availableQuantity === 0 ? \'- sold out\': \'\')) disable when (sku.availableQuantity < 1 && !vm.productDetail.isProductSoldOut) for sku in vm.productDetail.simpleSkus track by sku.skuId">-->\n                        <!--<option value="">Select size</option>-->\n                <!--</select>-->\n                <custom-size-picker\n                        skus="vm.productDetail.simpleSkus"\n                        preselected-sku="vm.productForm.selectedSku"\n                        on-model-change="vm.updateProductDetail(sku)"></custom-size-picker>\n                <div ng-if="vm.showSizeError" class="error-message size-error">Please select a size.</div>\n            </div>\n            <div class="row hide-for-small-only add-to-cart-btn-holder" ng-class="{\'loading-event\': vm.loading}">\n                <button class="button round atc-desktop"\n                        ng-click="vm.addToCart()"\n                        ng-hide="vm.productDetail.isProductSoldOut"\n                        ng-disabled="vm.addingToCart">\n                    <div class="text">Add to cart</div>\n                    <div  ng-if="vm.addingToCart" class="loading">\n                        <!-- Mask of the quarter of circle -->\n                        <div class="mask">\n                            <!-- Inner masked circle -->\n                            <div class="maskedCircle"></div>\n                        </div>\n                    </div>\n                </button>\n            </div>\n            <div class="row">\n                <div class="edd"\n                     ng-hide="vm.productDetail.isProductSoldOut">\n                    <div class="row title">\n                        <div class="float-left">Delivery <span ng-if="vm.productDetail.pinCode" ng-bind="\'to \' + vm.productDetail.pinCode"></span></div>\n                        <div class="float-right pincode-option"\n                             ng-click="vm.showPincodeChecker()"\n                             ng-bind="vm.productDetail.pinCode ? \'Edit pincode\' : \'Check pincode\' "></div>\n                    </div>\n                    <div class="row">\n                        <div class="point delivery">\n                            <span class="icon-16 icon-tick"></span>\n                            <span ng-show="vm.productForm.selectedSku">\n                                <span ng-bind="vm.productForm.selectedSku.eddPrefix"></span>\n                                <span class="delivery-badge" ng-style="{\'background-color\': vm.productForm.selectedSku.eddColor, \'color\': vm.productForm.selectedSku.eddTextColor}" ng-bind="vm.productForm.selectedSku.deliveryMsg"></span>\n                            </span>\n                            <span ng-hide="vm.productForm.selectedSku">\n                                <span ng-bind="vm.productDetail.eddPrefix"></span>\n                                <span class="delivery-badge" ng-style="{\'background-color\': vm.productDetail.eddColor, \'color\': vm.productDetail.eddTextColor}" ng-bind="vm.productDetail.edd"></span>\n                            </span>\n			    <span class ="international-preorder" ng-if="vm.showInternationaPreorder()"><a target="_blank" ng-href="{{vm.productForm.selectedSku.preorderAction || vm.productDetail.preorderAction}}">{{vm.productForm.selectedSku.preorderInfo\n || vm.productDetail.preorderInfo}}</a></span>\n                        </div>\n                        <div class="point" ng-repeat="point in vm.productDetail.deliveryMessages">\n                            <span class="icon-16" ng-class="point.type ? \'icon-tick\' : \'icon-cross-red\'"></span>\n                            <span class="msg" ng-bind="point.msg"></span>\n                        </div>\n                    </div>\n                </div>\n                <div class="sold-out hide-for-small-only"\n                     ng-show="vm.productDetail.isProductSoldOut">Sold out</div>\n            </div>\n            <div class="row">\n                <accordion product="vm.productDetail" sku="vm.productForm.selectedSku"></accordion>\n            </div>\n        </div>\n    </div>\n    <div class="row show-for-small-only">\n        <button class="button round atc-mobile"\n                ng-click="vm.showSizeSelector()"\n                ng-disabled="vm.addingToCart"\n                ng-hide="vm.productDetail.isProductSoldOut"><span ng-bind="vm.selectedSkuId ? \'Add to cart\' : \'Select a size\'"></span>\n            <div class="loading">\n                <!-- Mask of the quarter of circle -->\n                <div class="mask">\n                    <!-- Inner masked circle -->\n                    <div class="maskedCircle"></div>\n                </div>\n            </div>\n        </button>\n    </div>\n</div>\n<div class="product-recommendations" ng-if="vm.recommendedProducts.details.length > 6">\n    <recommended-product-carousel recommended="vm.recommendedProducts"></recommended-product-carousel>\n</div>\n'),e.put("app/sections/return/return.html",'<div class="row checkout-container" id="returns-container">\n    <div class="row checkout-cancellation-headers-container">\n        <div class="row">\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-click="vm.goToStep(\'select\')"\n                 ng-class="{\'visited\': vm.selectStep.done, \'pending\': !vm.selectStep.done && vm.selectStep.inactive, \'active\' : !vm.selectStep.inactive && !vm.selectStep.done}">\n                <div class="row">\n                    <h3 class="row header">Select </h3>\n                    <div class="row empty-checkout-address-holder" ng-show="!vm.returnData.returnItemCount">\n                        <span class="empty-checkout-address"></span>\n                    </div>\n                    <div class="row checkout-label" ng-show="vm.returnData.returnItemCount" ng-bind="vm.returnData.returnItemCount + (vm.returnData.returnItemCount > 1 ? \' items\' : \' item\')"></div>\n                    <div class="checkout-icon-holder">\n                        <span class="icon icon-medium icon-checkout-next-pink" ng-show="vm.selectStep.done"></span>\n                        <span class="icon icon-medium icon-checkout-next-gray" ng-hide="vm.selectStep.done"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-click="vm.goToStep(\'pickUp\')"\n                 ng-class="{\'visited\': vm.pickUpStep.done, \'pending\': !vm.pickUpStep.done && vm.pickUpStep.inactive, \'active\' : !vm.pickUpStep.inactive && !vm.pickUpStep.done}">\n                <div class="row">\n                    <h3 class="row header" ng-bind="vm.sendTo || \'Pickup\'"></h3>\n                    <div class="row empty-checkout-address-holder" ng-hide="vm.selectedPincode || vm.pickupForm.pincodeError">\n                        <span class="empty-checkout-address"></span>\n                    </div>\n                    <div class="row checkout-label" ng-show="vm.selectedPincode && !vm.pickupForm.pincodeError" ng-bind="vm.selectedPincode"></div>\n                    <div class="row checkout-label" ng-show="vm.pickupForm.pincodeError">!</div>\n                    <div class="checkout-icon-holder">\n                        <span class="icon icon-medium icon-checkout-next-pink" ng-show="vm.pickUpStep.done"></span>\n                        <span class="icon icon-medium icon-checkout-next-gray" ng-hide="vm.pickUpStep.done"></span>\n                    </div>\n                </div>\n            </div>\n            <div class="small-4 medium-4 large-4 columns checkout-cancellation-header"\n                 ng-class="{\'pending\': !vm.refundStep.done && vm.refundStep.inactive, \'active\' : !vm.refundStep.inactive && !vm.refundStep.done}">\n                <div class="row">\n                    <h3 class="row header">Refund</h3>\n                    <div class="row empty-checkout-address-holder" ng-hide ="vm.returnData.returnItemCount">\n                        <span class="empty-checkout-address"></span>\n                    </div>\n                    <div class="row checkout-label"\n                         ng-show="vm.returnData.returnItemCount"\n                         ng-bind="vm.totalRefundAmount  | currency:\'&#8377;\':0"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="small-12 large-4 columns">\n            <div class="cancellation-views returns-views right-divider" ng-class="{\'inactive\': vm.selectStep.inactive}"\n                 ng-include="\'app/sections/return/select/select.html\'"></div>\n        </div>\n        <div class="small-12 large-4 columns">\n            <div class="cancellation-views returns-views right-divider" ng-class="{\'inactive\': vm.pickUpStep.inactive}"\n                 ng-include="\'app/sections/return/pick-up/pickup.html\'"></div>\n        </div>\n        <div class="small-12 large-4 columns">\n            <div class="cancellation-views returns-views right-divider" ng-class="{\'inactive\': vm.refundStep.inactive}"\n                 ng-include="\'app/sections/return/refund/refund.html\'"></div>\n        </div>\n    </div>\n</div>\n\n\n'),e.put("app/sections/sale/sale.html",'<placeholder ng-hide="vm.showBoutiques" rows="2" columns="3"></placeholder>\n\n<divider class="sale">Sale</divider>\n\n<section class="section-boutiques clearfix">\n  <boutique-list boutiques="vm.boutiques"></boutique-list>\n</section>\n\n<div class="button-block">\n  <button class="button secondary show-more-products"\n          ng-show="vm.showBoutiques && vm.hasMoreData"\n          ng-disabled="vm.loading"\n          ng-click="vm.loadBoutiquesPageWise()">Show more</button>\n</div>\n'),e.put("app/components/widgets/accordion/accordion.html",'<div ng-if="vm.product.id" class="columns small-12">\n    <ul class="accordion">\n        <li class="accordion-item" ng-if="vm.product.productDesc" ng-class="{\'is-active\':vm.showDetail}">\n            <a class="accordion-title" ng-click="vm.showDetail = !vm.showDetail">Item details</a>\n            <div class="accordion-content">\n                <div class="detail description">\n                    <div class="content" ng-bind-html="::vm.sanitizeHtml(vm.product.productDesc)"></div>\n                </div>\n                <div class="detail suitable">\n                    <div class="heading">Suitable for</div>\n                    <div class="content" ng-bind="::vm.product.simpleSkus[0].gender"></div>\n                </div>\n                <div class="detail colour">\n                    <div class="heading">Colour</div>\n                    <div class="content" ng-bind="::vm.product.simpleSkus[0].attributes.colour"></div>\n                </div>\n                <div class="detail"\n                     ng-repeat="subAttr in vm.product.productLevelAttrList"\n                     ng-if="subAttr.isShowAttr">\n                    <div class="heading" ng-bind="::subAttr.attributeName"></div>\n                    <div class="content">\n                        <div class="content"\n                             ng-if="subAttr.attributeValue"\n                             ng-bind-html="::subAttr.attributeValue"></div>\n                        <ul>\n                            <li ng-repeat="featureAttr in subAttr.productSubAttrList"\n                                ng-if="featureAttr.attributeValue"\n                                ng-bind="::((featureAttr.isShowAttrName ? featureAttr.subAttributeName + \' : \' : \'\') + featureAttr.attributeValue)">\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </li>\n        <li class="accordion-item" ng-if="vm.product.brandDescription" ng-class="{\'is-active\':vm.showBrand}">\n            <a class="accordion-title" ng-click="vm.showBrand = !vm.showBrand" ng-bind="::(\'About \'+ vm.product.brandName)"></a>\n            <div class="accordion-content">\n                <div class="detail">\n                    <div class="content" ng-bind-html="::vm.sanitizeHtml(vm.product.brandDescription)"></div>\n                </div>\n            </div>\n        </li>\n        <li class="accordion-item" ng-if="vm.product.showShippingInfo" ng-class="{\'is-active\':vm.showShipping}">\n            <a class="accordion-title" ng-click="vm.showShipping = !vm.showShipping">Shipping and returns</a>\n            <div class="accordion-content">\n                <div class="detail">\n                    <div class="content" ng-if="vm.product.isReturnable" ng-bind-html="vm.sanitizeHtml(vm.sku.shippingReturnInfoForSku || vm.product.shippingReturnInfo)"></div>\n                    <div class="content" ng-if="!vm.product.isReturnable" ng-bind-html="::vm.sanitizeHtml(vm.product.shippingReturnInfo)"></div>\n                    \n                </div>\n                <div class="detail" ng-if="vm.product.isPresale && vm.product.preOrderDescription">\n                    <div class="heading">Pre-order</div>\n                    <div class="content" ng-bind-html="::vm.sanitizeHtml(vm.product.preOrderDescription)"></div>\n                </div>\n            </div>\n        </li>\n    </ul>\n</div>\n'),e.put("app/components/widgets/alertbar/alertbar.html",'<div class="hide-for-small-only notification-bar clearfix" ng-hide="vm.AppStateService.hideNavbar()">\n    <div class="container float-center">\n        <div class="small-12 medium-6 register-alert small-centered medium-uncentered columns float-left"\n             ng-hide="vm.CustomerService.isLoggedIn()"\n             ng-click="vm.showLoginModal(\'Register\')"\n             ng-if="vm.offerHTMLTemplate"\n             ng-bind-html="vm.offerHTMLTemplate">\n        </div>\n        <div class="medium-6 float-right">\n            <span class="float-right"><a ui-sref="help">Help</a></span>\n            <span class="float-right account-update"\n                  ng-show="vm.CustomerService.isLoggedIn()">\n                <a ui-sref="account.detail.orders">Account\n                </a>\n                <div class="top-notification-badge" ng-show="vm.getAccountUpdateCount()"></div>\n            </span>\n            <span class="float-right"\n                  ng-hide="vm.CustomerService.isLoggedIn()"><a analytics-on="click" analytics-event="Click"\n                                                               analytics-category="Header" analytics-label="Sign in"\n                                                               href="" ng-click="vm.showLoginModal()">Sign in</a></span>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/autocomplete/autocomplete-suggestions.html",'<a class="search" ng-class="{active: acc.showSearch}" ng-click="acc.showSuggestions()">Search</a>\n<!-- Using zeroheight class instead of ng-show because of iOS safari bug which doesn\'t allow focus on click with setTimeout -->\n<div class="hs-suggestions zeroheight">\n    <form onsubmit="return false;" autocomplete="off">\n        <input type="search" class="input product-search-input-search" id="search" name="search" placeholder="Search for products"\n               ng-model="acc.searchText"\n               ng-keyup="acc.getSuggestions(acc.searchText, $event)"\n               ng-model-options="{ debounce: 0 }" autofocus/>\n        <a href="#" class="close" ng-click="acc.showSuggestions()"></a>\n    </form>\n    <ul class="autocomplete" ng-show="acc.suggestions.length === 0 && acc.searchText.length > 0">\n        <li>\n            <a href="#" class="hs-suggest" ng-click="acc.setAndSearch(acc.searchText, acc.searchText, -1, \'keyword\')"><em>{{acc.searchText}}</em></a>\n        </li>\n    </ul>\n    <ul class="autocomplete" ng-show="acc.recentSearches.length >0 && acc.searchText.length < 1">\n        <li class="recent-searches">\n            Recent Searches\n        </li>\n        <li ng-repeat="data in acc.recentSearches" ng-class="{\'selected-item\': acc.selectedItemIndex == $index}">\n            <a href="#" class="hs-suggest" ng-click="acc.setAndSearch(data.label, data.name, data.id, data.type, \'recent\')" ng-bind="data.label"></a>\n        </li>\n    </ul>\n    <ul class="autocomplete" ng-show="acc.suggestions.length > 0 && acc.searchText.length > 0">\n        <li ng-repeat="data in acc.suggestions" ng-class="{\'selected-item\': acc.selectedItemIndex == $index}">\n            <a href="#" class="hs-suggest" ng-click="acc.setAndSearch(data.label, data.name, data.id, data.type)" ng-bind-html="acc.highlightSearchText(acc.searchText, data.label)"></a>\n        </li>\n    </ul>\n</div>'),e.put("app/components/widgets/autocomplete/autocomplete.html",'<div class="show-for-large">\n    <div autocomplete-suggestions></div>\n</div>\n<div class="hide-for-large">\n    <div autocomplete-suggestions></div>\n</div>\n<div class="overlay"\n     ng-class="{active: ac.showOverlay()}"\n     ng-click="ac.setOverlay(false)">\n</div>\n'),e.put("app/components/widgets/divider/divider.html",'<div class="divider-container">\n    <div class="divider">\n        <h2 class="big" ng-transclude></h2>\n        <hr class="dash"></hr>\n    </div>\n</div>\n'),e.put("app/components/widgets/filter/filter.html",'<div class="container-ng-filters hs-filters hs-filters-large clearfix">\n    <!-- Gender-->\n    <div class="ng-filters hs-dropdown-tab" ng-class="{\'selected\': fc.isSelected(\'gender\')}"\n         ng-click="fc.select(\'gender\')" ng-if="fc.filters.shopForRefines.length > 1">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Shop for</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.genderCount"></div>\n            <div class="ng-filters filter-details"\n                 ng-if="fc.isSelected(\'gender\')"\n                 ng-click="fc.stop($event)">\n                <div class="filter-details-container">\n                    <ul class="list-items no-border">\n                        <li ng-repeat="gender in fc.filters.shopForRefines track by gender.index "\n                            class="ng-filters hs-gender">\n                            <label>\n                                <input type="checkbox" name="genders" class="ng-filters hs-checkbox"\n                                       ng-model="gender.isSelected" ng-change="fc.filterResults()"/>\n                                <span></span>\n                                <span ng-bind="::gender.optionName"></span>\n                            </label>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Size-->\n    <div class="ng-filters hs-dropdown-tab" ng-class="{\'selected\': fc.isSelected(\'size\')}" ng-click="fc.select(\'size\')"\n         ng-if="fc.filters.sizeRefines.length > 1">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Size</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.sizeCount"></div>\n            <div class="ng-filters filter-details"\n                 ng-if="fc.isSelected(\'size\')"\n                 ng-click="fc.stop($event)">\n                <div class="filter-details-container">\n                    <ul class="list-items no-border">\n                        <li ng-repeat="size in fc.filters.sizeRefines | orderBy:size.isSelected"\n                            class="ng-filters hs-size">\n                            <label>\n                                <input type="checkbox" name="sizes" class="ng-filters hs-checkbox"\n                                       ng-model="size.isSelected" ng-change="fc.filterResults()"/>\n                                <span></span>\n                                <span ng-bind="::size.groupName"></span>\n                            </label>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Age-->\n    <div class="ng-filters hs-dropdown-tab" ng-class="{\'selected\': fc.isSelected(\'age\')}" ng-click="fc.select(\'age\')"\n         ng-if="fc.filters.ageRefines.length > 1">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Age</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.ageCount"></div>\n            <div class="ng-filters filter-details options-list"\n                 ng-if="fc.isSelected(\'age\')"\n                 ng-click="fc.stop($event)">\n                <div class="filter-details-container">\n                    <ul class="list-items no-border">\n                        <li ng-repeat="age in fc.filters.ageRefines | orderBy:age.isSelected" class="ng-filters hs-age">\n                            <label>\n                                <input type="checkbox" name="age" class="ng-filters hs-checkbox"\n                                       data-from="{{age.fromAge}}" data-to="{{age.toAge}}" ng-model="age.isSelected"\n                                       ng-change="fc.filterResults()"/>\n                                <span></span>\n                                <span ng-bind="::age.groupName"></span>\n                            </label>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Categories-->\n    <div class="ng-filters hs-dropdown-tab"\n         ng-class="{\'selected\': fc.isSelected(\'category\')}"\n         ng-click="fc.select(\'category\')"\n         ng-if="fc.filters.subCategories.length > 1">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Category</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.catCount"></div>\n            <div ng-if="fc.isSelected(\'category\')"\n                 class="ng-filters filter-details options-list"\n                 ng-click="fc.stop($event)"\n                 lazy-scroll list="fc.filters.subCategories"\n                 visible-list="catProvider"\n                 height="267" row-height="47" container-height="catHeight"\n                 filter-by="fc.categorySearch" filter-name="name">\n                <div class="filter-details-container">\n                    <div class="ng-filters search-box " ng-show="fc.filters.subCategories.length > 10">\n                        <input type="search" class="ng-filters hs-search round" autofocus\n                               placeholder="Search categories" ng-model="fc.categorySearch"/>\n                        <span></span>\n                    </div>\n                    <ul class="list-items no-border" ng-style="catHeight">\n                        <li class="lazy-scroll" ng-repeat="cat in catProvider" ng-style="cat.styles">\n                            <label>\n                                <input type="checkbox" name="category" class="ng-filters hs-checkbox"\n                                       ng-value="cat.subCategorys[0]" ng-model="cat.isSelected"\n                                       ng-change="fc.filterResults(fc.filters.subCategories, cat, \'subCategorys\')"/>\n                                <span></span>\n                                <span ng-bind="::cat.name"></span>\n                            </label>\n                        </li>\n                        <li>\n                            <label ng-hide="catProvider.length > 0">\n                                No Result Found.\n                            </label>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Brands brandRefines-->\n    <div class="ng-filters hs-dropdown-tab"\n         ng-class="{\'selected\': fc.isSelected(\'brands\')}"\n         ng-click="fc.select(\'brands\')"\n         ng-if="fc.filters.brandRefines.length > 1">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Brands</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.brandCount">All</div>\n            <div ng-if="fc.isSelected(\'brands\')"\n                 class="ng-filters filter-details options-list"\n                 ng-click="fc.stop($event)"\n                 lazy-scroll list="fc.filters.brandRefines"\n                 visible-list="brandsProvider"\n                 height="267" row-height="47" container-height="brandsHeight"\n                 filter-by="fc.brandSearch" filter-name="brandName">\n                <div class="filter-details-container">\n                    <div class="ng-filters search-box " ng-show="::(fc.filters.brandRefines.length > 10)">\n                        <input type="search" class="ng-filters hs-search round" placeholder="Search brands"\n                               ng-model="fc.brandSearch"/>\n                        <span></span>\n                    </div>\n                    <ul class="list-items no-border" ng-style="brandsHeight">\n                        <li class="lazy-scroll" ng-repeat="brand in brandsProvider track by brand.brandId" ng-style="brand.styles">\n                            <label>\n                                <input type="checkbox" name="brand" class="ng-filters hs-checkbox"\n                                       ng-value="::brand.brandId" ng-model="brand.isSelected"\n                                       ng-change="fc.filterResults(fc.filters.brandRefines, brand, \'brandId\')"/>\n                                <span></span>\n                                <span ng-bind="::brand.brandName"></span>\n                            </label>\n                        </li>\n                        <li>\n                            <label ng-hide="brandsProvider.length > 0">\n                                No Result Found.\n                            </label>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Price-->\n    <div class="ng-filters hs-dropdown-tab" ng-class="{\'selected\': fc.isSelected(\'price\')}"\n         ng-click="fc.select(\'price\')" ng-if="fc.showPriceSlider">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name hs-price">Price</div>\n            <div class="ng-filters filters-selected">{{fc.filters.currentPriceRange.minPrice | currency:\'&#8377;\':0}} -\n                {{fc.filters.currentPriceRange.maxPrice | currency:\'&#8377;\':0}}\n            </div>\n            <div ng-if="fc.isSelected(\'price\')" class="ng-filters filter-details price-slider-container"\n                 ng-click="fc.stop($event)">\n                <div class="ng-filters hs-slider">\n                    <div ng-if="fc.filters" class="desktop-filter" slider\n                         ng-from="fc.filters.currentPriceRange.minPrice" ng-to="fc.filters.currentPriceRange.maxPrice"\n                         start="fc.filters.basePriceRange.minPrice" end="fc.filters.basePriceRange.maxPrice" step=10\n                         callback="slide"></div>\n\n                </div>\n                <div class="ng-filters slider-min slider-value">{{fc.filters.basePriceRange.minPrice | currency:\'&#8377;\':0}}</div>\n                <div class="ng-filters slider-max slider-value">{{fc.filters.basePriceRange.maxPrice | currency:\'&#8377;\':0}}</div>\n            </div>\n        </div>\n    </div>\n    <!-- Preorder Refines-->\n    <div class="ng-filters hs-dropdown-tab"\n         ng-class="{\'selected\': fc.isSelected(\'preorder\')}"\n         ng-click="fc.select(\'preorder\')"\n         ng-if="fc.filters.moreRefines.filters.length > 0">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Delivery</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.preCount">All</div>\n            <div ng-if="fc.isSelected(\'preorder\')"\n                 class="ng-filters filter-details options-list pre-order"\n                 ng-click="fc.stop($event)">\n                <div class="filter-details-container">\n                    <ul class="list-items no-border">\n                        <ul class="list-items no-border">\n                            <li class="ng-filters hs-size">\n                                <label>\n                                    <input type="checkbox" name="preorder" class="ng-filters hs-checkbox"\n                                           ng-model="fc.filters.moreRefines.filters[0].selected" ng-change="fc.filterResults()"/>\n                                    <span></span>\n                                    <span ng-bind="::fc.filters.moreRefines.filters[0].name"></span>\n                                </label>\n                            </li>\n                        </ul>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div><!--\n    Sort By\n    --><div class="ng-filters hs-dropdown-tab sort-by" ng-class="{\'selected\': fc.isSelected(\'sort\')}"\n         ng-click="fc.select(\'sort\')">\n        <div class="ng-filters hs-dropdown">\n            <div class="ng-filters hs-dropdown-name">Sort by</div>\n            <div class="ng-filters filters-selected" ng-bind="fc.selectedSortOrder"></div>\n            <div class="ng-filters filter-details" ng-click="fc.stop($event)">\n                <div class="filter-details-container">\n                    <div ng-repeat="sort in fc.sortBy" class="sortBy">\n                        <ul>\n                            <li class="ng-filters hs-size" ng-repeat="sortOrder in sort.sortingOrders"\n                                ng-class="{selected: fc.orderRule==sortOrder.orderRule}">\n                                <a href="" ng-click="fc.setSortOrder(sortOrder.orderRule, sortOrder.label)"\n                                   class="clickable-item" ng-bind="::sortOrder.label"></a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div><!--/.ng-filters-->\n        </div>\n    </div>\n</div>\n\n\n<!-- Mobile -->\n<div class="ng-filters hs-filters hs-filters-medium-down">\n\n    <div class="mfilter header-tabs"\n         ng-if="!fc.disableFilter"\n         ng-click="fc.toggleFilter()">\n        <span class="icon-large icon-filter"></span>\n        <span class="bar-header">Filter</span>\n    </div>\n\n    <div class="mfilter header-tabs"\n         ng-if="fc.disableFilter">\n        <span class="icon-large icon-filter-disabled"></span>\n        <span class="bar-header">Filter</span>\n    </div>\n\n    <div class="filter-items-count bar-header header-tabs">{{fc.items}} Items</div>\n\n    <div class="filter-m-sort header-tabs" ng-click="fc.toggleMobileSort()">\n        <span class="bar-header">Sort</span>\n        <span class="icon-large icon-sort"></span>\n    </div>\n\n    <div class="hs-filters hs-mobile-filters sort-by" ng-show="fc.showMobileSort">\n        <section class="filter">\n            <header class="modal-header">\n                <span>SORT</span>\n                <span class="icon icon-dismiss modal-close" ng-click="fc.toggleMobileSort()"></span>\n            </header>\n            <div ng-repeat="sort in fc.sortBy">\n                <ul>\n                    <li class="ng-filters sort-by" ng-repeat="sortOrder in sort.sortingOrders"\n                        ng-class="{selected: fc.orderRule==sortOrder.orderRule}">\n                        <a href="" ng-click="fc.setSortOrder(sortOrder.orderRule, sortOrder.label)"\n                           ng-bind="::sortOrder.label"></a>\n                    </li>\n                </ul>\n            </div>\n        </section>\n    </div>\n\n    <div class="hs-filters hs-mobile-filters" ng-show="fc.showMobileFilter">\n        <section class="ng-filters">\n            <header class="modal-header">\n                <button type="button" class="button secondary reset-filters" ng-click="fc.resetFilters()">Clear</button>\n                <span>FILTER</span>\n                <span class="icon icon-dismiss modal-close" ng-click="fc.toggleFilter()"></span>\n            </header>\n            <!-- Gender -->\n            <div ng-click="fc.select(\'gender\')" ng-if="fc.filters.shopForRefines.length > 1">\n                <div class="filter-title">\n                    <div class="name">\n                        Shop for\n                    </div>\n                    <div class="value" ng-bind="fc.getSelectedCount(\'genderCount\')"></div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.isSelected(\'gender\'), \'show-data\':fc.isSelected(\'gender\')}"/>\n                </div>\n                <div class="filter-options">\n                    <div ng-if="fc.isSelected(\'gender\')" class="filter-options-container"\n                         ng-class="{\'selected\': fc.isSelected(\'gender\')}">\n                        <div class="options-list">\n                            <ul class="list-items">\n                                <li ng-repeat="gender in fc.filters.shopForRefines track by gender.index"\n                                    ng-click="fc.stop($event)">\n                                    <label ng-click="fc.stop($event)">\n                                        <input type="checkbox" name="genders" class="ng-filters hs-checkbox"\n                                               ng-model="gender.isSelected"/>\n                                        <span></span>\n                                        <span ng-bind="::gender.optionName"></span>\n                                    </label>\n                                </li>\n                            </ul>\n                        </div><!--/.options-list-->\n                    </div>\n                </div>\n            </div>\n            <!-- Size -->\n            <div ng-click="fc.select(\'size\')" ng-if="fc.filters.sizeRefines.length > 1">\n                <div class="filter-title">\n                    <div class="name">\n                        Size\n                    </div>\n                    <div class="value" ng-bind="fc.getSelectedCount(\'sizeCount\')"></div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.isSelected(\'size\'), \'show-data\':fc.isSelected(\'size\')}"/>\n                </div>\n                <div class="filter-options">\n                    <div ng-if="fc.isSelected(\'size\')" class="filter-options-container"\n                         ng-class="{\'selected\': fc.isSelected(\'size\')}">\n                        <div class="options-list">\n                            <ul class="list-items">\n                                <li ng-repeat="size in fc.filters.sizeRefines | orderBy:size.isSelected"\n                                    ng-click="fc.stop($event)">\n                                    <label ng-click="fc.stop($event)">\n                                        <input type="checkbox" name="sizes" class="ng-filters hs-checkbox"\n                                               ng-model="size.isSelected"/>\n                                        <span></span>\n                                        <span ng-bind="::size.groupName"></span>\n                                    </label>\n                                </li>\n                            </ul>\n                        </div><!--/.options-list-->\n                    </div>\n                </div>\n            </div>\n            <!-- Age -->\n            <div ng-click="fc.select(\'age\')" ng-if="fc.filters.ageRefines.length > 1">\n                <div class="filter-title">\n                    <div class="name">\n                        Age\n                    </div>\n                    <div class="value" ng-bind="fc.getSelectedCount(\'ageCount\')"></div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.isSelected(\'age\'), \'show-data\':fc.isSelected(\'age\')}"/>\n                </div>\n                <div class="filter-options">\n                    <div ng-if="fc.isSelected(\'age\')" class="filter-options-container"\n                         ng-class="{\'selected\': fc.isSelected(\'age\')}">\n                        <div class="options-list">\n                            <ul class="list-items">\n                                <li ng-repeat="age in fc.filters.ageRefines | orderBy:age.isSelected"\n                                    ng-click="fc.stop($event)">\n                                    <label ng-click="fc.stop($event)">\n                                        <input type="checkbox" name="age" class="ng-filters hs-checkbox"\n                                               data-from="{{age.fromAge}}" data-to="{{age.toAge}}"\n                                               ng-model="age.isSelected"/>\n                                        <span></span>\n                                        <span ng-bind="::age.groupName"></span>\n                                    </label>\n                                </li>\n                            </ul>\n                        </div><!--/.options-list-->\n                    </div>\n                </div>\n            </div>\n            <!-- Categories -->\n            <div ng-click="fc.select(\'categories\')" ng-if="fc.filters.subCategories.length > 1">\n                <div class="filter-title">\n                    <div class="name">\n                        Categories\n                    </div>\n                    <div class="value" ng-bind="fc.getSelectedCount(\'catCount\')"></div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.subCategories(\'categories\'), \'show-data\':fc.isSelected(\'categories\')}"/>\n                </div>\n                <div class="filter-options">\n                    <div ng-if="fc.isSelected(\'categories\')" class="filter-options-container"\n                         ng-class="{\'selected\': fc.isSelected(\'categories\')}">\n                        <div class="ng-filters search-box " ng-show="fc.filters.subCategories.length > 10"\n                             ng-click="fc.stop($event)">\n                            <input type="search" class="ng-filters hs-search round" autofocus\n                                   placeholder="Search categories" ng-model="fc.categorySearch"/>\n                            <span></span>\n                        </div>\n                        <div class="options-list"\n                             lazy-scroll list="fc.filters.subCategories"\n                             visible-list="catProvider"\n                             height="267" row-height="47" container-height="catHeight"\n                             filter-by="fc.categorySearch" filter-name="name">\n                            <ul class="list-items" ng-style="catHeight">\n                                <li ng-repeat="cat in catProvider" class="options-list lazy-scroll"\n                                    ng-style="cat.styles" ng-click="fc.stop($event)">\n                                    <label ng-click="fc.stop($event)">\n                                        <input type="checkbox" name="category" class="ng-filters hs-checkbox"\n                                               ng-value="cat.subCategorys[0]" ng-model="cat.isSelected"/>\n                                        <span></span>\n                                        <span ng-bind="::cat.name"></span>\n                                    </label>\n                                </li>\n                                <li ng-hide="catProvider.length > 0">\n                                    <label>\n                                        No Result Found.\n                                    </label>\n                                </li>\n                            </ul>\n                        </div><!--/.options-list-->\n                    </div>\n                </div><!--/.filter-options-->\n            </div><!--\n         Brands\n        -->\n            <div ng-click="fc.select(\'brands\')" ng-if="fc.filters.brandRefines.length > 1">\n                <div class="filter-title">\n                    <div class="name">\n                        Brands\n                    </div>\n                    <div class="value" ng-bind="fc.brandCount"></div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.isSelected(\'brands\'), \'show-data\':fc.isSelected(\'brands\')}"/>\n                </div>\n                <div class="filter-options">\n                    <div ng-if="fc.isSelected(\'brands\')" class="filter-options-container"\n                         ng-class="{\'selected\': fc.isSelected(\'brands\')}">\n                        <div class="ng-filters search-box " ng-show="fc.filters.brandRefines.length > 10"\n                             ng-click="fc.stop($event)">\n                            <input type="search" class="ng-filters hs-search round" placeholder="Search"\n                                   ng-model="fc.brandSearch"/>\n                            <span></span>\n                        </div>\n                        <div class="options-list"\n                             lazy-scroll list="fc.filters.brandRefines"\n                             visible-list="brandsProvider"\n                             height="251" row-height="55" container-height="brandsHeight"\n                             filter-by="fc.brandSearch" filter-name="brandName">\n                            <ul class="list-items" ng-style="brandsHeight">\n                                <li ng-repeat="brand in brandsProvider track by brand.brandId" ng-style="brand.styles"\n                                    class="options-list lazy-scroll" ng-click="fc.stop($event)">\n                                    <label ng-click="fc.stop($event)">\n                                        <input type="checkbox" name="brand" class="ng-filters hs-checkbox"\n                                               ng-value="brand.brandId" ng-model="brand.isSelected"/>\n                                        <span></span>\n                                        <span ng-bind="::brand.brandName"></span>\n                                    </label>\n                                </li>\n                                <li ng-hide="brandsProvider.length > 0">\n                                    <label>\n                                        No Result Found.\n                                    </label>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div><!--/.filter-options-->\n            </div>\n            <!-- Price -->\n            <div ng-if="fc.showPriceSlider" ng-click="fc.select(\'price\')">\n                <div class="filter-title">\n                    <div class="name">\n                        Price\n                    </div>\n                    <div class="value">\n                        {{fc.filters.currentPriceRange.minPrice | currency:\'&#8377;\':0}} -\n                        {{fc.filters.currentPriceRange.maxPrice | currency:\'&#8377;\':0}}\n                    </div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.isSelected(\'price\'), \'show-data\':fc.isSelected(\'price\')}"/>\n                </div>\n                <div class="filter-options" ng-click="fc.stop($event)">\n                    <div class="mobile-price price-slider-container"\n                         ng-if="fc.isSelected(\'price\')"\n                         ng-class="{\'selected\': fc.isSelected(\'price\')}"\n                         ng-click="fc.stop($event)">\n                        <div class="ng-filters hs-slider">\n                            <div ng-if="fc.filters" class="mobile-filter" slider\n                                 ng-from="fc.filters.currentPriceRange.minPrice"\n                                 ng-to="fc.filters.currentPriceRange.maxPrice"\n                                 start="fc.filters.basePriceRange.minPrice" end="fc.filters.basePriceRange.maxPrice"\n                                 step=10\n                                 ng-click="fc.stop($event)" callback="slide"></div>\n                        </div>\n                        <div class="ng-filters slider-min slider-value">{{fc.filters.basePriceRange.minPrice |\n                            currency:\'&#8377;\':0}}\n                        </div>\n                        <div class="ng-filters slider-max slider-value">{{fc.filters.basePriceRange.maxPrice |\n                            currency:\'&#8377;\':0}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- Age -->\n            <div ng-click="fc.select(\'preorder\')" ng-if="fc.filters.moreRefines.filters.length > 0">\n                <div class="filter-title">\n                    <div class="name">\n                        Delivery\n                    </div>\n                    <div class="value" ng-bind="fc.getSelectedCount(\'preCount\')"></div>\n                    <img ng-src="{{fc.arrowDownImage}}"\n                         ng-class="{\'hide-data\':!fc.isSelected(\'preorder\'), \'show-data\':fc.isSelected(\'preorder\')}"/>\n                </div>\n                <div class="filter-options">\n                    <div ng-if="fc.isSelected(\'preorder\')" class="filter-options-container"\n                         ng-class="{\'selected\': fc.isSelected(\'preorder\')}">\n                        <div class="options-list">\n                            <ul class="list-items">\n                                <li\n                                    ng-click="fc.stop($event)">\n                                    <label ng-click="fc.stop($event)">\n                                        <input type="checkbox" name="preorder" class="ng-filters hs-checkbox"\n                                               ng-model="fc.filters.moreRefines.filters[0].selected"/>\n                                        <span></span>\n                                        <span ng-bind="::fc.filters.moreRefines.filters[0].name"></span>\n                                    </label>\n                                </li>\n                            </ul>\n                        </div><!--/.options-list-->\n                    </div>\n                </div>\n            </div>\n            <button type="button" class="button primary sticky-button" ng-click="fc.applyFilter();">Apply</button>\n        </section>\n    </div><!--.hs-mobile-filters-->\n</div><!--.hs-filters-medium-down-->\n'),
e.put("app/components/widgets/footer/footer-old.html",'<div class="footer-mobile show-for-small-only row" ng-hide="vm.AppStateService.isInCheckout() || vm.AppStateService.isInOrderCancellation()">\n        <div class="small-4 large-4 columns"><a class="contact" href="">Call  Us</a></div>\n        <div class="small-4 large-4 columns"><a class="mail" href="">Email Us</a></div>\n        <div class="small-4 large-4 columns"><a class="faq" href="">Help &amp; FAQs</a></div>   \n</div>\n\n<footer class="site-footer container" ng-hide="vm.AppStateService.isInCheckout() || vm.AppStateService.isInOrderCancellation()">\n    \n    <section class="row">\n\n    <div class="logo-section medium-4 large-4 columns">\n        <a href="/"><div class="logo"></div></a>\n        <div class="rights"><a href="/terms"><span>&copy; 2011 - 2016 Hopscotch.</span><span> All rights reserved.</span></a></div>\n        <div class="terms"><a href="/privacy-policy"><span>Terms of Service ·</span><span>Privacy Policy</span></a></div>\n    </div>\n    <div class="links medium-8 large-8 columns">\n        <div>\n            <div class="section footer-list">\n                <h4>Company</h4>\n                <ul>\n                    <li><a href="#">About</a></li>\n                    <li><a href="#">Careers</a></li>\n                </ul>\n            </div>\n            <div class="section hide-for-small-only  footer-list">\n                <h4>Support</h4>\n                <ul>\n                    <li><a href="/help">Help &amp; FAQs</a></li>\n                    <li><a href="mailto:wecare@hopscotch.in">wecare@hopscotch.in</a></li>\n                </ul>\n            </div>\n            <div class="section footer-list">\n                <h4>Mobile</h4>\n                <ul>\n                    <li><a href="">Android</a></li>\n                    <li><a href="">iOS</a></li>\n                    <li class="hide-for-small-only"><a href="">SMS app link</a></li>\n                </ul>\n            </div>\n            <div class="section">\n                <h4>Connect</h4>\n                <ul>\n                    <li><a href="https://twitter.com/Hopscotchindia"><i class="icon-small icon-twitter"></i>Twitter</a></li>\n                    <li><a href="https://www.facebook.com/Hopscotch.India"><i  class="icon-small icon-facebook"></i>Facebook</a></li>\n                    <li><a href="https://www.pinterest.com/hopscotchindia/"><i  class="icon-small icon-pinterest"></i>Pinterest</a></li>\n                    <li><a href="https://www.instagram.com/hopscotch.in/"><i  class="icon-small icon-instagram"></i>Instagram</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n        \n  </section><!--/.container-->\n</footer>\n'),e.put("app/components/widgets/footer/footer.html",'<footer class="row site-footer">\n    <section class="container clearfix">\n        <div class="footer-block text-center hide-for-small-only column small-6 medium-3 large-3">\n            <span class="info-icon"></span>\n            <div class="bold footer-title">Need help?</div>\n            <a ui-sref="help">\n                <div class="sub-title">View our knowledge centre</div>\n            </a>\n        </div>\n        <div class="footer-block text-center show-for-small-only top-footer-block-mobile column small-6 medium-3 large-3">\n            <a href="help">\n                <span class="info-icon"></span>\n                <div class="bold footer-title">Need help?</div>\n            </a>\n        </div>\n        <div class="footer-block text-center hide-for-small-only column small-6 medium-3 large-3">\n            <span class="mail-icon"></span>\n            <div class="bold footer-title">24x7 support</div>\n            <a href="mailto:wecare@hopscotch.in" target="_blank">\n                <div class="sub-title">wecare@hopscotch.in</div>\n            </a>\n        </div>\n        <div class="footer-block text-center show-for-small-only top-footer-block-mobile column small-6 medium-3 large-3">\n            <a href="mailto:wecare@hopscotch.in" target="_blank">\n                <span class="mail-icon"></span>\n                <div class="bold footer-title">24x7 support</div>\n            </a>\n        </div>\n        <div class="footer-block text-center column small-6 medium-3 large-3">\n            <span class="hs-icon hide-for-small-only"></span>\n            <div class="bold footer-title">Download our apps</div>\n            <div class="sub-title">\n                <a href="https://itunes.apple.com/in/app/hopscotch-find-something-new/id945949424" target="_blank"><span class="apple-icon"></span></a>\n                <a href="https://play.google.com/store/apps/details?id=in.hopscotch.android" target="_blank"><span class="play-icon"></span></a>\n            </div>\n        </div>\n        <div class="footer-block text-center column small-6 medium-3 large-3">\n            <span class="thumbsup-icon hide-for-small-only"></span>\n            <div class="bold footer-title">Connect with us</div>\n            <div class="sub-title">\n                <a href="https://www.facebook.com/Hopscotch.India" target="_blank"><span class="facebook-icon"></span></a>\n                <a href="https://twitter.com/Hopscotchindia" target="_blank"><span class="twitter-icon"></span></a>\n                <a href="https://www.instagram.com/hopscotch.in" target="_blank"><span class="instagram-icon"></span></a>\n                <a href="https://www.pinterest.com/hopscotchindia" target="_blank"><span class="pinterest-icon"></span></a>\n            </div>\n        </div>\n    </section>\n    <section class="container footer-end">\n        <div class=row>\n            <div class="column small-12 medium-7 large-7 same-height">\n                <a ui-sref="home">\n                  <img class="hide-for-small-only logo" ng-src="{{vm.ConfigService.IMAGE_BASE_PATH + \'images/hs-logo.png\'}}" alt="Hopscotch.in">\n                </a>\n                <ul>\n                  <li><a ui-sref="about">About Us </a></li>\n                  <li><a ui-sref="terms">Terms of Service </a></li>\n                  <li><a ui-sref="privacy">Privacy Policy</a></li>\n                </ul>\n            </div>\n            <div class="column small-12 medium-5 large-5 same-height">\n                <div class="copyright">\n                    &#169; 2011-2017 Hopscotch. All rights reserved.\n                </div>\n            </div>\n        </div>\n    </section>\n</footer>\n'),e.put("app/components/widgets/navbar/navbar.html",'<div class="top-bar"  ng-class="{\'push-down\': vm.pushDown}" ng-hide="vm.AppStateService.hideNavbar()">\n  <div class="container float-center">\n    <div class="float-left">\n\n      <div class="float-left logo-container">\n        <a ui-sref="home({ref : \'logo\', funnel:\'New\', from_screen: vm._$state.current.name})"  class="logo" analytics-on="click" analytics-event="Click" analytics-category="Header" analytics-label="Logo">Hopscotch</a>\n      </div>\n\n      <div class="show-for-small-only float-left" ng-hide="vm.AppStateService.hideNavbar()">\n        <span class="clearfix float-left account-update navbar-small" ng-show="vm.CustomerService.isLoggedIn()">\n          <a href="" ng-click="vm.goToAccountPage()">Account\n          </a>\n            <div class="top-notification-badge small-badge" ng-show="vm.getAccountUpdateCount()"></div>\n        </span>\n        <span class="clearfix float-left" ng-hide="vm.CustomerService.isLoggedIn()"><a analytics-on="click" analytics-event="Click" analytics-category="Header" analytics-label="Sign in" href="" ng-click="vm.showLoginModal()">Sign in</a></span>\n        <span class="clearfix float-left help-tab"><a ui-sref="help">Help</a></span>\n      </div>\n\n    </div>\n    <div class="show-for-medium">\n      <ul class="menu primary-menu float-left">\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'home\')}">\n          <a ui-sref="home({ref : \'navigation\', funnel:\'New\', from_screen: vm._$state.current.name})" \n            analytics-on="click" \n            analytics-event="Click" \n            analytics-category="Header" \n            analytics-label="New">New</a>\n        </li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-baby\')}">\n          <a ui-sref="department-baby({ref : \'navigation\', funnel:\'baby\', from_screen: vm._$state.current.name})" \n            analytics-on="click" \n            analytics-event="Click" \n            analytics-category="Header" \n            analytics-label="{{vm.departments[0].name}}" \n            ng-bind="vm.departments[0].name||\'Baby\'"></a>\n        </li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-girls\')}">\n          <a ui-sref="department-girls({ref : \'navigation\', funnel:\'girls\', from_screen: vm._$state.current.name})" \n            analytics-on="click" \n            analytics-event="Click" \n            analytics-category="Header" \n            analytics-label="{{vm.departments[1].name}}" \n            ng-bind="vm.departments[1].name||\'Girls\'">Girls</a>\n        </li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-boys\')}">\n          <a ui-sref="department-boys({ref : \'navigation\', funnel:\'boys\', from_screen: vm._$state.current.name})" \n            analytics-on="click" \n            analytics-event="Click" \n            analytics-category="Header" \n            analytics-label="{{vm.departments[2].name}}" \n            ng-bind="vm.departments[2].name||\'Boys\'">Boys</a>\n        </li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'moments\')}">\n          <a ui-sref="moments({ref : \'navigation\', funnel:\'Moments\', from_screen: vm._$state.current.name})" \n            analytics-on="click" \n            analytics-event="Click" \n            analytics-category="Header" \n            analytics-label="Moments" \n            ng-click="vm.setSegmentParams(\'Moments tab\')">Moments</a>\n        </li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-mom\')}">\n          <a ui-sref="department-mom({ref : \'navigation\', funnel:\'mom\', from_screen: vm._$state.current.name})" \n            analytics-on="click" \n            analytics-event="Click" \n            analytics-category="Header" \n            analytics-label="{{vm.departments[3].name}}" \n            ng-bind="vm.departments[3].name||\'Mom\'">Mom</a>\n        </li>\n      </ul>\n    </div>\n    <div class="icon-container float-right">\n      <ul class="menu autoseach-container">\n        <li><hs-autocomplete></hs-autocomplete></li>\n        <li>\n          <span class="cart hide-for-small-only" ng-click="vm.showCartIfLoggedIn()" ng-class="{\'cart-empty\': !vm.CustomerService.getCartItemQty()}"><span class="cartItemQty" ng-if="vm.CustomerService.getCartItemQty()" ng-bind="vm.CustomerService.getCartItemQty()"></span></span>\n          <a href="#cart" class="cart show-for-small-only" ng-click="vm.showCartIfLoggedInForSmall()" ng-class="{\'cart-empty\': !vm.CustomerService.getCartItemQty()}"><span class="cartItemQty" ng-if="vm.CustomerService.getCartItemQty()" ng-bind="vm.CustomerService.getCartItemQty()"></span></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n<div class="top-bar checkout-menu" ng-show="vm.AppStateService.isInCheckout() || vm.AppStateService.isInOrderCancellation() || vm.AppStateService.isInOrderReturn()">\n  <div class="checkout-top-bar" >\n    <div class="secure-checkout">\n      <span class="secure-icon icon-medium icon-lock-white" ng-show="vm.AppStateService.isInCheckout()"></span>\n      <span class="secure-icon icon-medium icon-cancelled" ng-show="vm.AppStateService.isInOrderCancellation()"></span>\n      <span class="secure-icon icon-medium icon-return" ng-show="vm.AppStateService.isInOrderReturn()"></span>\n      <span class="text" ng-show="vm.AppStateService.isInCheckout()">Secure checkout</span>\n      <span class="text" ng-show="vm.AppStateService.isInOrderCancellation()">Order cancellation</span>\n      <span class="text" ng-show="vm.AppStateService.isInOrderReturn()">Order returns</span>\n      <a href="/" class="float-left checkout-logo"\n         analytics-on="click" analytics-event="Click" analytics-category="Header" analytics-label="Logo"></a>\n    </div>\n  </div>\n</div>\n<div ng-show="!vm.AppStateService.hideNavbar() && vm.$stateParams.showMenu">\n  <div ng-include="\'app/components/widgets/navbar/secondary-menu.html\'"></div>\n</div>'),e.put("app/components/widgets/navbar/secondary-menu.html",'<div class="small-menu show-for-small-only" ng-hide="vm.AppStateService.isInFeedback()">\n    <ul class="menu secondary-menu">\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'home\')}">\n            <a ui-sref="home({ref : \'navigation\', funnel:\'New\', from_screen: vm._$state.current.name})" \n                analytics-on="click" \n                analytics-event="Click" \n                analytics-category="Header" \n                analytics-label="New">New</a></li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-baby\')}">\n            <a ui-sref="department-baby({ref : \'navigation\', funnel:\'baby\', from_screen: vm._$state.current.name})" \n                analytics-on="click" \n                analytics-event="Click" \n                analytics-category="Header" \n                analytics-label="{{vm.departments[0].name}}" \n                ng-bind="vm.departments[0].name||\'Baby\'"></a></li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-girls\')}">\n            <a ui-sref="department-girls({ref : \'navigation\', funnel:\'girls\', from_screen: vm._$state.current.name})" \n                analytics-on="click" \n                analytics-event="Click" \n                analytics-category="Header" \n                analytics-label="{{vm.departments[1].name}}" \n                ng-bind="vm.departments[1].name||\'Girls\'"></a></li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-boys\')}">\n            <a ui-sref="department-boys({ref : \'navigation\', funnel:\'boys\', from_screen: vm._$state.current.name})"\n                analytics-on="click" \n                analytics-event="Click" \n                analytics-category="Header" \n                analytics-label="{{vm.departments[2].name}}" \n                ng-bind="vm.departments[2].name||\'Boys\'"></a></li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'moments\')}">\n            <a ui-sref="moments({ref : \'navigation\', funnel:\'Moments\', from_screen: vm._$state.current.name})" \n                analytics-on="click" \n                analytics-event="Click" \n                analytics-category="Header" \n                analytics-label="Moments" \n                ng-click="vm.setSegmentParams(\'Moments tab\')">Moments</a></li>\n        <li ui-sref-active="active" ng-class="{active: vm._$state.includes(\'department-mom\')}">\n            <a ui-sref="department-mom({ref : \'navigation\', funnel:\'mom\', from_screen: vm._$state.current.name})" \n                analytics-on="click" \n                analytics-event="Click" \n                analytics-category="Header" \n                analytics-label="{{vm.departments[3].name}}" \n                ng-bind="vm.departments[3].name||\'Mom\'"></a></li>\n    </ul>\n</div>'),e.put("app/components/widgets/quickshop/quickshop.html",'<div class="edd text-center" ng-style="vm.getEddStyle()" ng-bind="vm.getEddTitle()"></div>\n<div class="qty-chart clearfix" ng-hide="vm.productDetail.isOneSize && !vm.productDetail.hasSizeChart">\n    <span class="size-text" ng-hide="vm.productDetail.isOneSize">Size</span><!--\n    --><span class="qty-left" ng-bind="vm.productForm.qtyLeft + \' left\'"\n          ng-show="vm.productForm.qtyLeft < 4 && vm.productForm.qtyLeft > 0 && vm.selectedSkuId"\n             itemprop="availability" href="http://schema.org/InStock"></span>\n    <span class="size-chart float-right" ng-if="vm.productDetail.hasSizeChart" ng-click="vm.showSizeChart()">View size chart</span>\n</div>\n<div class="size-selector-primary" ng-if="!vm.productDetail.isOneSize">\n    <div class="sizes">\n        <div class="size-pill" ng-class="{\'disabled\': sku.availableQuantity == 0}" ng-repeat="sku in vm.productDetail.simpleSkus track by sku.skuId">\n            <span class="size"\n                  ng-class="{\'selected\': sku.skuId === vm.selectedSkuId, \'disabled\': sku.availableQuantity == 0}"\n                  ng-bind="sku.attributes.size"\n                  ng-click="vm.updateProductDetail(sku)">\n            </span>\n        </div>\n    </div>\n</div>\n<button class="button sticky-button"\n        ng-click="vm.addToCart()"\n        ng-hide="vm.productDetail.isProductSoldOut"\n        ng-disabled="vm.addingToCart || !vm.selectedSkuId"\n        ng-bind="(vm.selectedSkuId?\'Add to cart\':\'Select a size\')"></button>\n'),e.put("app/components/widgets/refund-qty-selector/refund-qty-selector.html",'<div class="refund-qty-selector-container">\n    <div class="header">\n        <h2>What quantity would you like to cancel?</h2>\n    </div>\n    <div ng-repeat="qty in vm.qtyData.qtyArray" class="cancel-qty-container">\n        <span class="qty-span"\n              ng-class="{\'selected\': qty == vm.qtyData.cancelQty}"\n              ng-click="vm.chooseQty(qty)"\n              ng-bind="qty">\n        </span>\n    </div>\n</div>'),e.put("app/components/widgets/resetpasswordform/reset-password-form.html",'<div class="modal">\n    <div class="authentication">\n        <div class="float-center hs-logo"></div>\n        <div class="instruction message">Almost done!</div>\n        <div class="auth-offer">\n            <div>Create a new password to sign in.</div>\n        </div>\n        <form name="resetForm" ng-submit="vm.resetPassword()" novalidate>\n            <div class="group">\n                <input type="password"\n                       name="password"\n                       ng-model="vm.password"\n                       required\n                       class="round">\n                <label>New password</label>\n            </div>\n            <div ng-messages="resetForm.password.$error" ng-if=\'resetForm.password.$touched\'>\n                <div class="error-message" ng-message="required">Your password is required.</div>\n            </div>\n            <div class="group">\n                <input type="password"\n                       name="confirmPassword"\n                       ng-model="vm.confirmPassword"\n                       confirm-password\n                       required\n                       class="round">\n                <label>Confirm new password</label>\n            </div>\n            <div ng-messages="resetForm.confirmPassword.$error" ng-if=\'resetForm.confirmPassword.$touched\'>\n                <div class="error-message" ng-message="noMatch">Passwords do not match.</div>\n                <div class="error-message" ng-message="required">Confirm new password is required to reset password.\n                </div>\n            </div>\n\n            <input type="submit"\n                   ng-disabled="resetForm.$invalid"\n                   class="button round"\n                   value="Reset password">\n            <div class="bottom-link reset-password-bottom-link"></div>\n        </form>\n    </div>\n</div>\n'),e.put("app/components/widgets/sizechart/size-chart.html",'<div ng-if="vm.productName">\n    <div class="size-chart-wrapper">\n        <div class="size-chart">\n            <div class="row size-chart-header">\n                <div class="small-12 medium-12 large-12 columns header-title">\n                    <div class="small-11 medium-11 large-11 columns">\n                        SIZE CHART\n                    </div>\n                    <div class="small-1 medium-1 large-1 columns">\n                        <span class="ngdialog-close"></span>\n                    </div>\n                </div>\n                <div class="small-12 medium-12 large-12 columns show-for-small-only product-name">\n                    {{vm.productName}}\n                </div>\n            </div>\n            <div class="size-chart-detail-wrapper">\n                <div ng-repeat="sizeChart in vm.sizeChartData track by $index" class="row size-chart-detail">\n                    <div class="columns size-chart-detail-image" ng-if="sizeChart.illustrationImageUrl"\n                         ng-class="{\'small-12 medium-5 large-5\': sizeChart.sizeChartParameterValueDTOList,\n                        \'small-12 medium-12 large-12\': !sizeChart.sizeChartParameterValueDTOList}">\n                        <div class="images">\n                            <img class="illustration" ng-src="{{sizeChart.illustrationImageUrl}}" alt="">\n                            <img ng-repeat="cueImg in sizeChart.cueImageUrlList" class="cue" ng-src="{{ cueImg }}" alt="">\n                        </div>\n                    </div>\n                    <div class="columns size-chart-detail-list" ng-if="sizeChart.sizeChartParameterValueDTOList"\n                        ng-class="{\'small-12 medium-7 large-7\': sizeChart.illustrationImageUrl,\n                        \'small-12 medium-12 large-12\': !sizeChart.illustrationImageUrl}">\n                        <div class="row">\n                            <div class="small-12 medium-12 large-12 columns hide-for-small-only product-name" ng-if="!$index">\n                                {{ vm.productName }}\n                            </div>\n                            <div class="small-12 medium-12 large-12 columns size-option">\n                                <div class="size-option-type">\n                                    <div class="size-option-type-length" ng-if="vm.showLengthBlock[$index]">\n                                        Length:\n                                        <a ng-click="vm.setLength($index, \'cm\')"> <span ng-class="{\'active\': vm.isLengthActive[$index]===\'cm\'}">cm</span> </a>\n                                        <a ng-click="vm.setLength($index, \'in\')"> <span ng-class="{\'active\': vm.isLengthActive[$index]===\'in\'}">in</span> </a>\n                                    </div>\n                                    <div class="size-option-type-weight" ng-if="vm.showWeightBlock[$index]">\n                                        Weight:\n                                        <a ng-click="vm.setWeight($index, \'kg\')"> <span ng-class="{\'active\': vm.isWeightActive[$index]===\'kg\'}">kg</span> </a>\n                                        <a ng-click="vm.setWeight($index, \'lb\')"> <span ng-class="{\'active\': vm.isWeightActive[$index]===\'lb\'}">lb</span> </a>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="small-12 medium-12 large-12 columns size-table-wrapper">\n                                <div class="size-table">\n                                    <table class="size-table-detail">\n                                        <tr class="size-table-detail-row" ng-repeat="row in vm.tableData[$index]">\n                                            <td ng-repeat="param in row.valueList track by $index">{{ param }}</td>\n                                        </tr>\n                                    </table>\n                                </div>\n                            </div>\n                            <div class="small-12 medium-12 large-12 columns size-tips" ng-if="sizeChart.notesList">\n                                <div class="size-tips-title">Size notes and fitting tips:</div>\n                                <ul class="size-tips-list">\n                                    <li ng-repeat="notes in sizeChart.notesList track by $index" ng-bind="notes"></li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n'),e.put("app/components/widgets/sizeselector/size-selector.html",'<div>\n    <div class="delivery-pincode" ng-if="vm.productDetail.pinCode"\n         ng-bind="\'Delivery to \' + vm.productDetail.pinCode"></div>\n    <div class="header">\n        <div class="row">\n            <div class="title">Select size</div>\n            <span class="sizing float-right"\n                 ng-if="::vm.productDetail.hasSizeChart"\n                 ng-click="vm.showSizeChart()">\n                View size chart\n            </span>\n        </div>\n    </div>\n    <div class="option-container">\n        <div class="option"\n             ng-repeat="sku in vm.skus"\n             ng-class="{disabled: sku.availableQuantity < 1, selected: sku.skuId === vm.selectedSku.skuId}" ng-click="vm.chooseSku(sku)">\n            <div class="row size-row">\n                <span class="radio"><span class="icon-16 icon-radio-unselected" ng-class="{\'icon-radio-selected\': sku.skuId === vm.selectedSku.skuId}"></span></span>\n                <span class="attrib-size" ng-bind="::sku.attributes.size"></span>\n                <span class="float-right"\n                      ng-hide="vm.productDetail.hasSamePrice || sku.availableQuantity < 1">{{::sku.retailPrice | currency:\'&#8377;\':0}}</span>\n                <span class="float-right"\n                      ng-show="sku.availableQuantity < 1">Sold out</span>\n            </div>\n            <div class="row edd-row" ng-if="sku.availableQuantity > 0">\n                <span class="delivery-badge"\n                      ng-style="{\'background-color\': sku.eddColor, \'color\': sku.eddTextColor}"\n                      ng-bind="sku.eddPrefix + \' \' + sku.deliveryMsg"></span><!--\n                --><span class="qty-left"\n                      ng-if="sku.availableQuantity < 4 && sku.availableQuantity > 0"\n                      ng-bind="sku.availableQuantity + \' left\'"></span>\n            </div>\n\n\n        </div>\n    </div>\n    <div class="">\n        <button class="button primary sticky-button"\n                tabindex="-1"\n                ng-disabled="!vm.selectedSku.skuId"\n                ng-click="vm.addItemToCart(vm.selectedSku)"\n                ng-bind="vm.selectedSku.skuId ? \'Add to cart\' : \'Select a size\'"></button>\n    </div>\n</div>\n'),e.put("app/components/widgets/stored-card/stored-card.html",'<div class="row stored-card inline-block" ng-click="vm.storedCard.expand = !vm.storedCard.expand">\n    <div class="stored-card-logo inline-block" ng-class="\'icon-account-stored-card-\' + vm.cardFromNumber(vm.storedCard.card_no).icon + \'-bg-color\'">\n        <div class="brand-name" ng-class="\'icon-account-stored-card-\' + vm.cardFromNumber(vm.storedCard.card_no).icon"></div>\n    </div>\n    <div class="stored-card-details inline-block">\n        <div class="card-number inline-block" ng-bind="vm.getCardNumberRegex(vm.storedCard.card_no, vm.storedCard.card_brand)"></div>\n        <div class="inline-block float-right">\n            <div class="icon icon-medium icon-stored-card-expand" ng-class="{\'close-expand\': vm.storedCard.expand}"></div>\n        </div>\n        <div class="row card-name" ng-bind="::vm.storedCard.card_name"></div>\n        <div class="row card-expire"\n             ng-show="vm.storedCard.expiry_month  && vm.storedCard.expiry_year"\n             ng-bind="(vm.storedCard.card_mode == vm.CARD_TYPES.DC ? \'Debit\' : \'Credit\') + \' card expires  on \' + vm.storedCard.expiry_month + \'/\' + (vm.storedCard.expiry_year | limitTo : 2 : 2)"></div>\n    </div>\n    <div class="remove-card-wrapper inline-block clickable" ng-show="vm.storedCard.expand" ng-click="vm.removeSavedCard()">\n        <div class="button-text">Remove</div>\n    </div>\n</div>'),e.put("app/components/widgets/video/video.html",'<div class="video-container" fit-video>\n    <iframe width="100%" height="100%" src="{{vm.link}}" frameborder="0" allowfullscreen></iframe>\n    <div class="ngdialog-close close"></div>\n</div>\n'),e.put("app/sections/account/account-detail/account-detail.html",'<div class="row account-page-wrapper">\n    <div class="large-3 medium-4 small-12 columns" ng-hide="vm.isMobieDevice() && vm.activeMenuPanel">\n        <div class="row account-detail">\n            <div class="account-img-wrapper align-center">\n                <div class="profile-img" ng-show="vm.userInfo.profilePhoto" ng-style="{\'background-image\': \'url(\' + vm.userInfo.profilePhoto + \')\'}"></div>\n                <div class="profile-name" ng-hide="vm.userInfo.profilePhoto" ng-bind="::vm.nameInitial"></div>\n            </div>\n            <div class="account-info">\n                <div class="row name-wrapper align-center" ng-bind="\'Hello \' + vm.userName"></div>\n                <div class="row credit-message align-center" ng-bind="vm.email"></div>\n            </div>\n        </div>\n        <div class="account-notification-info show-for-small-only" ng-show="vm.showCardWrapper">\n            <div class="row notification-heading align-center">Updates\n                <div class="notification-badge inline-block" ng-show="vm.updateCardsCount > 0">\n                    <div class="inline-block" ng-bind="vm.updateCardsCount"></div>\n                </div>\n            </div>\n            <div ng-if="vm.isMobieDevice()">\n                <card-notification update-card-count="vm.updateCardsCount" show-card-wrapper="vm.showCardWrapper"></card-notification>\n            </div>\n        </div>\n        <div class="row user-menu-wrapper">\n            <div class="row each-menu main-menu">\n                <div class="menu-detail-wrapper menu-section">Account</div>\n            </div>\n            <!--Show condition added just to allow-->\n            <!--tab to user who came from moments.hopscotch.in-->\n            <div class="row each-menu" ng-repeat="menu in vm.menu">\n                <a ui-sref="{{menu.state}}" ng-if="menu.state" ng-click="vm.goToMenu(menu, $event)">\n                    <div class="large-3 medium-3 columns menu-img-wrapper ">\n                        <div class="icon icon-medium"\n                             ng-class="vm.$state.includes(menu.state) && !vm.isMobieDevice() ? menu.icon + \'-active\' : menu.icon"></div>\n                    </div>\n                    <div class="large-9 medium-9 columns menu-detail-wrapper" ng-class="{\'active-menu\' : vm.$state.includes(menu.state) && !vm.isMobieDevice()}">\n                        <div class="inline-block" ng-bind="menu.name"></div>\n                        <div class="inline-block float-right credit-tag" ng-bind="vm.credit" ng-show="menu.id == 99"></div>\n                    </div>\n                </a>\n            </div>\n        </div>\n        <div class="row info-section hide-for-small-only">\n            <div class="large-6 medium-6 small-6 columns info-item">\n                <a href="/help">\n                    <div class="row align-center">\n                        <div class="icon icon-medium icon-account-menu-help"></div>\n                    </div>\n                    <div class="row align-center item-name">Help</div>\n                </a>\n            </div>\n            <div class="large-6 medium-6 small-6 columns info-item">\n                <a href="mailto:wecare@hopscotch.in?subject=" target="_top">\n                    <div class="row align-center">\n                        <div class="icon icon-medium icon-account-menu-feedback"></div>\n                    </div>\n                    <div class="row align-center item-name">Feedback</div>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class="large-9 medium-8 columns"\n         ng-class="{\'sm-no-menu\': vm.isMobieDevice() && !vm.activeMenuPanel, \'sm-menu-details\': vm.isMobieDevice() && vm.activeMenuPanel,\n         \'my-moments-page\': vm.$state.current.name == vm.menu[1].state}">\n        <div class="row account-notification-info"\n             ng-class="{\'remove-update-wrapper\': vm.updateCardsCount == 0}"\n             ng-show="vm.showCardWrapper && vm.$state.current.name == vm.menu[0].state && !vm.isMobieDevice()">\n            <div class="row notification-heading">Updates\n                <div class="notification-badge inline-block" ng-show="vm.updateCardsCount > 0">\n                    <div class="badge-count inline-block" ng-bind="vm.updateCardsCount"></div>\n                </div>\n            </div>\n            <div class="row" ng-if="!vm.isMobieDevice()">\n                <card-notification update-card-count="vm.updateCardsCount" show-card-wrapper="vm.showCardWrapper"></card-notification>\n            </div>\n        </div>\n        <div class="row my-details-wrapper">\n            <div class="menu-heading" ng-bind="vm.getMenuName(vm.$state.current.name)"></div>\n            <div class="row" ui-view></div>\n        </div>\n    </div>\n\n</div>'),
e.put("app/sections/account/address-book/address-book.html","<div>Address Book</div>\n<div>Page is under construction</div>"),e.put("app/sections/account/favourite-brand/favourite-brand.html","<div>Page Under construction</div>"),e.put("app/sections/account/order/orders-list.html",'<div class="orders-wrapper">\n\n    <div class="orders-header">\n        <div class="orders-title">All orders</div>\n    </div>\n\n    <div class="orders-list-wrapper">\n        <div class="orders-list-item" ng-repeat="order in vm.orders track by order.orderId">\n            <div class="suborder-shipments" ng-repeat="shipment in ::order.shipments track by shipment.orderId">\n                <a class="clearfix" ui-sref="account.orderDetail({orderId: order.orderId})">\n                    <div class="shipment-status-wrapper">\n                        <div class="shipment-status-symbol icon-medium" ng-class="shipment.classes"></div>\n                        <div class="float-left">\n                            <div class="shipment-status"\n                                 ng-bind="shipment.deliveryMessage.normalMsg + \' \' + shipment.deliveryMessage.blackMsg"></div>\n                            <div class="shipment-items"\n                                 ng-bind="::(shipment.totalOrders > 1 ? shipment.totalOrders + \' items\' : \'1 item\')"></div>\n                        </div>\n                    </div>\n                    <div class="product-list">\n                        <div class="product-image" ng-repeat="product in shipment.products track by product.id">\n                            <img ng-src="{{product.imageUrl}}" alt="">\n                        </div>\n                    </div>\n                </a>\n            </div>\n        </div>\n        <div class="button-block more-order-button-container">\n            <button class="button secondary show-more-products"\n                    ng-class="{\'show-more-order-loading\': vm.loadMoreOrders}"\n                    ng-click="vm.loadOrderLists()"\n                    ng-show="vm.showLoadMore"\n                    ng-disabled="vm.loadingOrders">\n                <div class="text">View more orders</div>\n                <div ng-if="vm.loadingOrders" class="loading">\n                    <!-- Mask of the quarter of circle -->\n                    <div class="mask">\n                        <!-- Inner masked circle -->\n                        <div class="maskedCircle"></div>\n                    </div>\n                </div>\n\n            </button>\n        </div>\n    </div>\n\n    <div class="placeholder-list" ng-show="vm.showPlaceholder">\n        <div class="orders-list-wrapper">\n            <div class="orders-list-item">\n                <div class="suborder-shipments">\n                    <a class="clearfix">\n                        <div class="shipment-status-wrapper">\n                            <div class="shipment-status-symbol icon-medium"></div>\n                            <div class="float-left">\n                                <div class="shipment-status">&nbsp;</div>\n                                <div class="shipment-items">&nbsp;</div>\n                            </div>\n                        </div>\n                        <div class="product-list">\n                            <div class="product-image"></div>\n                            <div class="product-image"></div>\n                        </div>\n                    </a>\n                </div>\n            </div>\n            <div class="orders-list-item">\n                <div class="suborder-shipments">\n                    <a class="clearfix">\n                        <div class="shipment-status-wrapper">\n                            <div class="shipment-status-symbol icon-medium"></div>\n                            <div class="float-left">\n                                <div class="shipment-status">&nbsp;</div>\n                                <div class="shipment-items">&nbsp;</div>\n                            </div>\n                        </div>\n                        <div class="product-list">\n                            <div class="product-image"></div>\n                            <div class="product-image"></div>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="empty-container" ng-show="vm.showEmpty">\n        <div class="icon-2x-large icon-empty-order"></div>\n        <div class="message">\n            <div>Oh... it\'s empty in here</div>\n            <div>Let\'s do some shopping</div>\n        </div>\n        <a class="button secondary small-button" ng-href="/">Shop now</a>\n    </div>\n\n</div>\n'),e.put("app/sections/account/order-detail/order-detail.html",'<div id="order-details-container">\n\n    <div class="medium-12" ng-hide="vm.orderDetail.orderBarCode">\n        <order-detail-loader></order-detail-loader>\n    </div>\n    <!--     NEW ORDER DETAILS    -->\n    <div ng-if="vm.orderDetail.orderBarCode">\n        <div class="order-details-header-wrapper" ng-class="{\'has-notification\': vm.orderDetail.displayType == \'Status bar\' && vm.orderDetail.message}">\n            <div class="order-details-header-container">\n                <div class="row order-no" ng-bind="::(\'Order \'+ vm.orderDetail.orderBarCode)">\n                </div>\n                <div class="row order-detail">\n                    <span ng-bind="::(\'Placed on \' + (vm.orderDetail.orderDate | date:\'MMM dd, yyyy\'))"></span><!--\n                    --><span  class="last" ng-bind="::((vm.orderDetail.totalPayment  | currency:\'&#8377;\':0 ) + \' for \' + (vm.totalItemInOrder > 1 ? vm.totalItemInOrder + \' items\' : \'1 item\') )"></span>\n                </div>\n            </div>\n        </div>\n        <div class="order-level-notification" ng-if="vm.orderDetail.displayType == \'Status bar\' && vm.orderDetail.message" ng-bind="::vm.orderDetail.message"></div>\n        <div class="order-details-body-wrapper clearfix">\n            <div class="small-12 large-9 columns">\n                <div class="row" ng-repeat="shipment in vm.orderDetail.subOrderList track by shipment.orderId">\n                    <div class="order-detail-container">\n                        <div class="row shipment-header">\n                            <div class="small-6 medium-4 columns">\n                                <div class="row title">SHIPMENT {{($index + 1) + \' OF \' + vm.orderDetail.subOrderList.length}}</div>\n                                <div class="row content" ng-bind-html="::shipment.notification.detail"></div>\n                            </div>\n                            <div class="small-6 medium-4 columns">\n                                <div class="margin-left-360">\n                                    <div class="row title">TOTAL</div>\n                                    <div class="row content" ng-bind="::((shipment.shipment.totalAmount | currency:\'&#8377;\':0) +\' for \'+(shipment.totalItems > 1 ? shipment.totalItems + \' items\' : \'1 item\'))"></div>\n                                </div>\n                            </div>\n                            <div class="hide-for-small-only medium-4 columns">\n                                <a ui-sref="orderreturn({orderId: shipment.orderId})"\n                                   class="button secondary float-right shipment-action-button"\n                                   ng-show="shipment.actions.indexOf(\'Return\') > -1">\n                                    Return {{shipment.customerProductResponses.length > 1 ? \'items\' : \'item\'}}\n                                </a>\n                                <a ui-sref="ordercancellation({orderId: shipment.orderId})"\n                                   class="button secondary float-right shipment-action-button"\n                                   ng-show="shipment.actions.indexOf(\'Cancel\') > -1">\n                                    Cancel {{shipment.customerProductResponses.length > 1 ? \'items\' : \'item\'}}\n                                </a>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="shipment-notification"\n                                  ng-show="vm.orderDetail.payMethod == \'COD\' && shipment.milestoneV2.code == \'SD\' && shipment.shipment.payAmount"><!--\n                                --><span class="cod-icon"><span class="icon-medium icon-pay-cod"></span></span><!--\n                                --><span class="cod-text"\n                                      ng-bind="\'Please pay \'+ (shipment.shipment.payAmount | currency:\'₹\' : 0) + \' to the delivery agent\'"></span>\n                            </div>\n                            <div class="shipment-notification bank-refund-info"\n                                 ng-show="(shipment.payMethod == \'POL\' && shipment.milestoneV2.code == \'CD\' && shipment.refundMessage)"><!--\n                                --><span class="cod-icon"><span class="icon-medium icon-tracking-milestone-rf"></span></span><!--\n                                --><span class="cod-text"\n                                         ng-bind="shipment.refundMessage"></span>\n                            </div>\n                        </div>\n                        <div class="item-list-wrapper">\n                            <div class="row" ng-repeat="product in shipment.customerProductResponses track by product.sku">\n                                <order-detail-item product="product" border-top="$index == 0" border-bottom="$index == (shipment.customerProductResponses.length - 1)" on-track-item="vm.trackItem(product.itemId, product.imgUrl)" is-delayed="shipment.notification.detail.toLowerCase().indexOf(\'delay\') > -1"></order-detail-item>\n                            </div>\n                            <div class="row show-for-small-only">\n                                <a ui-sref="orderreturn({orderId: shipment.orderId})"\n                                   class="button tertiary small-shipment-action-button"\n                                   ng-show="shipment.actions.indexOf(\'Return\') > -1">\n                                    Return {{shipment.customerProductResponses.length > 1 ? \'items\' : \'item\'}}\n                                </a>\n                                <a ui-sref="ordercancellation({orderId: shipment.orderId})"\n                                   class="button tertiary small-shipment-action-button"\n                                   ng-show="shipment.actions.indexOf(\'Cancel\') > -1">\n                                    Cancel {{shipment.customerProductResponses.length > 1 ? \'items\' : \'item\'}}\n                                </a>\n\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="small-12 large-3 columns">\n                <div class="address-detail-container">\n                    <div class="row heading">\n                        <div class="title">SHIPPING ADDRESS</div>\n                        <div class="content"></div>\n                    </div>\n                    <div class="row summary-box address-details">\n                        <div class="row shipment-address-name">\n                            <div ng-bind="vm.orderDetail.shipToFirstName +\' \'+ vm.orderDetail.shipToLastName"></div>\n                            <div ng-bind="\'+91 \' + vm.orderDetail.shipToPhone"></div>\n                        </div>\n                        <div class="row summary-box-divider"></div>\n                        <div class="row shipment-address-details">\n                            <div ng-bind="vm.orderDetail.shipToAddress"></div>\n                            <div ng-bind="vm.orderDetail.shipToLandmark"></div>\n                            <div ng-bind="vm.orderDetail.shipToCity + \' \' + vm.orderDetail.shipToZipCode"></div>\n                        </div>\n\n                    </div>\n                    <div class="row heading">\n                        <div class="title">PAYMENT SUMMARY</div>\n                        <div class="content"></div>\n                    </div>\n                    <div class="row summary-box payment">\n                        <div class="row line-item">\n                            <span class="float-left inline-block">Total item price</span>\n                            <span class="float-right inline-block" ng-bind="::(vm.orderDetail.totalItemPrice | currency:\'&#8377;\':0)"></span>\n                        </div>\n                        <div class="row line-item" ng-if="vm.orderDetail.totalDiscount > 0">\n                            <span class="float-left inline-block">Discount</span>\n                            <span class="float-right inline-block"\n                                  ng-bind="\'- \' + (vm.orderDetail.totalDiscount | currency:\'&#8377;\':0)"></span>\n                        </div>\n                        <div class="row line-item" ng-repeat="promo in vm.orderDetail.orderPromotions">\n                            <span class="float-left inline-block" ng-bind="::(\'Promo: \' + promo.promotionCode)"></span>\n                            <span class="float-right inline-block"\n                                  ng-bind="\'- \' + (promo.discount | currency:\'&#8377;\':0)"></span>\n                        </div>\n                        <div class="row line-item">\n                            <span class="float-left inline-block">Shipping</span>\n                            <span class="float-right inline-block"\n                                  ng-bind="::(vm.orderDetail.postage ? (vm.orderDetail.postage | currency:\'&#8377;\':0) : \'FREE\')"></span>\n                        </div>\n                        <div class="row bold line-item">\n                            <span class="float-left inline-block">Total</span>\n                            <span class="float-right inline-block"\n                                  ng-bind="::(vm.orderDetail.totalPayment | currency:\'&#8377;\':0)"></span>\n                        </div>\n                        <div class="row bold line-item positive" ng-if="vm.orderDetail.totalRefund">\n                            <span class="float-left inline-block">Total refund</span>\n                            <span class="float-right inline-block"\n                                  ng-bind="::(vm.orderDetail.totalRefund | currency:\'&#8377;\':0)"></span>\n                        </div>\n                        <div class="summary-box-divider"></div>\n                        <div class="row sub-heading">\n                            PAYMENT MODE\n                        </div>\n                        <div class="row line-item" ng-if="vm.orderDetail.totalCreditsUsed > 0">\n                            <span class="float-left inline-block">Credits</span>\n                            <span class="float-right inline-block"\n                                  ng-bind="::(vm.orderDetail.totalCreditsUsed | currency:\'&#8377;\':0)"></span>\n                        </div>\n                        <div class="row line-item" ng-if="vm.orderDetail.payMethod != \'OWP\'" ng-repeat="(key, value) in vm.orderDetail.paymentDetail">\n                            <div class="small-12 columns">\n                                <span class="float-left inline-block" ng-bind="key"></span>\n                                <span class="float-right inline-block"\n                                      ng-bind="::(value | currency:\'&#8377;\':0)"></span>\n                            </div>\n                            <div class="small-12 columns">\n                                <div class="cash-due-bar" ng-if="vm.orderDetail.cashDue || vm.orderDetail.cashPaid">\n                                    <div class="cash-bar due"\n                                         ng-show="vm.orderDetail.cashDue"\n                                         ng-class="{\'no-cash-paid-due\': !vm.orderDetail.cashPaid}">\n                                        <span ng-show="!vm.orderDetail.cashPaid" ng-bind="::((vm.orderDetail.cashDue | currency:\'&#8377;\':0) + \' due\')"></span>\n                                    </div>\n                                    <div class="cash-bar paid"\n                                         ng-show="vm.orderDetail.cashPaid"\n                                         ng-class="{\'no-cash-paid-due\': !vm.orderDetail.cashDue}"\n                                         ng-style="{\'min-width\': (vm.orderDetail.cashPaid / (vm.orderDetail.cashPaid + vm.orderDetail.cashDue) * 100) + \'%\'}"\n                                         ng-bind="::((vm.orderDetail.cashPaid | currency:\'&#8377;\':0) + \' paid\')"></div>\n                                    <div class="cash-bar cash-text-bar">\n                                        <span class="cash-due-text"\n                                              ng-show="vm.orderDetail.cashDue && vm.orderDetail.cashPaid"\n                                              ng-bind="::((vm.orderDetail.cashDue | currency:\'&#8377;\':0) + \' due\')"></span>\n                                        <span class="icon-16 icon-checkmark"\n                                              ng-hide="vm.orderDetail.cashDue"></span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row summary-box contact-cc">\n                        <div class="cc-icon"></div>\n                        <div class="need-help">Need help with this order?</div>\n                        <a href="/help#shipping"><div class="email">Visit our help center</div></a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!--     NEW ORDER DETAILS    END-->\n\n</div>'),e.put("app/sections/account/order-track/order-track.html",'<div class="order-track ">\n    <div class="">\n        <span class="icon icon-dismiss modal-close" ng-click="vm.closeOrderTrackModal()">\n        </span>\n    </div>\n    <div class="image-wrapper">\n        <div class="order-image-wrapper">\n            <div class="image-holder">\n                <img ng-src="{{vm.baseData.imgUrl}}"/>\n            </div>\n        </div>\n        <div class="msg-wrapper">\n            <div class="loading-state" ng-show="vm.loading.orderTrackSummary">\n                <div class="loading-summary"></div>\n            </div>\n            <div ng-hide="vm.loading.orderTrackSummary">\n                <div ng-if="vm.orderTrackingData.trackingStatus == \'Delayed\'">\n                    <div class="delay-label" ng-click="vm.showOrderDetailMsg = !vm.showOrderDetailMsg">Delayed\n                        <span class="icon icon-small " ng-if="vm.orderTrackingData.notification.description" ng-class="{\'icon-angle-down\' : !vm.showOrderDetailMsg, \'icon-angle-up\': vm.showOrderDetailMsg}"></span>\n                    </div>\n                    <div class="delay-message" ng-if="vm.showOrderDetailMsg && vm.orderTrackingData.notification.description" ng-bind="vm.orderTrackingData.notification.description"></div>\n                </div>\n                <div ng-if="vm.orderTrackingData.trackingStatus != \'Delayed\'">\n                    <span class="heading-msg" ng-bind="vm.orderTrackingData.notification.detail"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-hide="vm.loading.orderTrackData" class="order-tracking-wrapper">\n        <div class="order-track-container">\n            <div class="order-track-info hide-for-small-only">\n                <div class="order-track-milestone-wrapper">\n                    <div class="each-milestone"\n                         ng-repeat="milestone in vm.orderTrackingData.milestones"\n                         ng-click="vm.showMilestoneLog($index, false)"\n                         ng-class="{\'active-milestone\': milestone.presentMilestone,\n                                \'fixed-milestone\': $first || $last,\n                                \'disabled-milestone\': $index > vm.activeMilestoneIndex}">\n                        <div class="milestone-wrapper">\n                            <div class="milestone-connector-left"\n                                 ng-style="vm.connectorStyle"\n                                 ng-class="{\'hide-connector\': $first, \'disabled-connector\': $index > vm.activeMilestoneIndex}">\n                            </div>\n                            <div class="milestone" ng-class="{\'disabled-milestone\': $index > vm.activeMilestoneIndex}">\n                                <span class="sticky-icon-wrapper">\n                                    <span class="icon icon-18" ng-if="milestone.presentMilestone" ng-class="vm.getMilestoneIconClass(milestone)"></span>\n                                    <span class="icon icon-18" ng-if="!milestone.presentMilestone" ng-class="vm.getMilestoneIconClass(milestone)"></span>\n                                </span>\n                            </div>\n                            <div class="milestone-connector-right"\n                                 ng-style="vm.connectorStyle"\n                                 ng-class="{\'hide-connector\': $last, \'disabled-connector\': $index >= vm.activeMilestoneIndex}">\n                            </div>\n                        </div>\n                        <div class="milestone-details-wrapper">\n                            <span class="milestone-text" ng-bind="::milestone.name"></span>\n                        </div>\n                        <div class="milestone-log-icon-wrapper" ng-if="milestone.presentMilestone">\n                            <div class="active-milestone">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="show-for-small-only milestones-container">\n                <!--<div class="sm-milestone-wrapper"-->\n                <!--id="mobileMilestoneWrapperId"-->\n                <!--milestone-scroll-dir-->\n                <!--milestone-details="vm.connectorStyle"-->\n                <!--activate-milestone-fn="vm.showMilestoneDetailsMobileScroll(index, onLoadBoolVal, firstLoad)">-->\n                <div class="sm-milestone-wrapper" id="mobileMilestoneWrapperId" ng-style="vm.milestoneScrollStyle">\n                    <div class="each-milestone dummy-milestone">\n                        <div class="milestone-wrapper">\n                            <div class="milestone-connector-left"\n                                 ng-style="vm.connectorStyle"></div>\n                            <div class="milestone">\n                            </div>\n                            <div class="milestone-connector-right"\n                                 ng-style="vm.connectorStyle">\n                            </div>\n                        </div>\n                    </div>\n                    <div class="each-milestone"\n                         ng-repeat="milestone in vm.orderTrackingData.milestones"\n                         ng-click="vm.showMilestoneDetailsMobile($index, false)"\n                         ng-class="{\'active-milestone\': milestone.presentMilestone,\n                                \'fixed-milestone-mobile\': $first || $last,\n                                \'disabled-milestone\': $index > vm.activeMilestoneIndex}">\n                        <div class="milestone-wrapper">\n                            <div class="milestone-connector-left"\n                                 ng-style="vm.connectorStyle"\n                                 ng-class="{\'hide-connector\': $first, \'disabled-connector\': $index > vm.activeMilestoneIndex}"></div>\n                            <div class="milestone" ng-class="{\'disabled-milestone\': $index > vm.activeMilestoneIndex}">\n                                <span class="sticky-icon-wrapper">\n                                    <span class="icon icon-18" ng-if="milestone.presentMilestone" ng-class="vm.getMilestoneIconClass(milestone)"></span>\n                                    <span class="icon icon-18" ng-if="!milestone.presentMilestone" ng-class="vm.getMilestoneIconClass(milestone)"></span>\n                                </span>\n                            </div>\n                            <div class="milestone-connector-right"\n                                 ng-style="vm.connectorStyle"\n                                 ng-class="{\'disabled-connector\': $index >= vm.activeMilestoneIndex, \'hide-connector\': $last}">\n                            </div>\n                        </div>\n                        <div class="milestone-details-wrapper">\n                            <span class="milestone-text" ng-bind="::milestone.name"></span>\n                        </div>\n                        <div class="milestone-log-icon-wrapper hide-for-small-only" ng-if="milestone.presentMilestone">\n                            <div class="active-milestone"></div>\n                        </div>\n                    </div>\n                    <div class="each-milestone dummy-milestone">\n                        <div class="milestone-wrapper">\n                            <div class="milestone-connector-left"\n                                 ng-style="vm.connectorStyle"></div>\n                            <div class="milestone">\n                            </div>\n                            <div class="milestone-connector-right"\n                                 ng-style="vm.connectorStyle">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="milestone-log-icon-mobile-wrapper show-for-small-only">\n            <div class="active-milestone"></div>\n        </div>\n        <div class="milestone-logs-wrapper"\n             ng-class="{\'expand-log-view\': vm.expandLogs, \'single-log-holder\': vm.currentLogs.length <= 2 || vm.currentLogs.length == 0}">\n            <div class="medium-12 small-12 columns" ng-show="vm.currentLogs.length > 0">\n                <div class="medium-12 small-12 columns each-log"\n                     ng-repeat="log in vm.currentLogs"\n                     ng-class="{\'last-item\': $last, \'first-item\': $first}">\n                    <div class="medium-4 small-4 columns milestone-date-wrapper columns">\n                        <span class="small-12 medium-7 columns milestone-date"\n                              ng-bind="::(log.date | date: \'EEE, dd MMM \')"></span>\n                            <span class="small-12 medium-5 columns milestone-time" ng-bind="::(log.date | date: \'h:mm a\' | lowercase)"></span>\n                    </div>\n                    <div class="medium-5 small-8 columns milestone-log" ng-bind="log.remark"></div>\n                    <div class="medium-2 small-4 columns milestone-location end" ng-bind="log.location | uppercase"></div>\n                </div>\n            </div>\n            <div class="medium-12 small-12 columns each-log first-item" ng-hide="vm.currentLogs.length > 0">\n                <div class="milestone-empty-log" ng-bind="vm.emptyLogRemarks"></div>\n            </div>\n        </div>\n        <div class="logs-more-main" ng-if="!vm.expandLogs && vm.currentLogs.length > 2">\n            <div class="logs-more-wrapper">\n                <div class="view-more-overlay"></div>\n                <div class="view-more" ng-click="vm.expandLogs = true;">View more\n                    <span class="icon icon-small icon-angle-down"></span>\n                </div>\n            </div>\n        </div>\n        <div class="logs-less-main" ng-if="vm.expandLogs && vm.currentLogs.length > 2">\n            <div class="logs-less-wrapper" >\n                <div class="view-less" ng-click="vm.expandLogs = false;">View less\n                    <span class="icon icon-small icon-angle-up"></span>\n                </div>\n            </div>\n        </div>\n        <div class="order-details-wrapper" ng-if="vm.orderTrackingData.trackingNo && vm.orderTrackingData.trackingCompanyName">\n            <span class="awb-details">\n                <span ng-bind="::(\'AWB No \' + vm.orderTrackingData.trackingNo)"></span>\n            </span>\n            <span class="track-link">\n                <span ng-if="vm.orderTrackingData.linkToCourierPartner">\n                    <a href="{{vm.orderTrackingData.linkToCourierPartner}}" target="_blank">\n                        <span ng-bind="\'Track on \' + vm.orderTrackingData.trackingCompanyName"></span>\n                    </a>\n                </span>\n                <span ng-if="!vm.orderTrackingData.linkToCourierPartner">\n                    <span ng-bind="vm.orderTrackingData.trackingCompanyName"></span>\n                </span>\n            </span>\n        </div>\n        <div class="shipment-divider" ng-show="vm.orderTrackingData.otherShipmentItems.length"></div>\n        <div class="order-shipments-wrapper" ng-show="vm.orderTrackingData.otherShipmentItems.length">\n            <div class="shipment-title">\n                <span>Other items in this shipment</span>\n            </div>\n            <div class="trendings other-shipment">\n                <div class="groups-wrapper">\n                    <div class="groups groups-0  shipment-wrapper">\n                        <div class="inline-group-wrapper inline-group-wrapper-0">\n                            <div class="inline-group other-shipment-item"\n                                 ng-click="vm.trackShipment($index)"\n                                 ng-repeat="otherShipment in vm.orderTrackingData.otherShipmentItems">\n                                <div class="product link">\n                                    <div class="image shipment-item-img" ng-style="{ \'background-image\' :\'url({{::otherShipment.imgUrl}})\'}"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-if="vm.loadScroller">\n                        <div class="scroller-wrapper scroller-wrapper-left out show-for-large" ng-show="vm.showScroller.left">\n                            <div class="scroller scroller-left" scroller parent="\'.trendings .groups-0\'"\n                                 child="\'.trendings .inline-group-wrapper-0\'" fraction="0.3"\n                                 show-scroller="vm.showScroller"></div>\n                        </div>\n                        <div class="scroller-wrapper scroller-wrapper-right out show-for-large" ng-show="vm.showScroller.right">\n                            <div class="scroller scroller-right" scroller parent="\'.trendings .groups-0\'"\n                                 child="\'.trendings .inline-group-wrapper-0\'" fraction="0.3"\n                                 show-scroller="vm.showScroller"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="data-loading" ng-show="vm.loading.orderTrackData">\n        <div class="loading-container">\n            <div class="loading">\n                <!-- Mask of the quarter of circle -->\n                <div class="mask">\n                    <!-- Inner masked circle -->\n                    <div class="maskedCircle"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n'),e.put("app/sections/account/personal-detail/personal-detail.html","<div>Personal page</div>\n<div>Page is under construction</div>"),e.put("app/sections/account/stored-card/stored-card.html",'<div class="stored-card-wrapper" ng-hide="vm.loading">\n    <div class="stored-card-heading" ng-show="vm.defaultCard">DEFAULT CARD</div>\n    <stored-card-component ng-show="vm.defaultCard" stored-card="vm.defaultCard" update-cb="vm.getStoredCard();"></stored-card-component>\n    <div class="stored-card-heading other-card" ng-show="vm.storedCards.length > 1">OTHER CARDS</div>\n    <div class="inline-block each-stored-card" ng-repeat="storedCard in vm.storedCards"  ng-show="vm.storedCards.length > 1">\n        <stored-card-component stored-card="storedCard" ng-hide="$first" update-cb="vm.getStoredCard();"></stored-card-component>\n    </div>\n    <div class="add-stored-card clickable hide-for-small-only" ng-hide="vm.addNewCard" ng-click="vm.addNewCardFn()">\n        <div class="inline-block">\n            <div class="icon icon-small icon-plus"></div>\n        </div>\n        <div class="inline-block add-card-heading">Add a new card</div>\n    </div>\n    <div class="row show-for-small-only" ng-hide="vm.addNewCard">\n        <button class="button secondary" ng-click="vm.addNewCardFn()">\n            <div class="inline-block add-card-heading"> + Add a new card</div>\n        </button>\n    </div>\n    <div class="new-card-panel" ng-if="vm.addNewCard">\n        <div class="row">\n            <div class="heading inline-block">New card</div>\n            <div class="icon icon-medium icon-dismiss-v2 float-right" ng-click="vm.addNewCard = false;"></div>\n            <form ng-model="vm.paymentDetails" name="vm.creditCardForm" validate-card novalidate autocomplete="off">\n                <div class="row">\n                    <div class="group">\n                        <input type="text" name="cardnumber" required\n                               class="round" format-card\n                               autofocus\n                               ng-model="vm.paymentDetails.ccnum">\n                        <label>Card number</label>\n                        <span class="payment-icon" ng-class="\'icon-payment-card icon-\' + vm.paymentDetails.icon"></span>\n                    </div>\n                    <div class="small-12 columns">\n                        <div ng-hide="vm.paymentDetails.valid" ng-if=\'vm.creditCardForm.cardnumber.$touched\'>\n                            <div class="error-message">Invalid card number.</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="group">\n                        <input type="text" ng-pattern="/^[a-zA-Z ]{1,25}$/" name="cardname" required class="round" ng-model="vm.paymentDetails.ccname">\n                        <label>Name on card</label>\n                    </div>\n                    <div class="small-12 columns">\n                        <div ng-show=\'vm.creditCardForm.cardname.$error.pattern\'>\n                            <div class="error-message" >Enter a valid name.</div>\n                        </div>\n                        <div ng-messages="vm.creditCardForm.cardname.$error"  ng-if=\'vm.creditCardForm.cardname.$touched\'>\n                            <div class="error-message" ng-message="required">Enter name.</div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="small-12 columns">\n                        <div class="row">\n                            <div class="small-6 columns card-expiry-date-holder">\n                                <div class="group">\n                                    <input type="tel" name="expiry" maxlength="5" required class="round"\n                                           ng-model="vm.paymentDetails.expiryDetail"\n                                           format-expiry>\n                                    <label>Expiry MM/YY</label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div ng-if=\'vm.creditCardForm.expiry.$touched\'>\n                                <div class="error-message" ng-show="vm.paymentDetails.expiryDetail.length && vm.creditCardForm.expiry.$error.validExpiry">Invalid expiry details.</div>\n                                <div class="error-message" ng-hide="vm.paymentDetails.expiryDetail.length">Enter card expiry details.</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row clickable no-margin">\n                    <div class="add-card-button" ng-click="vm.saveCard()">Add card</div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n<div class="cart-loader-overlay stored-card-overlay" ng-show="vm.loading">\n    <div>\n        <div class=\'cart-spinner\'>\n            <div class=\'spinner\'>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),
e.put("app/sections/cancellation/cancellable-list/cancellable-list.html",'<div class="scrollable scrollable-cancellation-list-view non-stackable">\n    <div class="row cancellable-list-heading">\n        <div class="small-offset-1 small-11">\n            <h2>Select items for cancellation</h2>\n        </div>\n    </div>\n\n    <div ng-repeat="item in vm.cancellationData.cancellableOrderItems">\n        <cancellable-item item="item" on-item-update="vm.updateRefundData()"></cancellable-item>\n    </div>\n</div>\n\n\n<div class="fixed-bottom"\n     ng-hide="vm.listStep.inactive">\n    <div class="payment-amount">\n        <div class="row">\n            <span class="float-left" ng-show="vm.cancellationData.cancelItemCount" ng-bind="vm.cancellationData.cancelItemCount + \' item\' + (vm.cancellationData.cancelItemCount > 1 ? \'s\' : \'\') + \' selected\'"></span>\n            <span class="float-left" ng-hide="vm.cancellationData.cancelItemCount"> No item selected</span>\n            <span class="float-right" ng-show="vm.cancellationData.cancelItemCount" ng-bind="vm.cancellationData.totalRefund | currency:\'&#8377;\':0"></span>\n        </div>\n    </div>\n    <button class="button primary order-now sticky-button"\n            ng-click="vm.setStepClasses(vm.VIEW_NAMES.REASON)"\n            ng-disabled="!vm.cancellationData.cancelItemCount">\n        Proceed to reason\n    </button>\n</div>\n\n\n<div class="inactive-overlay non-stackable" ng-show="vm.listStep.inactive && !vm.loading">\n    <div class="edit-checkout-button-container" ng-hide="vm.cancellingOrder">\n        <button class="button " ng-click="vm.goToStep(\'list\')">Edit</button>\n    </div>\n</div>'),e.put("app/sections/cancellation/reason/reason.html",'<div class="reason scrollable scrollable-cancellation-view non-stackable">\n    <div class="payment-modes panel" ng-hide="vm.loading">\n        <div class="row heading">\n            <div class="small-offset-1 small-11">\n                <h2>Why are you cancelling these items?</h2>\n            </div>\n        </div>\n        <div ng-repeat="reason in vm.cancellationData.cancellationReasons">\n            <div class="mode">\n                <label for="{{\'reason\' + $index}}" class="mode-name">\n                    <input type="radio" name="reason"\n                           id="{{\'reason\' + $index}}" class="hs-radio"\n                           ng-value="reason"\n                           ng-model="vm.cancellationReasonData"\n                           ng-change="vm.changeReason()">\n                    <span class="icon"></span>\n                    <span class="content" ng-class="{\'last\': $last}" ng-bind="reason.description"></span>\n                </label>\n            </div>\n            <div class="mode-form small-12" ng-if="reason.description.toLowerCase() == \'others\'" ng-show="vm.cancellationReasonData.description.toLowerCase() == \'others\'">\n                <div class="group">\n                    <textarea ng-model="vm.otherCancellationReason" rows="4"></textarea>\n                    <label>Add your comment</label>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="fixed-bottom"\n     ng-hide="vm.reasonStep.inactive">\n    <button class="button primary order-now sticky-button"\n            ng-show="vm.cancellationReasonData.description.toLowerCase() == \'others\'"\n            ng-click="vm.setStepClasses(vm.VIEW_NAMES.REFUND)"\n            ng-disabled="!(vm.cancellationReasonData && vm.otherCancellationReason && vm.cancellationData.cancelItemCount)">\n        Proceed to refund\n    </button>\n    <button class="button primary order-now sticky-button"\n            ng-show="vm.cancellationReasonData.description.toLowerCase() != \'others\'"\n            ng-click="vm.setStepClasses(vm.VIEW_NAMES.REFUND)"\n            ng-disabled="!(vm.cancellationReasonData && vm.cancellationData.cancelItemCount)">\n        Proceed to refund\n    </button>\n</div>\n\n<div class="inactive-overlay non-stackable" ng-show="vm.reasonStep.inactive && !vm.loading">\n    <div class="edit-checkout-button-container" ng-show="vm.reasonStep.done && !vm.cancellingOrder">\n        <button class="button " ng-click="vm.goToStep(\'reason\')">Edit</button>\n    </div>\n</div>'),e.put("app/sections/cancellation/refund/refund.html",'<div class="refund scrollable scrollable-cancellation-view non-stackable">\n    <!--<div class="shipping-fee-info small-text" ng-bind="vm.cancellationData.shippingFeeInfo"></div>-->\n\n    <div class="select-cancellable-item" ng-hide="vm.cancellationData.cancelItemCount">\n        <div class="text-center">\n            <div class="alert-icons-large cancel-empty-state"></div>\n            <div class="title">\n                <h2>Waiting for item selection</h2>\n            </div>\n        </div>\n    </div>\n\n    <div ng-show="vm.cancellationData.cancelItemCount">\n        <div class="payment-overview panel overview-small">\n            <div class="title">\n                <div class="row" ng-show="!vm.loading && vm.cancellationData.cancelItemCount">\n                    <div class="small-offset-1 medium-offset-1 small-11 medium-11 columns">\n                        <h2 class="pay-title-holder">\n                            <span class="section-title" ng-bind="\'You are cancelling \' + vm.cancellationData.cancelItemCount + \' item\' + (vm.cancellationData.cancelItemCount >1 ? \'s\' : \'\') "></span>\n                        </h2>\n                    </div>\n                    <!--<div class="small-4 medium-4 columns payment-expand-icon">\n                        <span class="icon-small action-link"\n                              ng-class="{\'icon-angle-down\': !vm.isSummaryOpen, \'icon-angle-up\': vm.isSummaryOpen}">\n                        </span>\n                    </div>-->\n                </div>\n            </div>\n        </div>\n\n        <div class="overview-panel panel" ng-show="!vm.cancellationData.totalRefund">\n            <div class="row">\n                <div class="small-1 medium-1 columns">\n                    <div class="overview-icon">\n                        <span class="icon-medium icon-refund-grey"></span>\n                    </div>\n                </div>\n                <div class="small-11 medium-11 columns">\n                    <div class="overview-detail last">\n                        <span class="overview-title">No refund applicable</span>\n                        <span class="overview-summary">Cash on delivery was the payment method chosen for this order.</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="refund-credits panel overview-small" ng-show="vm.cancellationData.totalRefund">\n            <div class="row">\n                <div class="credit-icon">\n                    <span class="icon-medium icon-refund"></span>\n                </div>\n                <div class="credit-detail" ng-class="{\'last\': !vm.cancellationData.refundCredits}">\n                    <span class="credit-title">Your refund amount is </span>\n                    <span class="credit-title positive" ng-bind="vm.cancellationData.totalRefund | currency:\'&#8377;\':0"></span>\n                </div>\n            </div>\n            <div class="row" ng-show="vm.cancellationData.refundCredits">\n                <div class="credit-icon">\n                    <span class="icon-medium invisible"></span>\n                </div>\n                <div class="credit-detail last">\n                    <span class="credit-title" ng-bind="(vm.cancellationData.refundCredits | currency:\'&#8377;\':0) + \' credits\'"></span>\n                    <span class="credit-summary">Will be refunded to your account instantly</span>\n                </div>\n            </div>\n        </div>\n\n        <div class="choose-address panel" ng-show="vm.cancellationData.refundModes.length">\n            <h2>How would you like your remaining <span ng-bind="(vm.cancellationData.refundAmount | currency:\'&#8377;\':0)"></span> refund?</h2>\n            <div class="address" ng-repeat="mode in vm.cancellationData.refundModes" ng-class="{active: vm.cancellationRefundMode == mode.refundType}">\n                <div class="details">\n                    <div class="row">\n                        <div class="small-1 medium-1 columns">\n                            <label for="{{mode.refundType}}">\n                                <input type="radio" name="refundType"\n                                       class="hs-radio" id="{{mode.refundType}}"\n                                       ng-value="mode.refundType"\n                                       ng-model="vm.cancellationRefundMode">\n                                <span class="selected-address-checkbox"></span>\n                            </label>\n                        </div>\n                        <div class="small-11 medium-11 columns">\n                            <label for="{{mode.refundType}}">\n                                <div class="name" ng-bind="mode.refundTitle"></div>\n                                <div class="address-detail">\n                                    <span ng-bind="mode.information"></span>\n                                </div>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="fixed-bottom"\n     ng-hide="vm.refundStep.inactive">\n    <button class="button order-now primary sticky-button"\n            ng-show="!vm.loading && vm.cancellationData.refundModes.length"\n            ng-click="vm.cancelOrder()"\n            ng-disabled="!(vm.cancellationRefundMode && vm.cancellationReasonData && vm.cancellationData.cancelItemCount) || vm.cancellingOrder">\n        Confirm cancellation\n    </button>\n    <button class="button order-now primary sticky-button"\n            ng-hide="vm.loading || vm.cancellationData.refundModes.length"\n            ng-click="vm.cancelOrder()"\n            ng-disabled="!(vm.cancellationReasonData && vm.cancellationData.cancelItemCount) || vm.cancellingOrder">\n        Confirm cancellation\n    </button>\n</div>\n\n<div class="inactive-overlay non-stackable" ng-show="vm.refundStep.inactive">\n</div>\n'),e.put("app/sections/checkout/delivery/delivery.html",'<div class="checkout right-divider" ng-class="{inactive: vm.inactivePane()}">\n    <div class="scrollable scrollable-delivery-address non-stackable">\n        <div ng-hide="vm.loading" id="addressList">\n            <div class="new-address panel" ng-if="vm.upsertAddress || vm.noAddress">\n                <div class="row">\n                    <div class="small-10 columns">\n                        <h2 ng-bind="vm.upsertTitle"></h2>\n                    </div>\n                    <div class="small-2 columns">\n                        <div class="close" ng-click="vm.closeUpsertForm()" ng-if="vm.addressList.length > 0">\n                            <span class="icon icon-dismiss modal-close"></span>\n                        </div>\n                    </div>\n                </div>\n\n                <form name="vm.form.upsertAddressForm" autocomplete="on">\n                    <div class="row">\n                        <div class="group">\n                            <input type="text" required class="round" ng-model="vm.addressForm.shipToName" name="name" autocomplete="name">\n                            <label>Full name</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="tel"\n                                   required name="zipCode"\n                                   autocomplete="pincode zipCode zipcode"\n                                   format-zipcode\n                                   class="round"\n                                   maxlength="7"\n                                   ng-model="vm.addressForm.zipCode"\n                                   ng-blur="vm.checkPincode(vm.addressForm.zipCode)">\n                            <span class="icon-medium icon-pincode-error" ng-show=\'vm.addressForm.pincodeError\'></span>\n                            <label>Pincode</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div ng-show=\'vm.addressForm.pincodeError\'>\n                            <div class="error-message" ng-bind="vm.addressForm.pincodeErrorMsg"></div>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <textarea type="text" required class="round" rows="3" ng-model="vm.addressForm.streetAddress" name="street-address" autocomplete="street-address"></textarea>\n                            <label>Address</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="text" class="round" ng-model="vm.addressForm.landmark" name="landmark" autocomplete="landmark">\n                            <label>Landmark (optional)</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="small-6 columns half-input">\n                            <div class="group">\n                                <input type="text" required class="round" ng-model="vm.addressForm.city"\n                                       ng-disabled="vm.isZipcodeValid" name="city" autocomplete="on">\n                                <label>City</label>\n                            </div>\n                        </div>\n                        <div class="small-6 columns half-input">\n                            <div class="group">\n                                <input type="text" required class="round" ng-model="vm.addressForm.state"\n                                       ng-disabled="vm.isZipcodeValid" name="state" autocomplete="region">\n                                <label>State</label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="tel" format-phone required class="round" ng-model="vm.addressForm.cellPhone" maxlength="11" name="phone" autocomplete="tel">\n                            <label>10 digit mobile number</label>\n                        </div>\n                        <div class="small-12 columns" ng-show="vm.incorrectPhone">\n                            <div class="error-message">Please enter correct phone number</div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n            <div class="choose-address panel" ng-hide="vm.upsertAddress || vm.noAddress">\n                <h2>Select a delivery address</h2>\n\n                <div class="address" ng-repeat="address in vm.addressList" ng-class="{active: address.id == vm.selectedAddressId}">\n                    <div class="details">\n                        <div class="row">\n                            <div class="small-1 medium-1 columns">\n                                <label for="{{address.id}}">\n                                    <input type="radio" name="active-address"\n                                           class="hs-radio" id="{{address.id}}"\n                                           ng-model="vm.selectedAddressId"\n                                           ng-change="vm.CartService.setPrimaryAddress(address)"\n                                           ng-value="address.id">\n                                    <span class="selected-address-checkbox"></span>\n                                </label>\n                            </div>\n                            <div class="small-9 medium-9 columns">\n                                <label for="{{address.id}}">\n                                    <div class="name" ng-bind="address.name"></div>\n                                    <div class="phone" ng-bind="address.cellPhone"></div>\n                                    <div class="address-detail">\n                                        <span ng-bind="address.simpleStreetAddress"></span>\n                                        <span ng-bind="address.landmark"></span>\n                                        <span ng-bind="address.city + \', \' + address.zipCode"></span>\n                                        <span ng-bind="address.state + \', \' + address.country"></span>\n                                    </div>\n                                </label>\n                            </div>\n                            <div class="small-2 medium-2 columns">\n                                <div class="row" ng-show="vm.selectedAddressId == address.id">\n                                    <div class="small-12 column">\n                                        <span class="edit-user-address" ng-click="vm.editAddress(address, $index)">Edit</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="add-new-address">\n                    <button class="button tertiary" ng-click="vm.addNewAddress()">+ Add new address</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-show="!vm.inactivePane() && vm.loading" class="address panel scrollable scrollable-delivery-address">\n        <div class="details">\n            <div class="row">\n                <div class="loader upsert-title"></div>\n            </div>\n            <div class="row">\n                <div class="small-1 medium-1 columns">\n                    <span class="loader radio"></span>\n                </div>\n                <div class="small-11 medium-11 columns">\n                    <div class="loader name"></div>\n                    <div class="loader phone"></div>\n                    <div class="address-detail">\n                        <span class="loader street"></span>\n                        <span class="loader landmark"></span>\n                        <span class="loader state"></span> <span class="loader country"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="fixed-bottom non-stackable"\n         ng-hide="vm.inactivePane() || vm.loading">\n        <button class="button primary order-now sticky-button"\n                ng-hide="vm.upsertAddress || vm.noAddress"\n                ng-disabled="vm.processingDelivery || !vm.selectedAddressId || !vm.CartService.getPrimaryAddress().isServicable"\n                ng-click="vm.proceedToPayment()">Proceed to payment\n        </button>\n        <button class="button primary order-now sticky-button"\n                ng-show="(vm.upsertAddress || vm.noAddress)"\n                ng-disabled="vm.form.upsertAddressForm.$invalid || vm.processingDelivery"\n                ng-click="vm.saveUpdateAddress()">\n            Save and deliver here\n        </button>\n    </div>\n    <div class="inactive-overlay non-stackable" ng-class="{\'overlay-pending\' : !coCtrl.deliveryStep.done}" ng-if="vm.inactivePane()">\n        <div class="edit-checkout-button-container" ng-if="!vm.loading && vm.inactivePane()">\n            <div>\n                <button class="button primary " ng-if="coCtrl.deliveryStep.done" ng-click="vm.gotoNextState()">Edit</button>\n            </div>\n        </div>\n    </div>\n    <div class="cart-loader-overlay" ng-show="vm.processingDelivery">\n        <div class=\'cart-spinner\'>\n            <div class=\'spinner\'>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("app/sections/checkout/payment/payment.html",'<div class="checkout right-divider" ng-class="{inactive: vm.inactivePane()}">\n    <div class="scrollable scrollable-delivery-address non-stackable">\n        <div class="payment-overview panel overview-small" ng-class="{active: vm.isSummaryOpen}">\n            <div class="title" ng-click="vm.isSummaryOpen = !vm.isSummaryOpen" ng-class="{\'is-owp\': vm.isOWP}">\n                <div class="row" ng-hide="vm.cartDetails">\n                    <div class="small-1 medium-1 hide-for-small-only columns">\n                        <span class="loader radio"></span>\n                    </div>\n                    <div class="small-8 medium-8 columns">\n                        <span class="loader payment-title"></span>\n                    </div>\n                    <div class="small-3 medium-3 columns">\n                        <span class="loader action-icon"></span>\n                    </div>\n                </div>\n                <div class="row" ng-show="vm.cartDetails">\n                    <div class="small-8 medium-8 columns" ng-hide="vm.isOWP">\n                        <h2 class="pay-title-holder">\n                            <span class="section-title">You pay</span>\n                            <span class="positive" ng-bind="vm.cartDetails.cartResponse.orderResponse.order.payAmount | currency:\'&#8377;\':0"></span>\n                        </h2>\n                    </div>\n                    <div class="small-4 medium-4 columns payment-expand-icon" ng-hide="vm.isOWP">\n                        <span class="icon-small action-link"\n                              ng-class="{\'icon-angle-down\': !vm.isSummaryOpen, \'icon-angle-up\': vm.isSummaryOpen}">\n                        </span>\n                    </div>\n                    <div class="small-11 medium-11 columns" ng-show="vm.isOWP">\n                        <h3>Payment not required</h3>\n                        <div class="small-text item-detail">Yay! Your credits have covered the cost of entire order.</div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="content summary" ng-show="vm.isSummaryOpen || vm.isOWP">\n                <!--TOTAL ITEM PRICE-->\n                <div class="small-11 small-offset-1 medium-11 medium-offset-1">\n                    <div class="row">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title ">Total item price</span>\n                        </div>\n                        <div class="small-4 medium-4 columns">\n                            <span class="section-content"\n                                  ng-bind="vm.cartDetails.cartResponse.orderResponse.order.productAmount | currency:\'&#8377;\':0">\n                            </span>\n                        </div>\n                    </div>\n                    <!--DISCOUNT-->\n                    <div class="row" ng-show="vm.cartDetails.cartResponse.orderResponse.order.discount">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title ">Discount</span>\n                        </div>\n                        <div class="small-4 medium-4 columns positive">\n                            <span class="section-content"\n                                  ng-bind="\'- \' + (vm.cartDetails.cartResponse.orderResponse.order.discount | currency:\'&#8377;\':0)">\n                            </span>\n                        </div>\n                    </div>\n                    <!--PROMO CODE-->\n                    <div class="row" ng-repeat="promo in vm.cartDetails.cartResponse.orderResponse.orderPromocodes" ng-show="promo.applied">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title" ng-bind="::promo.code"></span>\n                        </div>\n                        <div class="small-4 medium-4 columns positive">\n                            <span class="section-content" ng-bind="::(\'- \' + (promo.discount | currency:\'&#8377;\':0))"></span>\n                        </div>\n                    </div>\n                    <!--TOTAL AMOUNT-->\n                    <div class="row">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title ">Total amount</span>\n                        </div>\n                        <div class="small-4 medium-4 columns">\n                            <span class="section-content"\n                                  ng-bind="vm.cartDetails.cartResponse.orderResponse.order.totalAmount | currency:\'&#8377;\':0">\n                            </span>\n                        </div>\n                    </div>\n                    <!--CREDITS-->\n                    <div class="row" ng-repeat="credit in vm.cartDetails.cartResponse.orderResponse.creditAccounts" ng-show="credit.applied">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title">\n                                <span class="credit-name" ng-bind="::credit.creditName"></span> credits\n                            </span>\n                        </div>\n                        <div class="small-4 medium-4 columns positive">\n                            <span class="section-content" ng-bind="::(\'- \' + (credit.amount | currency:\'&#8377;\':0))"></span>\n                        </div>\n                    </div>\n                    <!--SHIPPING-->\n                    <div class="row">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title ">Shipping</span>\n                        </div>\n                        <!-- Not using currency filter here as not expected to cross 999) -->\n                        <div class="small-4 medium-4 columns" ng-class="{positive: !vm.cartDetails.cartResponse.orderResponse.order.postAge}">\n                        <span class="section-content"\n                              ng-bind="vm.cartDetails.cartResponse.orderResponse.order.postAge ? \'&#8377;\' + vm.cartDetails.cartResponse.orderResponse.order.postAge : \'Free\'">\n                        </span>\n                        </div>\n                    </div>\n                    <!--PAYABLE AMOUNT-->\n                    <div class="row">\n                        <div class="small-8 medium-8 columns">\n                            <span class="section-title you-pay">You pay</span>\n                        </div>\n                        <div class="small-4 medium-4 columns">\n                        <span class="section-content you-pay"\n                              ng-bind="vm.cartDetails.cartResponse.orderResponse.order.payAmount | currency:\'&#8377;\':0">\n                        </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="panel" ng-show="vm.failedPayment">\n            <div class="payment-fail text-center">\n                <div class="alert-icons-large" ng-class="vm.failedPaymentDetails.paymentDetail.icon"></div>\n                <div class="title">\n                    <h3>Payment failed</h3>\n                </div>\n                <div class="msg small-text" ng-bind="vm.failedPaymentDetails.message">\n                </div>\n                <div>\n                    <button class="button primary small-button" ng-click="vm.reorderByCOD()" ng-disabled="vm.processingPayment">Pay cash on delivery</button>\n                </div>\n            </div>\n            <div class="failed-order-details">\n                <h3>Order details</h3>\n                <div class="row small-text">\n                    <div class="small-6 columns">\n                        <span class="key">Order number</span>\n                        <span class="value" ng-bind="vm.failedPaymentDetails.orderBarCode"></span>\n                    </div>\n                    <div class="small-6 columns">\n                        <span class="key">Total Payment</span>\n                        <span class="value" ng-bind="\'&#8377;\' + vm.failedPaymentDetails.totalPayment"></span>\n                    </div>\n                </div>\n                <div class="row small-text">\n                    <div class="small-6 columns">\n                        <span class="key">Mode of payment</span>\n                        <span class="value" ng-bind="vm.failedPaymentDetails.paymentDetail.modeName"></span>\n                    </div>\n                    <div class="small-6 columns">\n                        <span class="key">Order status</span>\n                        <span class="value failed">Payment failed</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div ng-show="vm.savedCards">\n            <div class="user-saved-cards panel" ng-show="!vm.isOWP && vm.totalCards > 0">\n                <h2>Use a saved card</h2>\n                <div class="row user-card-container"\n                     ng-repeat="(key, savedCard) in vm.savedCards"\n                     ng-style="vm.getZIndex($index)"\n                     ng-click="vm.toggleSavedCard(key)">\n                    <div class="saved-card-bg card-bg-container" ng-class="vm.getCardBrandClass(savedCard.card_brand, savedCard.isActive, \'bg\')">\n                        <div class="user-card" ng-class="{\'first-card\': $index == 0}">\n                            <div class="row" >\n                                <div class="user-card-basic-info">\n                                    <div class="small-9 columns">\n                                        <div class="user-info">\n                                            <div class="row " >\n                                                <span class="user-saved-card-no" ng-bind="vm.getCardNumberRegex(savedCard.card_no, savedCard.card_brand)"></span>\n                                            </div>\n                                            <div class="row " ng-show="vm.showIfNotTestUser(savedCard.name_on_card)">\n                                                <span class="user-saved-card-name" ng-bind="savedCard.name_on_card"></span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="small-3 columns card-info-holder">\n                                        <div class="card-info ">\n                                            <div class="row ">\n                                                <div class=" card-type " ng-class="{\'active-card\': savedCard.isActive}">\n                                                <span class="row">\n                                                    <span class="user-card-icon "\n                                                          ng-class="vm.getCardBrandClass(savedCard.card_brand, savedCard.isActive, \'icon\')">\n                                                    </span>\n                                                </span>\n                                                <span class="row type">\n                                                    <span class="card-content" ng-bind="vm.CARD_TYPE[savedCard.card_mode]"></span>\n                                                </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row user-card-more-info" ng-if="savedCard.isActive">\n                                <div class="small-9 columns">\n                                    <div class="small-8 columns cvv-input-details-container">\n                                        <span class="small-9 columns input-container">\n                                            <input type="password" required\n                                                   minlength="3"\n                                                   maxlength="4"\n                                                   ng-pattern="/^[0-9]{1,4}$/"\n                                                   ng-model="vm.paymentDetails.ccvv"\n                                                   placeholder="Enter CVV"\n                                                   auto-focus= "true"\n                                                   ng-hide="coCtrl.paymentStep.inactive"\n                                                   autocomplete="off"\n                                                   class="round"/>\n                                            <!--Uncomment when implement tooltip-->\n                                            <!--<span class="icon-medium icon-help"></span>-->\n                                        </span>\n                                    </div>\n                                </div>\n                                <div class="small-3 columns user-card-details-parent-container">\n                                    <div class="user-card-details-container">\n                                        <div class="row  ">\n                                            <div class="user-card-details-holder">\n                                        <span class="card-details  small-text">\n                                            Expires\n                                        </span>\n                                            </div>\n                                        </div>\n                                        <div class="row ">\n                                            <div class="user-card-details-holder ">\n                                                <div class="card-details small-text">\n                                                    <span ng-bind="vm.getExpireDateYear(key)"></span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row" ng-hide="true">\n                    <input type="radio"\n                           name="payment-mode"\n                           nv-value="vm.PAYMENT_GATEWAY.SAVED_CARD"\n                           ng-model="vm.paymentMode">\n                </div>\n            </div>\n            <div class="payment-modes panel" ng-hide="vm.isOWP">\n                <h2>Choose a payment mode</h2>\n                <div class="mode">\n                    <label for="cc" class="mode-name">\n                        <input type="radio" name="payment-mode"\n                               id="cc" class="hs-radio"\n                               ng-model="vm.paymentMode"\n                               ng-change="vm.changePaymentMode()"\n                               ng-value="vm.PAYMENT_GATEWAY.CREDIT_CARD">\n                        <span class="icon"></span>\n                        <span class="content">Credit or Debit card</span>\n                    </label>\n                </div>\n                <div class="mode-form small-12" ng-show="vm.paymentMode == vm.PAYMENT_GATEWAY.CREDIT_CARD">\n                    <div class="row">\n                        <h2>Add a new card</h2>\n                        <form ng-model="vm.paymentDetails" name="creditCardForm" validate-card novalidate autocomplete="off">\n                            <div class="row">\n                                <div class="group">\n                                    <input type="text" name="cardnumber" required\n                                           class="round" format-card\n                                           ng-model="vm.paymentDetails.ccnum">\n                                    <label>Card number</label>\n                                    <span class="payment-icon" ng-class="\'icon-payment-card icon-\' + vm.paymentDetails.icon"></span>\n                                </div>\n                                <div class="small-12 columns">\n                                    <div ng-hide="vm.paymentDetails.valid" ng-if=\'creditCardForm.cardnumber.$touched\'>\n                                        <div class="error-message">Invalid card number.</div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="group">\n                                    <input type="text" name="cardname" required class="round" ng-model="vm.paymentDetails.ccname">\n                                    <label>Name on card</label>\n                                </div>\n                                <div class="small-12 columns">\n                                    <div ng-messages="creditCardForm.cardname.$error"  ng-if=\'creditCardForm.cardname.$touched\'>\n                                        <div class="error-message" ng-message="required">Please add name.</div>\n                                    </div>\n                                </div>\n\n                            </div>\n                            <div class="row">\n                                <div class="small-8 columns">\n                                    <div class="row">\n                                        <div class="small-12 columns card-expiry-date-holder">\n                                            <div class="group">\n                                                <input type="tel" name="expiry" maxlength="5" required class="round"\n                                                       ng-model="vm.paymentDetails.expiryDetail"\n                                                       format-expiry>\n                                                <label>Expiry MM/YY</label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div ng-if=\'creditCardForm.expiry.$touched\'>\n                                            <div class="error-message" ng-show="vm.paymentDetails.expiryDetail.length && creditCardForm.expiry.$error.validExpiry">Invalid expiry details.</div>\n                                            <div class="error-message" ng-hide="vm.paymentDetails.expiryDetail.length">Please enter expiry details.</div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="small-4 columns">\n                                    <div class="group">\n                                        <input type="password" name="cvc" ng-pattern="/^[0-9]{1,4}$/" required class="round" maxlength="4" ng-model="vm.paymentDetails.ccvv">\n                                        <label>CVV</label>\n                                    </div>\n                                    <div class="small-12 columns">\n                                        <div ng-hide="vm.paymentDetails.cvcValid" ng-if=\'creditCardForm.cvc.$touched\'>\n                                            <div class="error-message">Invalid CVV.</div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="checkbox-container saved-card">\n                                <label for="saveCard">\n                                    <input type="checkbox" name="saveCard"\n                                           class="hs-checkbox" id="saveCard"\n                                           ng-model="vm.paymentDetails.saveCardForFuture"/>\n                                    <span></span>\n                                    Save card for future payments\n                                </label>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div class="mode">\n                    <label for="nb" class="mode-name" >\n                        <input type="radio" name="payment-mode"\n                               id="nb" class="hs-radio"\n                               ng-model="vm.paymentMode"\n                               ng-change="vm.changePaymentMode()"\n                               ng-value="vm.PAYMENT_GATEWAY.NET_BANKING">\n                        <span class="icon"></span>\n                        <span class="content">Net Banking</span>\n                    </label>\n                </div>\n                <div class="mode-form small-12 net-banking" ng-show="vm.paymentMode == vm.PAYMENT_GATEWAY.NET_BANKING">\n                    <h2>Select a bank</h2>\n                    <div class="row">\n                        <div class="row">\n                            <div class="small-3 columns float-center" ng-repeat="bank in vm.highLevelBanks" ng-class="{end: $last}">\n                                <div class="bank-icons" ng-click="vm.paymentDetails.bankCode = bank.bankCode" ng-class="{active: vm.paymentDetails.bankCode == bank.bankCode}">\n                                    <span class="bank icon-large" ng-class="\'icon-\' + bank.logo"></span>\n                                    <span class="bank-name small-text" ng-bind="bank.displayname"></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row">\n                            <div class="small-12 columns">\n                                <select ng-model="vm.paymentDetails.bankCode"\n                                        ng-options="bank.bankCode as bank.description for bank in vm.netBanks">\n                                    <option value=\'\'>Select a bank</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="mode" ng-show="vm.canMakeCod()">\n                    <label for="cod" class="mode-name">\n                        <input type="radio" name="payment-mode"\n                               id="cod" class="hs-radio"\n                               ng-model="vm.paymentMode"\n                               ng-change="vm.changePaymentMode()"\n                               ng-value="vm.PAYMENT_MODES.CASH_ON_DELIVERY">\n                        <span class="icon"></span>\n                        <span class="content last">Cash on Delivery</span>\n                    </label>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="fixed-bottom non-stackable" ng-hide="vm.inactivePane()">\n        <button class="button primary order-now sticky-button"\n                ng-show="vm.paymentMode && !vm.isOWP"\n                ng-disabled="vm.setPayNowDisable(creditCardForm) || vm.processingPayment"\n                ng-click="vm.placeOrder()">\n            <span class="pay-securely icon-medium icon-lock-white"\n                  ng-class="{\'icon-inactive\': vm.setPayNowDisable(creditCardForm) || vm.processingPayment}"\n                  ng-hide="vm.paymentMode == vm.PAYMENT_MODES.CASH_ON_DELIVERY"></span>\n            <span class="pay-securely-text" ng-bind="vm.paymentMode == vm.PAYMENT_MODES.CASH_ON_DELIVERY ? \'Complete order\' : \'Pay securely\'"></span>\n        </button>\n        <button class="button primary order-now sticky-button"\n                ng-show="vm.isOWP"\n                ng-disabled="vm.processingPayment"\n                ng-click="vm.placeOWP()">Complete order\n        </button>\n    </div>\n    <div class="inactive-overlay non-stackable" ng-class="{\'overlay-pending\' : !coCtrl.paymentStep.done}" ng-if="vm.inactivePane()">\n    </div>\n    <div class="cart-loader-overlay" ng-show="vm.processingPayment">\n        <div>\n            <div class=\'cart-spinner\'>\n                <div class=\'spinner\'>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),
e.put("app/sections/checkout/review/review.html",'<div class="checkout right-divider" ng-class="{inactive: vm.inactivePane()}">\n    <div class="cart-loader-panel non-stackable scrollable-review" ng-show="!vm.inactivePane() && vm.loading">\n        <div ng-include="\'app/components/widgets/cart/cart-item/cart-item-loader.html\'"></div>\n        <div ng-include="\'app/components/widgets/cart/cart-item/cart-item-loader.html\'"></div>\n    </div>\n\n    <div ng-show="vm.empty" class="empty-container empty-checkout-cart">\n        <div class="icon-2x-large icon-empty-cart"></div>\n        <div class="message">\n            <span class="message-text">Looks like your cart is empty.</span><br/>\n            <span class="message-text primary-text">Let\'s take you shopping!</span>\n        </div>\n    </div>\n    <div ng-hide="vm.loading || vm.empty">\n        <div class="scrollable scrollable-review non-stackable">\n            <cart-details cart-details="vm.cartDetails" on-item-change="vm.getCartDetails()" updating-cart="vm.updatingCart"></cart-details>\n        </div>\n        <div class="fixed-bottom non-stackable" ng-hide="vm.inactivePane()">\n            <div class="payment-amount">\n                <div class="row">\n                    <span class="float-left">You pay:</span>\n                    <span class="float-right" ng-bind="vm.cartDetails.cartResponse.orderResponse.order.payAmount | currency:\'&#8377;\':0"></span>\n                </div>\n            </div>\n            <button class="button primary order-now sticky-button" ng-click="vm.orderNowCheckout()">Proceed to delivery</button>\n            <button class="button primary order-now sticky-button" ng-click="vm.orderNowCheckout()" ng-if="coCtrl.reviewStep.done">Edit</button>\n        </div>\n    </div>\n    <div class="inactive-overlay non-stackable" ng-show="vm.inactivePane()">\n        <div class="edit-checkout-button-container" ng-if="!vm.loading && vm.inactivePane()">\n            <div class="">\n                <button class="button " ng-click="vm.gotoNextState()">Edit</button>\n            </div>\n        </div>\n    </div>\n    <div class="cart-loader-overlay" ng-show="vm.updatingCart">\n        <div class=\'cart-spinner\'>\n            <div class=\'spinner\'>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("app/sections/return/confirm/confirm.html",'<div class="row returns-confirmed">\n    <div class="large-8 medium-12 small-12 column">\n        <div class="header">\n            <div class="icon main-icon icon-return-complete"></div>\n            <div class="header-text">\n                Your return request for <span ng-bind="vm.itemCount + (vm.itemCount > 1 ? \' items \' : \' item \')"></span><br/>from order #<span ng-bind="vm.barcodeId"></span> has been accepted\n            </div>\n        </div>\n\n        <div class="body">\n            <div class="body-text" ng-if="vm.headline" ng-bind="vm.headline"></div>\n            <div class="body-steps happy-case" ng-if="vm.params.reasonId == vm.RETURN_CONFIRMATION_ID.HAPPY_CASE">\n                <div class="row prepare-pickup hide-for-small-only" >\n                    <div class="step medium-4 columns">\n                        <div class="row step-icon-container">\n                            <div class="icon step-icon icon-pack-items"></div>\n                        </div>\n                        <div class="row step-no">\n                            Step 1\n                        </div>\n                        <div class="row step-description">\n                            Pack the item(s) into a box or bag.\n                        </div>\n                    </div>\n                    <div class="step mid-step medium-4 columns">\n                        <div class="row step-icon-container">\n                            <div class="icon step-icon icon-order-invoice"></div>\n                        </div>\n                        <div class="row step-no">\n                            Step 2\n                        </div>\n                        <div class="row step-description">\n                            Place the order invoice inside the box and seal it.\n                        </div>\n                    </div>\n                    <div class="step medium-4 columns">\n                        <div class="row step-icon-container">\n                            <div class="icon step-icon icon-tax-invoice"></div>\n                        </div>\n                        <div class="row step-no">\n                            Step 3\n                        </div>\n                        <div class="row step-description">\n                            Stick the tax invoice on top of the box.\n                        </div>\n                    </div>\n                </div>\n                <div class="row show-for-small-only">\n                    <div class="step small-12 columns">\n                        <div class="row">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-pack-items"></div>\n                            </div>\n                            <div class="step-detail-container">\n                                <div class=" step-no">\n                                    Step 1\n                                </div>\n                                <div class=" step-description">\n                                    Pack the item(s) into a box or bag.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="step small-12 columns">\n                        <div class="row">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-order-invoice"></div>\n                            </div>\n                            <div class="step-detail-container">\n                                <div class=" step-no">\n                                    Step 2\n                                </div>\n                                <div class=" step-description">\n                                    Place the order invoice inside the box and seal it.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="step small-12 columns">\n                        <div class="row">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-tax-invoice"></div>\n                            </div>\n                            <div class="step-detail-container">\n                                <div class=" step-no">\n                                    Step 3\n                                </div>\n                                <div class=" step-description">\n                                    Stick the tax invoice on top of the box.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="body-steps" ng-if="vm.params.reasonId == vm.RETURN_CONFIRMATION_ID.GIFT">\n                <div class="row">\n                    <div class="step">\n                        <div class="row single">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-gift"></div>\n                            </div>\n                            <div class="step-detail-container">\n                                <div class=" step-description">\n                                    Please do not worry about returning the item(s). We will process your refund in 5-7 days.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="body-steps" ng-if="vm.params.reasonId == vm.RETURN_CONFIRMATION_ID.SELF_COURIER">\n                <div class="row">\n                    <div class="step small-12 medium-6 columns">\n                        <div class="row">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-return-ship"></div>\n                            </div>\n                            <div class="step-detail-container float-left">\n                                <div class=" step-no">\n                                    Step 1\n                                </div>\n                                <div class="step-description step-address">\n                                    Ship items to<br/>\n                                    KYA Apparel LLP<br/>\n                                    Building # A/7 at Survey No 109/1,<br/>\n                                    Harihar Corporation near Ganjanan Petrol Pump,<br/>\n                                    Mankoli Naka, Village Dapode,<br/>\n                                    Taluka Bhiwandi,<br/>\n                                    Thane – 421302\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="step small-12 medium-6 columns">\n                        <div class="row">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-receipt"></div>\n                            </div>\n                            <div class="step-detail-container">\n                                <div class=" step-no">\n                                    Step 2\n                                </div>\n                                <div class=" step-description">\n                                    Send the courier receipt to <span class="bold-text text-color-primary">wecare@hopscotch.in</span> for refund of courier charges.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="body-steps" ng-if="vm.params.reasonId == vm.RETURN_CONFIRMATION_ID.DAMAGED_UNAVAILABLE">\n                <div class="row">\n                    <div class="step">\n                        <div class="row single">\n                            <div class="step-icon-container">\n                                <div class="icon step-icon icon-cc"></div>\n                            </div>\n                            <div class="step-detail-container">\n                                <div class=" step-description">\n                                    Our customer care team will get in touch with you shortly for processing this request.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="body-info">\n                <span class="icon-16 icon-msg-pink"></span>\n                <span class="info-text">\n                    We’ve also sent you an email with detailed instructions for future reference.\n                </span>\n            </div>\n        </div>\n    </div>\n    <div class="large-4 medium-12 small-12 column app-download">\n        <div class="container">\n            <div class="app-message">\n                <div>\n                    <p class="download-msg">\n                        Download our app for an amazing shopping experience\n                    </p>\n                    <div class="app-icons">\n                        <a href="https://itunes.apple.com/in/app/hopscotch-find-something-new/id945949424?mt=8" target="_blank">\n                            <div class="icon-x-large icon-app-store"></div>\n                        </a>\n                        <a href="https://play.google.com/store/apps/details?id=in.hopscotch.android" target="_blank">\n                            <div class="android icon-x-large icon-play-store"></div>\n                        </a>\n\n                    </div>\n                </div>\n            </div>\n            <div class="app-image">\n                <img ng-src="{{vm._ConfigService.IMAGE_BASE_PATH + \'images/mob_desktop.png\'}}" alt=""/>\n            </div>\n        </div>\n    </div>\n</div>\n\n'),e.put("app/sections/return/pick-up/pickup.html",'<div class="scrollable scrollable-return-list non-stackable returnable-item-list" id="pickupContainer">\n\n    <div class="default-address-panel" ng-hide="vm.showNewAddressPanel || vm.showShipOnOwnPanel || vm.showSchedulePickup || vm.showAddressPanel || vm.defaultAddress.opa">\n        <div class="row list-heading">\n            <div class="small-offset-1 small-11 columns">\n                <h2>Where do we pick this up from?</h2>\n            </div>\n        </div>\n        <div>\n            <div class="row panel">\n                <div class="address">\n                    <div class="details">\n                        <div class="row">\n                            <div class="small-1 medium-1 columns">\n                                <label for="defaultAddress">\n                                    <input type="radio" name="active-address"\n                                           class="hs-radio" id="defaultAddress"\n                                           ng-model="vm.selectedAddressId"\n                                           ng-change="vm.schedulePickUp()"\n                                           value="defaultAddress">\n                                    <span class="selected-address-checkbox"></span>\n                                </label>\n                            </div>\n                            <div class="small-11 medium-11 columns">\n                                <label for="defaultAddress">\n                                    <div class="name"\n                                         ng-class="{\'regular-font-face\': vm.selectedAddressId != \'defaultAddress\'}"\n                                         ng-bind="vm.defaultAddress.firstName + \' \' + vm.defaultAddress.lastName"></div>\n                                    <div class="phone"\n                                         ng-class="{\'regular-font-face\': vm.selectedAddressId != \'defaultAddress\'}"\n                                         ng-bind="vm.defaultAddress.cellPhone"></div>\n                                    <div class="address-detail">\n                                        <span ng-bind="vm.defaultAddress.simpleStreetAddress"></span>\n                                        <span ng-bind="vm.defaultAddress.landmark"></span>\n                                        <span ng-bind="vm.defaultAddress.city + \', \' + vm.defaultAddress.zipCode"></span>\n                                        <span ng-bind="vm.defaultAddress.state + \', \' + vm.defaultAddress.country"></span>\n                                    </div>\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row secondary-heading cursor-pointer" ng-click="vm.showOtherAddressesPanel()">\n                <div class="small-offset-1 small-10 columns">\n                    <h3 class="bold-text">Select another address</h3>\n                </div>\n                <div class="small-1 columns">\n                    <span class="icon-16 icon-angle-down float-right"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="all-address-panel" ng-hide="vm.showNewAddressPanel || vm.showShipOnOwnPanel || vm.showSchedulePickup || (!vm.showAddressPanel && !vm.defaultAddress.opa)">\n        <div class="row list-heading">\n            <div class="small-offset-1 small-11 columns">\n                <h2>Where do we pick this up from?</h2>\n            </div>\n        </div>\n        <div class="row panel">\n            <div class="address" ng-repeat="address in vm.returnData.addresses" ng-class="{opa: address.opa}">\n                <div class="details">\n                    <div class="row">\n                        <div class="small-1 medium-1 columns">\n                            <label for="{{address.id}}" ng-hide="address.opa">\n                                <input type="radio" name="active-address"\n                                       class="hs-radio" id="{{address.id}}"\n                                       ng-disabled="address.opa"\n                                       ng-change="vm.schedulePickUp()"\n                                       ng-model="vm.selectedAddressId"\n                                       ng-value="address.id">\n                                <span class="selected-address-checkbox"></span>\n                            </label>\n                        </div>\n                        <div class="small-11 medium-11 columns address-data">\n                            <label for="{{address.id}}">\n                                <div class="name"\n                                     ng-class="{\'regular-font-face\': vm.selectedAddressId != address.id}"\n                                     ng-bind="address.firstName + \' \' + address.lastName"></div>\n                                <div class="phone"\n                                     ng-class="{\'regular-font-face\': vm.selectedAddressId != address.id}"\n                                     ng-bind="address.cellPhone"></div>\n                                <div class="address-detail">\n                                    <span ng-bind="address.simpleStreetAddress"></span>\n                                    <span ng-bind="address.landmark"></span>\n                                    <span ng-bind="address.city + \', \' + address.zipCode"></span>\n                                    <span ng-bind="address.state + \', \' + address.country"></span>\n                                </div>\n                            </label>\n                            <div class="opa-tag" ng-show="address.opa">\n                                This pincode is outside our pickup area\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="row secondary-heading cursor-pointer" ng-click="vm.toggleNewPickUpAddress()">\n                <div class="small-1 columns">\n                    <span class="icon-16 icon-plus-pink"></span>\n                </div>\n                <div class="small-11 columns bold-text text-color-primary">\n                    Add new pickup address\n                </div>\n            </div>\n        </div>\n        <div class="row secondary-heading panel cursor-pointer" ng-click="vm.toggleShipOnOwn()">\n            <div class="small-1 columns">\n                <span class="icon-16 icon-ship"></span>\n            </div>\n            <div class="small-10 columns">\n                <h3 class="bold-text">I will courier items myself</h3>\n            </div>\n            <div class="small-1 columns">\n                <span class="icon-16 icon-angle-down"></span>\n            </div>\n        </div>\n    </div>\n    <div class="new-address-panel" ng-show="vm.showNewAddressPanel">\n        <div class="new-address panel">\n            <div class="row">\n                <h2>\n                    Add your pickup address\n                    <span ng-click="vm.toggleNewPickUpAddress(true)" class="icon-medium icon-dismiss close float-right"></span>\n                </h2>\n            </div>\n            <form name="pickupAddressForm" autocomplete="on">\n                <div ng-if="vm.showNewAddressPanel">\n                    <div class="row">\n                        <div class="small-5 columns">\n                            <div class="group">\n                                <input type="tel"\n                                       required name="zipCode"\n                                       autocomplete="pincode zipCode zipcode"\n                                       format-zipcode\n                                       class="round"\n                                       maxlength="7"\n                                       ng-model="vm.pickupForm.zipCode"\n                                       ng-blur="vm.checkPincode(vm.pickupForm.zipCode)">\n                                <span class="icon-medium icon-pincode-error" ng-show=\'vm.pickupForm.pincodeError\'></span>\n                                <label>Pincode</label>\n                            </div>\n                        </div>\n                        <div class="small-7 columns">\n                            <div class="group pickup-address-phone">\n                                <input type="tel"\n                                       format-phone\n                                       required class="round"\n                                       ng-model="vm.pickupForm.cellPhone"\n                                       maxlength="11" name="phone"\n                                       autocomplete="tel">\n                                <label>10 digit mobile number</label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row" ng-show=\'vm.pickupForm.pincodeError\'>\n                        <div class="error-message" ng-bind="vm.pickupForm.pincodeErrorMsg"></div>\n                    </div>\n                    <div class="row send-my-item-tag" ng-show=\'vm.pickupForm.pincodeError\' ng-click="vm.toggleShipOnOwn()">\n                        <div class="small-1 columns">\n                            <span class="icon-16 icon-ship"></span>\n                        </div>\n                        <div class="small-10 columns">\n                            <div class="bold-text">I will courier items myself</div>\n                        </div>\n                        <div class="small-1 columns">\n                            <span class="icon-16 icon-angle-down"></span>\n                        </div>\n                    </div>\n                    <div class="row" ng-show="vm.incorrectPhone">\n                        <div class="error-message">Please enter correct phone number</div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="text" required class="round" ng-model="vm.pickupForm.shipToName" name="name" autocomplete="name" maxlength="50">\n                            <label>Full name</label>\n                        </div>\n                    </div>\n\n                    <div class="row">\n                        <div class="group">\n                            <textarea type="text" required class="round" rows="3" ng-model="vm.pickupForm.streetAddress" name="street-address" autocomplete="street-address" maxlength="255"></textarea>\n                            <label>Address</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="text" class="round" ng-model="vm.pickupForm.landmark" name="landmark" autocomplete="landmark" maxlength="128">\n                            <label>Landmark (optional)</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="text" required class="round" ng-model="vm.pickupForm.city" maxlength="50"\n                                   disabled name="city" autocomplete="on">\n                            <label>City</label>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="group">\n                            <input type="text" required class="round" ng-model="vm.pickupForm.state" maxlength="50"\n                                   disabled name="state" autocomplete="region">\n                            <label>State</label>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class="self-courier-panel" ng-show="vm.showShipOnOwnPanel">\n        <div class="new-address panel">\n            <div class="row">\n                <h2>I will courier items myself\n                    <span ng-click="vm.toggleShipOnOwn()" ng-hide="vm.pickupScheduleDone" class="icon-medium icon-dismiss close float-right"></span>\n                </h2>\n            </div>\n            <div class="row ship-own-items-para">\n                <br><br>\n                <div>\n                    Please courier item(s) at the below address. Once sent, email your courier receipt at <span class="bold-text">wecare@hopscotch.in</span>, for us to help you with the reimbursement. Proceed with the return process.\n                </div>\n                <br>\n                <br>\n                <div class="bold-text">Address</div>\n                <div>\n                    KYA Apparel LLP<br>\n                    Hopscotch.in<br>\n                    Building #A/7 at Survey No 109/1,<br>\n                    Harihar Corporation,<br>\n                    Near Ganjanan Petrol Pump,<br>\n                    Mankoli Naka, Village Dapode,<br>\n                    Taluka Bhiwandi, Thane - 421302<br>\n                </div>\n\n            </div>\n        </div>\n        <div class="row secondary-heading cursor-pointer" ng-show="vm.pickupScheduleDone" ng-click="vm.showAddressFromFinalStep()">\n            <div class="small-offset-1 small-10 columns">\n                <h3 class="bold-text">Select another address</h3>\n            </div>\n            <div class="small-1 columns">\n                <span class="icon-16 icon-angle-down float-right"></span>\n            </div>\n        </div>\n    </div>\n    <div class="schedule-pickup-panel" ng-show="vm.showSchedulePickup">\n        <div class="address" ng-class="{\'panel\': vm.pickupScheduleDone}">\n            <div class="details">\n                <div class="row">\n                    <div class="small-1 medium-1 columns">\n                        <label for="selectedAddress">\n                            <input type="radio" name="showAddressForConfirmation"\n                                   class="hs-radio" id="selectedAddress"\n                                   ng-model="vm.addressForConfirmation"\n                                   disabled\n                                   value="addressForConfirmation">\n                            <span class="selected-address-checkbox"></span>\n                        </label>\n                    </div>\n                    <div class="small-11 medium-11 columns" ng-class="{\'address-data\': !vm.pickupScheduleDone}">\n                        <div class="small-12 columns">\n                            <div class="selected-address-detail">\n                                <div class="row">\n                                    <div class="small-10 columns">\n                                        <div class="name" ng-bind="vm.selectedAddress.firstName + \' \' + vm.selectedAddress.lastName"></div>\n                                        <div class="phone" ng-bind="vm.selectedAddress.cellPhone"></div>\n                                    </div>\n                                    <div class="small-2 columns">\n                                        <div class="edit-new-address bold-text float-right" ng-click="vm.editNewAddress()" ng-show="vm.selectedAddressId == vm.ADDRESS_TYPES.NEW_ADDRESS && vm.pickupScheduleDone">\n                                            Edit\n                                        </div>\n                                        <div class="row" ng-click="vm.hideSchedulePickupPane()" ng-hide="vm.pickupScheduleDone">\n                                            <span class="icon-medium icon-dismiss close float-right"></span>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="final-delivery-address" ng-class="{\'address-detail\': !vm.pickupScheduleDone}">\n                                    <div ng-bind="vm.selectedAddress.simpleStreetAddress"></div>\n                                    <div ng-bind="vm.selectedAddress.landmark"></div>\n                                    <div ng-bind="vm.selectedAddress.city + \', \' + vm.selectedAddress.zipCode"></div>\n                                    <div ng-bind="vm.selectedAddress.state + \', \' + vm.selectedAddress.country"></div>\n                                </div>\n\n                                <div class="edit-new-address bold-text" ng-click="vm.editNewAddress()" ng-show="vm.returnData.isNewAddress && !vm.pickupScheduleDone">\n                                    Edit address\n                                </div>\n                            </div>\n                            <div class="row pickup-summary" ng-show="vm.pickupScheduleDone">\n                                <div class="row divider-right bold-text">\n                                    <div class="title-div divider-title-pickup">Pickup date</div>\n                                </div>\n                                <div class="row" ng-click="vm.pickupScheduleDone = false;">\n                                    <div class="small-10 columns">\n                                        <span class="pickup-date-summary-value" ng-bind="vm.returnData.pickupDate.value || \'Unavailable\'"></span>\n                                    </div>\n                                    <div class="small-2 columns">\n                                        <span class="icon-16 icon-angle-down float-right"></span>\n                                    </div>\n                                </div>\n                                <div class="row unavailable-tag" ng-show="vm.returnData.pickupDate == \'pickupUnavailable\'">\n                                    You will receive a call from us soon to set a suitable time for pickup.\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="options-panel" ng-hide="vm.pickupScheduleDone">\n            <div class="row title">\n                <div class="small-11 small-offset-1 columns">\n                    <h2>Select a pickup date</h2>\n                </div>\n            </div>\n            <div class="row option" ng-repeat="date in vm.returnData.dates">\n                <div class="small-1 columns">\n                    <label for="{{\'pickupDate\' + $index}}" class="option-icon">\n                        <input type="radio" name="pickupDates"\n                               id="{{\'pickupDate\' + $index}}" class="hs-radio"\n                               ng-value="date"\n                               ng-model="vm.returnData.pickupDate">\n                        <span class="icon"></span>\n                    </label>\n                </div>\n                <div class="small-11 columns option-text" >\n                    <div>\n                        <label for="{{\'pickupDate\' + $index}}" class="option-label" ng-bind="date.value"></label>\n                    </div>\n                </div>\n            </div>\n            <div class="row option">\n                <div class="small-1 columns">\n                    <label for="pickupUnavailable" class="option-icon">\n                        <input type="radio" name="pickupDates"\n                               id="pickupUnavailable" class="hs-radio"\n                               value="pickupUnavailable"\n                               ng-model="vm.returnData.pickupDate">\n                        <span class="icon"></span>\n                    </label>\n                </div>\n                <div class="small-11 columns option-text" >\n                    <div>\n                        <label for="pickupUnavailable" class="option-label">Unavailable on these dates</label>\n                    </div>\n                    <div class="option-comment text" ng-show="vm.returnData.pickupDate == \'pickupUnavailable\'">\n                        Our customer care team will get in touch with you shortly after you complete return process.\n                    </div>\n                </div>\n            </div>\n            <div class="row option">\n                <div class="small-1 columns">\n                    <div class="option-icon">\n                        <span class="icon-16 icon-info"></span>\n                    </div>\n                </div>\n                <div class="small-11 columns option-text" >\n                    <div>\n                        <label class="option-label option-info">Pickup hours: Monday to Saturday from 9am – 8pm.</label>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row secondary-heading cursor-pointer" ng-show="vm.pickupScheduleDone" ng-click="vm.showAddressFromFinalStep()">\n                <div class="small-offset-1 small-10 columns">\n                    <h3 class="bold-text">Select another address</h3>\n                </div>\n                <div class="small-1 columns">\n                    <span class="icon-16 icon-angle-down float-right"></span>\n                </div>\n            </div>\n    </div>\n\n</div>\n\n\n<div class="fixed-bottom"\n     ng-hide="vm.pickUpStep.inactive">\n    <button class="button primary order-now sticky-button"\n            ng-disabled="!vm.selectedAddressId"\n            ng-hide="vm.showNewAddressPanel || vm.showShipOnOwnPanel || vm.showSchedulePickup"\n            ng-click="vm.schedulePickUp()">\n        <span ng-hide="vm.selectedAddressId">Select an address</span>\n        <span ng-show="vm.selectedAddressId">Select a pickup date</span>\n    </button>\n    <button class="button primary order-now sticky-button"\n            ng-disabled="pickupAddressForm.$invalid"\n            ng-show="vm.showNewAddressPanel"\n            ng-click="vm.saveNewAddress()">\n        Select a pickup date\n    </button>\n    <button class="button primary order-now sticky-button"\n            ng-show="vm.showShipOnOwnPanel"\n            ng-click="vm.shipOwnItems()">\n        Proceed to refund\n    </button>\n    <button class="button primary order-now sticky-button"\n            ng-show="vm.showSchedulePickup"\n            ng-disabled="!vm.selectedAddressId || !vm.returnData.pickupDate"\n            ng-click="vm.confirmScheduledPickup()">\n        Proceed to refund\n    </button>\n</div>\n\n<div class="inactive-overlay non-stackable" ng-show="vm.pickUpStep.inactive">\n    <div class="edit-checkout-button-container" ng-show="vm.pickUpStep.done && !vm.showSpinner.refund">\n        <button class="button " ng-click="vm.goToStep(vm.VIEW_NAMES.PICK_UP)">Edit</button>\n    </div>\n</div>\n'),
e.put("app/sections/return/refund/refund.html",'<div class="scrollable scrollable-return-list non-stackable returnable-item-list">\n    <div class="select-cancellable-item" ng-hide="vm.returnData.returnItemCount">\n        <div class="text-center">\n            <div class="alert-icons-large cancel-empty-state"></div>\n            <div class="title">\n                <h2>Waiting for item selection</h2>\n            </div>\n        </div>\n    </div>\n    <div ng-show="vm.returnData.returnItemCount">\n        <div class="row secondary-heading">\n            <div class="small-1 columns">\n                <span class="icon-16 icon-refund"></span>\n            </div>\n            <div class="small-11 columns">\n                <h3 class="bold-text" ng-bind="\'Your total refund is \' + (vm.totalRefundAmount | currency:\'&#8377;\':0)"></h3>\n            </div>\n        </div>\n        <div class="row secondary-panel" ng-show="vm.refundInCredits && vm.refundAmountDetails">\n            <div class="row cursor-pointer" ng-click="vm.toggleCreditSummaryPane()">\n                <div class="small-1 columns">\n                    <span class="icon-16"\n                          ng-class="{\'icon-angle-down\': !vm.showCreditSummaryPane, \'icon-angle-up\': vm.showCreditSummaryPane}">\n                    </span>\n                </div>\n                <div class="small-11 columns">\n                    <div class="row">\n                        <span class="bold-text" ng-bind="vm.refundInCredits | currency:\'&#8377;\':0"></span>\n                        <span>&nbsp;credits used on this order will be returned as Hopscotch credits.</span>\n                    </div>\n                </div>\n            </div>\n            <div class="row owp-credit-summary" ng-show="vm.showCreditSummaryPane">\n                <div class="small-11 small-offset-1 columns">\n                    <div class="credit-detail">\n                        <div class="credit">Merchandise credits</div>\n                        <div class="amount" ng-bind="vm.refundAmountDetails.merchandise | currency:\'&#8377;\':0"></div>\n                    </div>\n                    <div class="credit-detail" ng-show="vm.refundAmountDetails.referral > 0">\n                        <div class="credit">Referral credits</div>\n                        <div class="amount" ng-bind="\'+ \' + (vm.refundAmountDetails.referral | currency:\'&#8377;\':0)"></div>\n                    </div>\n                    <div class="credit-detail" ng-show="vm.refundAmountDetails.loyalty > 0">\n                        <div class="credit">Loyalty credits</div>\n                        <div class="amount" ng-bind="\'+ \' + (vm.refundAmountDetails.loyalty | currency:\'&#8377;\':0)"></div>\n                    </div>\n                    <div class="credit-detail bold-text">\n                        <div class="credit">Total credits refund</div>\n                        <div class="amount" ng-bind="vm.refundInCredits | currency:\'&#8377;\':0"></div><div class="amount"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="options-panel" ng-hide="vm.returnData.payMethod == \'OWP\' || !vm.refundAmountDetails">\n            <div class="row title">\n                <div class="small-11 small-offset-1 columns">\n                    <h2>How would you like your <span ng-if="vm.refundInCredits > 0">remaining</span> refund of <span ng-bind="vm.refundInCash | currency:\'&#8377;\':0"></span></h2>\n                </div>\n            </div>\n            <div class="row option">\n                <div class="small-1 columns">\n                    <label for="returnCashAsCredits" class="option-icon">\n                        <input type="radio" name="returnCash"\n                               id="returnCashAsCredits" class="hs-radio"\n                               value="returnCashAsCredits"\n                               ng-model="vm.refundPaymentMode">\n                        <span class="icon"></span>\n                    </label>\n                </div>\n                <div class="small-11 columns option-text" >\n                    <div>\n                        <label for="returnCashAsCredits" class="option-label" ng-class="{\'bold-text\': vm.refundPaymentMode == \'returnCashAsCredits\'}">Hopscotch merchandise credits</label>\n                    </div>\n                    <div class="option-comment text">\n                        Credits will be applied to your hopscotch account 72 hours post pickup.\n                    </div>\n                </div>\n            </div>\n            <div class="row option" ng-show="vm.returnData.payMethod == \'COD\'">\n                <div class="small-1 columns">\n                    <label for="returnCashInBank" class="option-icon">\n                        <input type="radio" name="returnCash"\n                               id="returnCashInBank" class="hs-radio"\n                               value="returnCashInBank"\n                               ng-model="vm.refundPaymentMode">\n                        <span class="icon"></span>\n                    </label>\n                </div>\n                <div class="small-11 columns option-text last" >\n                    <div>\n                        <label for="returnCashInBank" class="option-label" ng-class="{\'bold-text\': vm.refundPaymentMode == \'returnCashInBank\'}">Bank account</label>\n                    </div>\n                    <div class="option-comment" ng-show="vm.refundPaymentMode == \'returnCashInBank\'">\n                        <form name="refundBankDetailsForm">\n                            <div class="row">\n                                <div class="group">\n                                    <input type="text" auto-focus="true" required class="round" ng-model="vm.refundBankDetails.customerName" name="name" autocomplete="name" maxlength="200">\n                                    <label>Your name as per bank record</label>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="group">\n                                    <input type="text" required class="round"\n                                           name="ifscCode"\n                                           maxlength="20"\n                                           ng-pattern="\'[a-zA-Z]{4}[0-9a-zA-Z]{7}\'"\n                                           ng-model="vm.refundBankDetails.ifsc">\n                                    <label>IFSC code</label>\n                                </div>\n                                <div class="row">\n                                    <div ng-show=\'refundBankDetailsForm.ifscCode.$touched && refundBankDetailsForm.ifscCode.$invalid\'>\n                                        <div class="error-message">Please enter valid IFSC code.</div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="group">\n                                    <input type="text" required class="round" ng-model="vm.refundBankDetails.accountNo" maxlength="20">\n                                    <label>Account number</label>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div class="option-comment text" >\n                        Refund takes 5-7 days to reflect into your account post pickup.\n                    </div>\n                </div>\n            </div>\n            <div class="row option" ng-show="vm.returnData.payMethod == \'POL\'">\n                <div class="small-1 columns">\n                    <label for="returnCashAsPol" class="option-icon">\n                        <input type="radio" name="returnCash"\n                               id="returnCashAsPol" class="hs-radio"\n                               value="returnCashAsPol"\n                               ng-model="vm.refundPaymentMode">\n                        <span class="icon"></span>\n                    </label>\n                </div>\n                <div class="small-11 columns option-text last" >\n                    <div>\n                        <label for="returnCashAsPol" class="option-label" ng-class="{\'bold-text\': vm.refundPaymentMode == \'returnCashAsPol\'}">Original payment mode</label>\n                    </div>\n                    <div class="option-comment text">\n                        Refund takes 5-7 days to reflect into your account post the pickup.\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class="fixed-bottom"\n     ng-hide="vm.refundStep.inactive">\n    <button class="button primary order-now sticky-button"\n            ng-disabled="!vm.refundPaymentMode || (vm.refundPaymentMode === \'returnCashInBank\' && refundBankDetailsForm.$invalid)"\n            ng-click="vm.returnItems()">\n        Return <span ng-bind="vm.returnData.returnItemCount + \' \' + (vm.returnData.returnItemCount > 1 ? \'items\' : \'item\')  "></span>\n    </button>\n</div>\n\n\n<div class="inactive-overlay non-stackable" ng-show="vm.refundStep.inactive"></div>\n\n<div class="cart-loader-overlay" ng-show="vm.showSpinner.refund">\n    <div>\n        <div class=\'cart-spinner\'>\n            <div class=\'spinner\'>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/sections/return/select/select.html",'<div class="scrollable scrollable-return-list non-stackable returnable-item-list">\n    <div class="return-items-panel" ng-hide="vm.showReturnPanel">\n        <div class="row list-heading">\n            <div class="small-offset-1 small-11 columns">\n                <h2 ng-bind="\'Which item\' + (vm.returnData.subOrderList[0].customerProductResponses.length > 1 ? \'s\' : \'\') + \' you would like to return?\'">\n                </h2>\n            </div>\n        </div>\n        <div ng-repeat="item in vm.returnData.subOrderList[0].customerProductResponses">\n            <return-item item="item"\n                         first-load="vm.firstLoad"\n                         on-item-update="vm.itemUpdated(item)"\n                         edit-return-item="vm.editReturnItem(item)">\n            </return-item>\n        </div>\n    </div>\n\n    <div class="return-items-edit-panel" ng-show="vm.showReturnPanel">\n        <div class="row">\n            <div class="cancellable-item">\n                <div class="row">\n                    <div class="small-3 small-offset-1 medium-3 medium-offset-1 columns">\n                        <div class="thumb"\n                             ng-style="{\'background-image\': \'url(\' + vm.editItem.imgUrl + \')\'}">\n                        </div>\n                    </div>\n                    <div class="small-8 medium-8 columns item-details">\n                        <div class="row">\n                            <div class="small-10 columns">\n                                <div class="row">\n                                    <div class="product-name small-text" ng-bind="::vm.editItem.name"></div>\n                                </div>\n                                <div class="row">\n                                    <div class="size small-text">\n                                        <span class="title">Size: </span>\n                                        <span ng-bind="::vm.editItem.size"></span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="small-2 columns" ng-click="vm.closeReturnPanel()">\n                                <span class="icon-medium icon-dismiss close float-right"></span>\n                            </div>\n                        </div>\n                        <div class="row small-text">\n                            <!--QTY SELECTOR-->\n                            <div class="small-4 medium-4 columns qty">\n                                <div class="row title bold-text">\n                                    Return qty\n                                </div>\n                                <div class="row">\n                                    <span ng-bind="vm.editItem.returnQty + \' of \' + vm.editItem.number">\n                                    </span>\n                                </div>\n                            </div>\n                            <!--END QTY SELECTOR-->\n\n                            <div class="small-offset-2 small-6 medium-offset-2 medium-6 columns bold-text">\n                                <div class="row title">\n                                    Refund\n                                </div>\n                                <div class="row refund-amount">\n                                    <span class="positive" ng-bind="vm.editItem.refundAmount | currency: \'&#8377;\' : 0"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row secondary-heading">\n            <div class="small-11 columns small-offset-1 returns-stepper-container">\n                <span class="bold-text">Return quantity</span>\n                <span class="float-right inline-block">\n                    <span class="returns-stepper" ng-click="vm.subtractReturnQty()">\n                        <span class="stepper-icon-container" ng-class="{\'disabled\': vm.editItem.returnQty == 1}">\n                            <span class="stroke"></span>\n                        </span>\n                    </span>\n                    <span class="returns-return-qty" ng-bind="vm.editItem.returnQty"></span>\n                    <span class="returns-stepper" ng-click="vm.addReturnQty()">\n                        <span class="stepper-icon-container" ng-class="{\'disabled\': vm.editItem.returnQty == vm.editItem.number}">\n                            <span class="stroke"></span>\n                            <span class="stroke vertical"></span>\n                        </span>\n                    </span>\n                </span>\n            </div>\n        </div>\n        <div class="row secondary-heading" ng-hide="vm.showReasonPanel">\n            <div class="small-1 columns">\n                <span class="icon-16 icon-check-pink"></span>\n            </div>\n            <div class="small-10 columns">\n                <h3 class="bold-text" ng-bind="vm.editItem.reason.description"></h3>\n            </div>\n            <div class="small-1 columns">\n                <span class="icon-small icon-angle-down float-right" ng-click="vm.toggleReasonPanel()"></span>\n            </div>\n        </div>\n\n        <div class="options-panel" ng-show="vm.showReasonPanel">\n            <div class="row title">\n                <div class="small-10 small-offset-1 columns">\n                    <h2>Why are you returning this?</h2>\n                </div>\n                <div class="small-1 columns">\n                    <span class="icon-small icon-angle-up float-right"\n                          ng-click="vm.toggleReasonPanel()"\n                          ng-show="vm.editItem.reason">\n                    </span>\n                </div>\n            </div>\n            <div class="row option" ng-repeat="reason in vm.returnData.returnReasons">\n                <div class="small-1 columns">\n                    <label for="{{\'reason\' + reason.id}}" class="option-icon">\n                        <input type="radio" name="reason"\n                               id="{{\'reason\' + reason.id}}" class="hs-radio"\n                               ng-value="reason.id"\n                               ng-change="vm.changeReason(reason)"\n                               ng-model="vm.editItem.reason.id">\n                        <span class="icon"></span>\n                    </label>\n                </div>\n                <div class="small-11 columns option-text" >\n                    <div>\n                        <label for="{{\'reason\' + reason.id}}" class="option-label" ng-bind="reason.description"></label>\n                    </div>\n                    <div class="option-comment" ng-show="vm.editItem.reason.id == reason.id">\n                        <div class="group">\n                            <textarea ng-model="vm.editItem.reason.comment" class="placeholder-text" placeholder="{{reason.reasonPlaceholder || \'Add your comments\'}}" rows="4" maxlength="500"></textarea>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<div class="fixed-bottom"\n     ng-hide="vm.selectStep.inactive">\n    <button class="button primary order-now sticky-button"\n            ng-click="vm.getRefundDetails()"\n            ng-hide="vm.showReturnPanel"\n            ng-bind="vm.returnData.returnItemCount ? \'Proceed to pickup\' : \'Select item(s)\'"\n            ng-disabled="!vm.returnData.returnItemCount">\n    </button>\n    <button class="button primary order-now sticky-button"\n            ng-click="vm.updateEditItem()"\n            ng-show="vm.showReturnPanel"\n            ng-disabled="vm.disableConfirmSelection()">\n        Done\n    </button>\n</div>\n\n\n<div class="inactive-overlay non-stackable" ng-show="vm.selectStep.inactive">\n    <div class="edit-checkout-button-container" ng-hide="vm.showSpinner.refund">\n        <button class="button" ng-click="vm.goToStep(\'select\')">Edit</button>\n    </div>\n</div>\n\n<div class="cart-loader-overlay" ng-show="vm.showSpinner.select">\n    <div>\n        <div class=\'cart-spinner\'>\n            <div class=\'spinner\'>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n                <div class=\'bullet\'></div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/account/card-notification/card-notification.html",'<div class="cards-wrapper">\n    <div id="parentWrapper">\n        <div class="card-groups">\n            <div class="card"\n                 ng-repeat="card in vm.cards | limitTo : 3 : 0"\n                 ng-class="{\'remove-card-animation\': $index == 0 && vm.canRemoveCard, \'last-card\': $index == 2, \'first\': $first,\n                                  \'no-filter\': $index == 1 && vm.canRemoveCard}"\n                 ng-style="vm.setCardStyle($index)">\n                <div class="card-summary"\n                     ng-class="{\'account-card-bg-birthday\': vm.CART_TYPE.BIRTHDAY == card.cardType.toLowerCase(),\n                                \'account-card-bg-returned cancelled\': vm.CART_TYPE.ORDER == card.cardType.toLowerCase(),\n                                \'account-card-bg-track\': vm.CART_TYPE.ORDER_ITEM == card.cardType.toLowerCase(),\n                                \'small-bg\': vm.isMobileDevice(),\n                                 \'second-card\': $index == 1,\n                                 \'third-card\': $index == 2 }"\n                     ng-style="{\'background-color\': card.colour}">\n                    <div class="inline-block float-right"\n                         ng-class="{\'close-button-mobile-wrapper\': vm.isMobileDevice(), \'close-button-wrapper\' : !vm.isMobileDevice(), \'hide-button\': vm.canRemoveCard}"\n                         ng-show="$first"\n                         ng-click="vm.removeCard($index, card.cardId)">\n                        <span class="icon"\n                              ng-class="vm.isMobileDevice() ?  \'icon-medium icon-cross-white\' : \'icon-16 icon-cross-grey\' "></span>\n                    </div>\n                    <div class="card-products" ng-show="card.products && (vm.CART_TYPE.ORDER == card.cardType.toLowerCase() || vm.CART_TYPE.ORDER_ITEM == card.cardType.toLowerCase())">\n                        <div class="product-holder inline-block"\n                             ng-repeat="product in card.products"\n                             ng-class="{\'last-product\': $last}"\n                             ng-if="$index < (vm.isMobileDevice() ? (card.products.length > 4 ? 3 : 5) : (card.products.length > 3 ? 2 : 3))">\n                                <img class="product-imgUrl" ng-src="{{product.imageUrl}}">\n                        </div>\n                        <div class="product-holder inline-block more-text-holder"\n                             ng-show="card.products.length > (vm.isMobileDevice() ? 4 : 3)">\n                            <div class="product-imgUrl card-more">\n                                <div class="card-count" ng-bind="\'+\' + (card.products.length - (vm.isMobileDevice() ? 3 : 2))"></div>More\n                            </div>\n                        </div>\n                    </div>\n                    <div class="product-imgUrl card-birthday" ng-show="vm.CART_TYPE.BIRTHDAY == card.cardType.toLowerCase()">\n                        <div class="birthday-text">HAPPY BIRTHDAY</div>\n                        <div class="birthday-message" ng-bind="card.bannerMessage"></div>\n                    </div>\n                    <div class="card-milestones" ng-show="vm.CART_TYPE.ORDER == card.cardType.toLowerCase() || vm.CART_TYPE.ORDER_ITEM == card.cardType.toLowerCase()">\n                        <div class="milestone-wrapper">\n                            <div class="milestone" ng-repeat="i in vm.getMilestoneRange(card.totalMilestones)" ng-style="vm.getWidth(card.totalMilestones - 1)">\n                                <div class="connector" ng-class="{\'first\': $first, \'last\': $last, \'active\': $index < card.currentMilestone - 1, \'delivered\': card.currentMilestone == card.totalMilestones}"></div>\n                                <div class="circle" ng-class="{\'first\': $first, \'last\': $last, \'active\': $index <= card.currentMilestone - 1 , \'delay\': card.isDelay && $index == card.currentMilestone - 1, \'delivered\': card.currentMilestone == card.totalMilestones}" ></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="row card-details">\n                    <div class="row">\n                        <div class="card-heading"  ng-class="{\'delay\': card.isDelay}">\n                            <div ng-bind="card.cardTitle"></div>\n                        </div>\n                        <div class="card-message">\n                            <div ng-bind="card.cardMessage"></div>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="card-action">\n                            <a ng-href="{{card.action.action}}" ng-click="vm.trackOrder(card.cardType, card.action, $event)">\n                                <div class="icon inline-block"\n                                     ng-class="{\'icon-account-card-shop\': vm.CART_TYPE.BIRTHDAY == card.cardType.toLowerCase(),\n                                 \'icon-account-card-track\': vm.CART_TYPE.ORDER_ITEM == card.cardType.toLowerCase(),\n                                 \'icon-account-card-details\': vm.CART_TYPE.ORDER == card.cardType.toLowerCase(),\n                                 \'icon-16\': !vm.isMobileDevice(),\n                                 \'icon-20\': vm.isMobileDevice()}"></div>\n                                <div class="action-text inline-block" ng-bind="card.action.actionText"></div>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n\n'),e.put("app/components/widgets/boutique/card/boutique-card.html",'<div class="boutique link">\n    <a ng-href="{{::vm.boutique.href}}" ng-click="vm.boutiqueClicked()">\n        <div class="image image-placeholder" ng-style="{height: vm.getHeight()}">\n            <div ng-style="{\'padding-bottom\': vm.getHeight(), \'background-size\': \'100%\', \'background-repeat\': \'no-repeat\'}"\n                 lazy-bg="{{::vm.boutique.getBoutiqueImage() | ImagePolicy}}" animate-visible="true" animate-speed="0.5s"></div>\n            <div class="tags" ng-hide="vm.boutique.isDepartment || (vm.boutique.isTile ? vm.boutique.isTile && vm.boutique.tileType == \'TIP\' : false)">\n                <time-left end-time="::vm.boutique.endDate" start-time="::vm.boutique.startDate" ng-if="::!vm.boutique.isTile"></time-left>\n            </div>\n        </div>\n        <div class="title-wrapper">\n            <h3 ng-bind="::(vm.boutique.name || vm.boutique.title)"></h3>\n            <div class="tag-line"\n                  ng-if="::(vm.boutique.tagline || vm.boutique.subtitle)"\n                  ng-bind="::(vm.boutique.tagline || vm.boutique.subtitle)">\n            </div>\n        </div>\n    </a>\n</div>'),e.put("app/components/widgets/boutique/list/boutique-list.html","<div class=\"parent-container\">\n    <div salvattore class=\"boutique-container\" boutiques=\"vm.boutiques\" data-columns=\"\">\n    </div>\n    <div class=\"hide-for-large\" ng-repeat=\"vid in vm.data\" ng-bind-html=\"vm._$sce.trustAsHtml(vid[0])\"\n         ng-style=\"{'position': 'absolute', 'top': vid[3], 'width': vid[1], 'height': vid[2], 'z-index': 8, 'left': '8px'}\"></div>\n</div>\n"),e.put("app/components/widgets/boutique/multi-boutique-tile/multi-boutique-tile.html",'<div class="boutique image-placeholder link disable">\n    <div class="row" ng-repeat="tileRow in vm.boutique.tiles" ng-init="sectionIndex = $index">\n        <a ng-repeat="tile in tileRow" ng-href="{{vm.getRedirectUrl(tile)}}" ng-click="vm.setCustomTileId(tileRow,$index)">\n            <div class="disable-image-download float-left"\n                 ng-style="{width: (100 / tileRow.length) + \'%\', \'padding-bottom\': (((tile.height || vm.boutique.flexiImageHeight)/((tile.width || vm.boutique.flexiImageWidth)*tileRow.length))*100 || 100)+\'%\', \'background-size\': \'100%\'}"\n                 lazy-bg="{{tile.imageUrl | ImagePolicy}}">\n                <div class="video-container hide-for-medium" ng-class="\'cnt-\'+sectionIndex+$index" fit-video ng-style="{width: \'100%\'}" ng-if="tile.action_type ==\'VIDEO\'">\n                    <iframe width="100%" height="100%" ng-src="{{::vm.getUrl(tileRow, tile, \'cnt-\'+sectionIndex+$index)}}" frameborder="0" allowfullscreen></iframe>\n                </div>\n                <div class="transparent-img-overlay" ng-click="tile.action_type ==\'VIDEO\'?vm.openVideo(tile):\'\'"></div>\n            </div>\n        </a>\n    </div>\n    <div class="title-wrapper" ng-if="vm.boutique.showTileName">\n        <h3 ng-bind="::(vm.boutique.name || vm.boutique.title)"></h3>\n        <div class="tag-line" ng-bind="::(vm.boutique.tagline || vm.boutique.subtitle)"></div>\n    </div>\n</div>\n'),e.put("app/components/widgets/boutique/special-page-boutique/special-page-boutique.html",'<div class="special-page-boutiques-wrapper" ng-click="vm.goToLink()">\n    <div class="boutique-image disable-image-download">\n        <div class="banner-image-wrapper" ng-show="vm.boutique.bannerImageUrl">\n            <a ng-href="{{vm.boutique.href}}">\n                <div class="boutique-item" id="boutique-item"\n                     ng-style="{\'background-image\':\'url(\' + vm.boutique.bannerImageUrl + \')\', \'background-size\': \'100% 100%\'}"> </div>\n            </a>\n        </div>\n    </div>\n    <div class="boutique-summary">\n        <div class="boutique-summary-container">\n            <div class="boutique-sub-img-wrapper">\n                <div class="product-img link disable-image-download"\n                     ng-class="{\'last\': $last}"\n                     ng-repeat="product in vm.products">\n                    <a ng-show="product.mediumImg"\n                       ng-href="{{vm.boutique.href + vm.deepLinkConstant.deepLinkBaseUrl + vm.boutique.id + vm.deepLinkConstant.utmProductBaseUrl + product.id}}"\n                       onclick="return false;"\n                       ng-click="vm.goToPLP(product.id)">\n                        <img ng-src="{{product.mediumImg}}">\n                        <div class="transparent-img-overlay"></div>\n                    </a>\n                    <div ng-hide="product.mediumImg" class="boutique-pattern-placeholder"></div>\n                </div>\n            </div>\n            <div class="boutique-sub-img-info">\n                <a ng-href="{{vm.boutique.href}}">\n                    <div class="row title">\n                        <span ng-bind="vm.boutique.name"></span>\n                    </div>\n                    <div class="row tagline">\n                        <span ng-bind="vm.boutique.tagline"></span>\n                    </div>\n                    <div class="row action-wrapper">\n                        <div class="icon icon-large icon-track-arrow"></div>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("app/components/widgets/cancellation/cancellable-item/cancellable-item-loader.html",""),e.put("app/components/widgets/cancellation/cancellable-item/cancellable-item.html",'<div class="cancellable-item">\n    <div class="row">\n        <div class="small-1 medium-1 columns">\n            <label class="cancellable-item-checkox">\n                <input type="checkbox" class="hs-checkbox" ng-model="vm.item.isCancelled" ng-change="vm.itemChange()" />\n                <span></span>\n            </label>\n        </div>\n        <div class="small-3 medium-3 columns">\n            <div class="thumb"\n                 ng-style="{\'background-image\': \'url(\' + vm.item.imgUrl + \')\'}">\n            </div>\n        </div>\n        <div class="small-8 medium-8 columns item-details">\n            <div class="row">\n                <div class="product-name small-text" ng-bind="::vm.item.productName"></div>\n            </div>\n            <div class="row">\n                <div class="size small-text">\n                    <span class="title">Size </span>\n                    <span ng-bind="::vm.item.size"></span>\n                </div>\n            </div>\n            <div class="row small-text" ng-class="{\'bold-text\': vm.item.isCancelled}">\n                <!--QTY SELECTOR-->\n                <div class="small-4 medium-4 columns qty show-for-large">\n                    <div class="row title">\n                        <span ng-show="vm.item.isCancelled">Cancel&nbsp;</span>Qty\n                    </div>\n                    <div class="row">\n                        <span class="refund-qty-for-small"\n                              ng-hide="vm.item.isCancelled"\n                              ng-class="{\'cancelled\': vm.item.isCancelled}"\n                              ng-bind="vm.item.cancelQty + \' of \' + vm.item.qtyArray.length">\n                        </span>\n                        <select class="select-cancel-qty"\n                                ng-options="qty as qty for qty in vm.item.qtyArray"\n                                ng-show="vm.item.isCancelled"\n                                ng-model="vm.item.cancelQty" ng-change="vm.itemChange()">\n                        </select>\n                    </div>\n                </div>\n                <div class="small-4 medium-4 columns qty hide-for-large"\n                     ng-click="vm.showCancelQtySelector()">\n                    <div class="row title">\n                        <span ng-show="vm.item.isCancelled">Cancel&nbsp;</span>Qty\n                    </div>\n                    <div class="row">\n                        <span class="refund-qty-for-small"\n                              ng-class="{\'cancelled\': vm.item.isCancelled}"\n                              ng-bind="vm.item.cancelQty + \' of \' + vm.item.qtyArray.length">\n                        </span>\n                        <span class="icon-small icon-angle-down"></span>\n                    </div>\n                </div>\n                <!--END QTY SELECTOR-->\n\n                <div class="small-offset-2 small-6 medium-offset-2 medium-6 columns">\n                    <div class="row title" ng-show="vm.item.isCancelled">\n                        Refund\n                    </div>\n                    <div class="row refund-amount" ng-show="vm.item.isCancelled">\n                        <span class="positive" ng-bind="vm.item.itemRefund | currency: \'&#8377;\' : 0"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),
e.put("app/components/widgets/cancellation/return-item-modal/return-item-modal.html",'<div class="return-item-modal">\n    <div class="alert-icons-large icon-return-email text-center"></div>\n    <div class="alert-title text-center">Unable to access your email</div>\n    <div class="alert-msg">\n        <div>\n            Please email your return request from your registered email-id to wecare@hopscotch.in with\n        </div>\n        <div class="return-product-detail">\n            1. Name of the product<br>\n            2. Reason for return\n        </div>\n        <div>\n            We’ll send you a confirmation email once your return request is generated.\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/cart/cart-alert/cart-alert-dialog.html",'<div class="cart-alert text-center">\n    <div class="alert-icons-large" ng-class="vm.dialogData.logo || \'common-dialog-alert\'"></div>\n    <div class="alert-title" ng-bind="vm.dialogData.title || \'It’s been a while…\'"></div>\n    <div class="alert-msg" ng-bind="vm.dialogData.message"></div>\n    <div class="alert-action">\n        <a class="button primary small-button"\n           ng-bind="vm.dialogData.button"\n           ng-href="{{vm.dialogData.gotoHref}}">\n        </a>\n    </div>\n</div>\n'),e.put("app/components/widgets/cart/cart-details/cart-details.html",'<div class="cart-details">\n\n    <div class="panel cart-item-holder" ng-repeat="orderGroup in vm.cartDetails.cartResponse.orderResponse.orderGroups">\n        <div class="group-edd" ng-hide="orderGroup.isSoldOutGroup">Arrives <span ng-bind="orderGroup.deliveryMsg"></span></div>\n        <div ng-repeat="orderItem in orderGroup.orderItemInfos">\n            <cart-item product="orderItem" on-item-change="vm.onItemChange()" is-sold-out="orderGroup.isSoldOutGroup" updating-cart="vm.updatingCart"></cart-item>\n        </div>\n    </div>\n\n    <div class="credit-info panel" ng-show="vm.cartDetails.showCreditPanel">\n        <div ng-repeat="credit in vm.cartDetails.cartResponse.orderResponse.creditAccounts">\n            <div class="row" ng-if="credit.creditType != \'W\' && credit.amount">\n                <label>\n                    <input type="checkbox" name="size" class="hs-checkbox"\n                           ng-change="vm.updateCredits(credit)"\n                           ng-model="credit.applied"/>\n                    <span></span>\n                    <span ng-class="{active: credit.applied}"\n                          ng-bind="::(credit.creditName + \' credits (\' + (credit.amount | currency:\'&#8377;\':0) + \')\')">\n                    </span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class="promocode-info panel">\n        <div class="row">\n            <div class="group">\n                <input type="text"\n                       name="promocode"\n                       maxlength="20"\n                       ng-model="vm.promoCode"\n                       ng-keypress="($event.which === 13) ? vm.applyPromoCode(): 0"\n                       ng-disabled="vm.disableEnter"\n                       class="round">\n                <label>Promo code</label>\n                <span class="apply-promocode"\n                      ng-click="vm.applyPromoCode()"\n                      ng-class="{\'grayout\':!vm.promoCode}">Apply</span>\n            </div>\n        </div>\n        <div class="row" ng-repeat="promo in vm.cartDetails.cartResponse.orderResponse.orderPromocodes">\n            <label>\n                <input type="checkbox"\n                       name="size"\n                       class="hs-checkbox"\n                       ng-model="promo.applied"\n                       ng-change="vm.removePromoCode(promo.code)"/>\n                <span></span>\n                <span ng-class="{active: false}"> {{ promo.code | uppercase }}\n                    <span class="small-text" ng-bind="\'(\' + (promo.discount | currency:\'&#8377;\':0) +\' off)\'"></span>\n                </span>\n            </label>\n        </div>\n    </div>\n\n    <div class="summary panel">\n        <div class="row">\n            <div class="small-8 medium-8 columns">\n                <span class="section-title ">Total item price</span>\n            </div>\n            <div class="small-4 medium-4 columns">\n                <span class="section-content"\n                      ng-bind="vm.cartDetails.cartResponse.orderResponse.order.productAmount | currency:\'&#8377;\':0">\n                </span>\n            </div>\n        </div>\n        <div class="row" ng-show="vm.cartDetails.cartResponse.orderResponse.order.discount > 0">\n            <div class="small-8 medium-8 columns">\n                <span class="section-title ">Discount</span>\n            </div>\n            <div class="small-4 medium-4 columns positive">\n                <span class="section-content"\n                      ng-bind="\'- \' + (vm.cartDetails.cartResponse.orderResponse.order.discount | currency:\'&#8377;\':0)">\n                </span>\n            </div>\n        </div>\n        <div class="row" ng-repeat="promo in vm.cartDetails.cartResponse.orderResponse.orderPromocodes" ng-show="promo.applied">\n            <div class="small-8 medium-8 columns">\n                <span class="section-title" ng-bind="::promo.code">\n                </span>\n            </div>\n            <div class="small-4 medium-4 columns positive">\n                <span class="section-content" ng-bind="::(\'- \' + (promo.discount | currency:\'&#8377;\':0))"></span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="small-8 medium-8 columns">\n                <span class="section-title ">Total amount</span>\n            </div>\n            <div class="small-4 medium-4 columns">\n                <span class="section-content"\n                      ng-bind="vm.cartDetails.cartResponse.orderResponse.order.totalAmount | currency:\'&#8377;\':0">\n                </span>\n            </div>\n        </div>\n        <div class="row" ng-repeat="credit in vm.cartDetails.cartResponse.orderResponse.creditAccounts" ng-show="credit.applied">\n            <div class="small-8 medium-8 columns">\n                <span class="section-title">\n                    <span class="credit-name" ng-bind="::credit.creditName"></span> credits\n                </span>\n            </div>\n            <div class="small-4 medium-4 columns positive">\n                <span class="section-content" ng-bind="::(\'- \' + (credit.amount | currency:\'&#8377;\':0))"></span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="small-8 medium-8 columns">\n                <span class="section-title ">Shipping</span>\n            </div>\n            <div class="small-4 medium-4 columns" ng-class="{positive: !vm.cartDetails.cartResponse.orderResponse.order.postAge}">\n                <!-- Not adding currency filter here, do not expect it do go over 999! -->\n                <span class="section-content"\n                      ng-bind="vm.cartDetails.cartResponse.orderResponse.order.postAge ? \'&#8377;\' + vm.cartDetails.cartResponse.orderResponse.order.postAge : \'Free\'">\n                </span>\n            </div>\n        </div>\n    </div>\n\n</div>\n\n'),e.put("app/components/widgets/cart/cart-item/cart-item-loader.html",'<div class="cart-item">\n    <div class="row">\n        <div class="small-3 medium-3 columns" >\n            <div class="thumb cart-loader"></div>\n        </div>\n        <div class="item-details small-9 medium-9 columns">\n            <div class="row">\n                <div class="small-11 medium-11 columns">\n                    <span class="brand-name cart-loader"></span>\n                    <span class="product-name small-text cart-loader"></span>\n                    <span class="size small-text cart-loader"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/cart/cart-item/cart-item.html",'<div ng-class="{\'sold-out\': vm.isSoldOut}">\n    <div class="cart-item-overlay" ng-show="vm.isSoldOut">\n        <span class="cart-item-sold-out">Sold out</span>\n    </div>\n    <div class="available-qty-tag" ng-if="::(vm.product.selectMaxValue > 0 && (vm.product.quantity > vm.product.selectMaxValue))">\n        <span class="cart-item-available-qty" ng-bind="::vm.product.selectMaxValue + \' left\'">\n        </span>\n    </div>\n\n    <div class="cart-item" ng-hide="vm.itemRemoved">\n        <div class="row">\n            <div class="small-3 medium-3 columns">\n                <a ng-href="{{vm.viewProduct()}}">\n                    <div class="thumb"\n                         ng-style="{\'background\': \'url(\' + vm.product.imgSrc + \') no-repeat center\', \'background-size\': \'contain\'}">\n                    </div>\n                </a>\n            </div>\n            <div class="item-details small-9 medium-9 columns">\n                <div class="row">\n                    <div class="small-8 medium-8 columns">\n                        <span class="brand-name" ng-bind="::vm.product.brandName"></span>\n                        <span class="product-name small-text" ng-bind="::vm.product.productName"></span>\n                        <span class="size small-text" ng-bind="::(\'Size: \' + vm.selectedSkuName)" ng-hide="vm.isOneSize"></span>\n                    </div>\n                    <div class="small-4 medium-4 columns">\n                        <div class="row item-prices small-text">\n                            <span class="regular-price"\n                                  ng-class="{\'invisible\': vm.showDiscount()}"\n                                  ng-bind="::(vm.product.regularTotal | currency : \'&#8377;\' : 0)">\n                            </span>\n                        </div>\n                        <div class="row">\n                            <span class="retail-price" ng-bind="::(vm.product.subTotal | currency: \'&#8377;\' : 0)"></span>\n                        </div>\n                        <div class="row item-prices small-text">\n                            <span class="discount positive"\n                                  ng-class="{\'invisible\': vm.showDiscount()}"\n                                  ng-bind="::(vm.product.discount + \'% off\')">\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div class="row small-text">\n                    <div class="small-8 medium-8 columns qty">\n                        <span>Qty</span>\n                        <div class="stepper">\n                            <button class="stepper-minus" ng-click="vm.subtractQty()">-</button>\n                            <span class="qty-label" ng-bind="vm.product.quantity"></span>\n                            <button class="secondary stepper-plus" ng-click="vm.addQty()">+</button>\n                        </div>\n                    </div>\n                    <div class="small-4 medium-4 columns remove">\n                        <span ng-click="vm.removeItem()">Remove</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n'),e.put("app/components/widgets/cart/notification/cart-notification.html",'<div class="cart-notification clearfix">\n    <!--div class="cart-notification-image" ng-style="{\'background\': \'url(\' + vm.product.imgUrl + \') no-repeat center\'}" >\n    </div-->\n    <a href="#cart" class="show-for-small-only">\n        <div class="cart-notification-image">\n            <span class="helper"></span>\n            <img src="{{vm.product.imgUrl}}" alt="">\n        </div><!--/.cart-notification-image-->\n        <div class="cart-notification-detail">\n            <div class="detail">\n                <div class="header"\n                     ng-if="!(vm.product.attrs[0].isOneSize || vm.product.attrs[0].value.toLowerCase() === \'one size\' || vm.product.attrs[0].value.toLowerCase() === \'onesize\')"\n                     ng-bind="vm.product.attrs[0].name + \': \' + vm.product.attrs[0].value"> </div>\n                <div class="message">\n                    Added to your Cart!\n                </div>\n            </div>\n            <div class="cart-link">View cart</div>\n        </div><!--/.cart-notification-detail-->\n    </a>\n    <div class="cart-notification-image hide-for-small-only">\n        <span class="helper"></span>\n        <img src="{{vm.product.imgUrl}}" alt="">\n    </div><!--/.cart-notification-image-->\n    <div class="cart-notification-detail hide-for-small-only">\n        <div class="detail">\n            <div class="header"\n                 ng-if="!(vm.product.attrs[0].isOneSize || vm.product.attrs[0].value.toLowerCase() === \'one size\' || vm.product.attrs[0].value.toLowerCase() === \'onesize\')"\n                 ng-bind="vm.product.attrs[0].name + \': \' + vm.product.attrs[0].value"> </div>\n            <div class="message">\n                Added to your Cart!\n            </div>\n        </div>\n        <div class="cart-link">View cart</div>\n    </div><!--/.cart-notification-detail-->\n</div><!--/.cart-notification-->\n'),e.put("app/components/widgets/cart/phone-verification/phone-verification.html",'<div class="modal">\n    <div class="mobile-verification login-box authentication ng-cloak">\n        <div class="float-center phone-logo icon-ivr-verify"></div>\n        <div class="auth-offer">\n            <div>Help us verify your number.</div>\n        </div>\n        <div ng-if="!vm.phoneNumberSent" class="float-center fb-message">Enter your mobile number and we’ll send you a verification code.</div>\n        <div ng-if="vm.phoneNumberSent" class="float-center fb-message">Enter verification code sent to your phone number..</div>\n\n        <div class="group" ng-show="!vm.phoneNumberSent">\n            <input type="tel"\n                   name="mobile"\n                   ng-model="vm.phoneNumber"\n                   maxlength="11"\n                   ng-keypress="($event.which === 13) ? vm.sendPhoneNumber(): 0"\n                   required\n                   format-phone\n                   ng-disabled="vm.disableEnter"\n                   class="round">\n            <label>Phone Number</label>\n            <span ng-show="vm.phoneNumber" class="submit-phone" ng-click="vm.sendPhoneNumber()">Submit</span>\n        </div>\n\n        <div class="group" ng-show="vm.phoneNumberSent">\n            <input name="verification"\n                   required\n                   ng-model="vm.verificationNumber"\n                   ng-keypress="($event.which === 13) ? vm.verifyPhoneNumber(): 0"\n                   ng-disabled="vm.disableEnter"\n                   ng-pattern="vm.numberRegex"\n                   maxlength="6"\n                   class="round">\n            <label>Verification Code</label>\n            <span ng-show="vm.verificationNumber" class="submit-phone" ng-click="vm.verifyPhoneNumber()">Submit</span>\n        </div>\n        <div ng-if="!vm.phoneNumberSent" class="float-center fb-message">We will not share your number with anyone.</div>\n        <div class="bottom-link">\n            <a ng-if="vm.phoneNumberSent"\n               ng-click="vm.phoneNumberSent = false">Did not get code? Try again</a>\n        </div>\n    </div>\n</div>\n\n\n'),e.put("app/components/widgets/department/banner/department-banner.html",'<div class="banner-wrapper department-banner">\n    <ul rn-carousel rn-carousel-controls rn-carousel-auto-slide="3" rn-carousel-duration="0"\n        rn-carousel-easing="easeOutQuad" rn-carousel-index="vm.carouselIndex"\n        class="banner banner-height"\n        ng-if="vm.dynamicBanners"\n        ng-class="{\'banner-category\': vm.dynamicBanners.length > 1}">\n        <li ng-repeat="banner in vm.dynamicBanners track by $index" ng-click="vm.trackBanner(banner, $index)">\n            <a ng-href="{{::vm.getBannerUrl(banner)}}">\n                <div class="banner-image hide-for-small-only"\n                     ng-style="{\'background\': \'linear-gradient(to bottom, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.10) 85%, rgba(0, 0, 0, 0.20) 100%, rgb(0, 0, 0)), url({{::banner.heroImageUrl | ImagePolicy}}) no-repeat center\'}">\n                </div>\n                <div class="banner-image show-for-small-only"\n                     ng-style="{\'background\': \'linear-gradient(to bottom, rgba(0, 0, 0, 0) 50%, rgba(0, 0, 0, 0.28) 85%, rgba(0, 0, 0, 0.56) 100%, rgb(0, 0, 0)), url({{::banner.imageUrl | ImagePolicy}}) no-repeat center\'}">\n                    <div class="title-wrapper">\n                        <h3 ng-bind="::banner.name"></h3>\n                        <h4 ng-bind="::banner.tagline"></h4>\n                    </div>\n                </div>\n            </a>\n        </li>\n        <div rn-carousel-indicators class="carousel-links hide-for-small-only" ng-style="{\'pointer-events\': \'none\'}"\n             ng-if="vm.banners.items.length > 1"\n             slides="vm.banners.items"\n             rn-carousel-index="(vm.carouselIndex % vm.banners.items.length)"></div>\n    </ul>\n</div>'),e.put("app/components/widgets/department/brand/department-brand.html",'<div class="brands">\n    <div class="groups">\n        <div class="inline-group-wrapper">\n            <div class="inline-group" ng-repeat="brand in vm.brands.items" ng-click="vm.trackBrand(brand, $index)">\n                <a ui-sref="products( { id: brand.product_list_id, name: brand.name.split(\' \').join(\'-\'), funnel:vm.funnel, section:vm.section, subsection:vm.subsection, plp:vm.plp, from_screen: vm._$state.current.name, from_section: vm.section } )">\n                    <div class="brand link">\n                        <div class="logo" lazy-bg="{{brand.brand_logo | ImagePolicy}}"></div>\n                        <div class="image" lazy-bg="{{::brand.imageUrl | ImagePolicy}}"></div>\n                    </div>\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div class="scroller-wrapper scroller-wrapper-left out show-for-large" ng-show="vm.showScroller.left">\n        <div class="scroller scroller-left" scroller parent="\'.brands .groups\'"\n             child="\'.brands .inline-group-wrapper\'" fraction="0.7" show-scroller="vm.showScroller"></div>\n    </div>\n    <div class="scroller-wrapper scroller-wrapper-right out show-for-large" ng-show="vm.showScroller.right">\n        <div class="scroller scroller-right" scroller parent="\'.brands .groups\'"\n             child="\'.brands .inline-group-wrapper\'" fraction="0.7" show-scroller="vm.showScroller"></div>\n    </div>\n</div>\n'),e.put("app/components/widgets/department/sba/department-sba.html",'<div class="age-group" ng-if="vm.sba">\n    <divider>{{::vm.sba.title}}</divider>\n    <img ng-src="{{::vm.sba.sbaImage}}" pick-color color="vm.colorCode" crossorigin="anonymous">\n    <div class="groups-wrapper">\n        <div class="groups">\n            <div class="inline-group-wrapper">\n                <div class="inline-group" ng-repeat="group in vm.sba.items" ng-click="vm.trackSba(group, $index)">\n                    <a ui-sref="products( { id: group.product_list_id, name: group.name.split(\' \').join(\'-\'), funnel:vm.funnel, section:vm.section, subsection:vm.subsection, plp:vm.plp, from_screen: vm._$state.current.name, from_section: vm.section } )">\n                        <div class="group link">\n                            <div class="group-text-wrapper" ng-if="!group.gender">\n                                <div class="group-range">{{ ::group.name.split(" ")[0] }}</div>\n                                <div class="group-year">{{ ::group.name.split(" ")[1] }}</div>\n                            </div>\n                            <div class="group-text-wrapper" ng-if="group.gender">\n                                <div class="group-range gender" ng-class="{\'girl\': group.gender == \'GIRL\', \'boy\': group.gender == \'BOY\'}"></div>\n                                <div class="group-year">{{ ::group.name }}</div>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="scroller-wrapper scroller-wrapper-left show-for-large"\n             ng-show="vm.showScroller.left" ng-style="{\'background-image\': \'linear-gradient(to left, rgba(245, 245, 245, 0), \'+vm.colorCode+\')\'}">\n            <div class="scroller scroller-left" scroller parent="\'.age-group .groups-wrapper\'"\n                 child="\'.age-group .inline-group-wrapper\'" fraction="0.7" show-scroller="vm.showScroller"></div>\n        </div>\n        <div class="scroller-wrapper scroller-wrapper-right show-for-large"\n             ng-show="vm.showScroller.right" ng-style="{\'background-image\': \'linear-gradient(to right, rgba(245, 245, 245, 0), \'+vm.colorCode+\')\'}">\n            <div class="scroller scroller-right" scroller parent="\'.age-group .groups-wrapper\'"\n                 child="\'.age-group .inline-group-wrapper\'" fraction="0.7" show-scroller="vm.showScroller"></div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/department/sbc/department-sbc.html",'<div class="department-sbc">\n    <divider>{{vm.sbc.title}}</divider>\n    <div class="groups-wrapper">\n        <div class="groups show-for-medium">\n            <div class="inline-group-wrapper">\n                <div class="inline-group" ng-repeat="catCol in vm.categoryArray">\n                    <a ng-repeat="cat in catCol" ui-sref="products( { id: cat.product_list_id, name: cat.name.split(\' \').join(\'-\'), funnel:vm.funnel, section:vm.section, subsection:vm.subsection, plp:vm.plp, from_screen: vm._$state.current.name, from_section: vm.section } )" ng-click="vm.trackSbc(cat, ($parent.$index * 2)+$index+1)">\n                        <div class="product link">\n                            <!--<div class="image" ng-style="{ \'background-image\' :\'url({{::cat.imageUrl}})\'}"></div>-->\n                            <div class="image" lazy-bg="{{cat.imageUrl | ImagePolicy}}"></div>\n                            <div class="prices">\n                                <span class="actual-price" ng-bind="::cat.name"></span>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="groups row small-up-3 show-for-small-only">\n            <div ng-repeat="cat in vm.sbc.items" class="inline-group column" ng-show="$index < 9 || ($index >= 9 && !vm.showMore)" ng-click="vm.trackSbc(cat, $index)">\n                <a ui-sref="products( { id: cat.product_list_id, name: cat.name.split(\' \').join(\'-\'), funnel:vm.funnel, section:vm.section, subsection:vm.subsection, plp:vm.plp } )">\n                    <div class="product link">\n                        <!--<div class="image" ng-style="{ \'background-image\' :\'url({{::cat.imageUrl}})\'}"></div>-->\n                        <div class="image" lazy-bg="{{cat.imageUrl | ImagePolicy}}"></div>\n                        <div class="prices">\n                            <span class="actual-price" ng-bind="::cat.name"></span>\n                        </div>\n                    </div>\n                </a>\n            </div>\n        </div>\n        <div class="scroller-wrapper scroller-wrapper-left out show-for-large" ng-show="vm.showScroller.left">\n            <div class="scroller scroller-left" scroller parent="\'.department-sbc .groups-wrapper\'"\n             child="\'.department-sbc .inline-group-wrapper\'" fraction="0.7" show-scroller="vm.showScroller"></div>\n        </div>\n        <div class="scroller-wrapper scroller-wrapper-right out show-for-large" ng-show="vm.showScroller.right">\n            <div class="scroller scroller-right" scroller parent="\'.department-sbc .groups-wrapper\'"\n             child="\'.department-sbc .inline-group-wrapper\'" fraction="0.7" show-scroller="vm.showScroller"></div>\n        </div>\n        <a href=""\n           class="button secondary view-more show-for-small-only"\n           ng-click="vm.viewMore()"\n           ng-bind="vm.showMore?\'View all\':\'View less\'"></a>\n    </div>\n</div>\n'),e.put("app/components/widgets/department/store/department-store.html",'<div class="row department-store" ng-repeat="store in vm.stores.items">\n    <div class="boutique-tile">\n        <div class="boutique">\n            <div class="row" ng-repeat="tileRow in store.tile_details">\n                <div class="tile" ng-repeat="tile in tileRow.tileGrid" ng-style="{width: (100 / tileRow.tileGrid.length) + \'%\'}">\n                    <a ng-href="{{vm.getRedirectUrl(tile)}}" ng-click="vm.trackStore(store, tile, $parent.$index, $index)">\n                        <!--<img ng-src="{{::tile.imageUrl}}" ng-style="{width: \'100%\'}">-->\n                        <div ng-style="{width: \'100%\', \'padding-bottom\': ((tile.height/(tile.width))*100 || 100)+\'%\', \'background-size\': \'100%\', \'background-repeat\': \'no-repeat\'}"\n                             lazy-bg="{{tile.imageUrl | ImagePolicy}}"></div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/department/trending/department-trending.html",'<div class="trendings" ng-if="vm.productListing.records.length">\n    <a ui-sref="products( { id: vm.trendings.product_list_id, name: vm.trendings.name.split(\' \').join(\'-\'), section: \'Trending\' } )">\n        <divider>\n            {{::vm.trendings.name}}<span class="arrow small"></span>\n            <h6 ng-if="vm.trendings.tagline" class="tagline">{{::vm.trendings.tagline}}</h6>\n        </divider>\n    </a>\n    <div class="trending">\n        <div class="groups" ng-class="\'groups-\'+vm.trendings.position">\n            <div class="inline-group-wrapper" ng-class="\'inline-group-wrapper-\'+vm.trendings.position">\n                <div class="inline-group" ng-repeat="list in vm.productListing.records track by $index" ng-click="vm.trackTrending($index+1)">\n                    <a ui-sref="product({productId: list.id, ignoredName: list.name.split(\' \').join(\'-\'), funnel:vm.funnel, section:vm.section, subsection:vm.subsection, plp:vm.plp, from_screen: vm._$state.current.name, from_section: vm.section })">\n                        <div class="product link">\n                            <div class="image" lazy-bg="{{::list.mediumImg | ImagePolicy}}"></div>\n                            <div class="prices">\n                                <span class="actual-price" ng-bind="::list.retailPrice | currency:\'&#8377;\':0"></span>\n                                <span ng-if="::(!list.onSale) && list.regularPrice > list.retailPrice"\n                                      class="vendor-price" ng-bind="list.regularPrice | currency:\'&#8377;\':0"></span>\n                                <span ng-if="list.discount" ng-bind="list.discount+\'%\'" class="discount"></span>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n                <div class="inline-group" ng-if="vm.productListing.totalRecords > 0" ng-click="vm.trackTrending(vm.productListing.totalRecords)">\n                    <a ui-sref="products( { id: vm.trendings.product_list_id, name: vm.trendings.name.split(\' \').join(\'-\'), funnel:vm.funnel, section:vm.section, subsection:vm.subsection, plp:vm.plp, from_screen: vm._$state.current.name, from_section: vm.section } )">\n                        <div class="product link">\n                            <div class="image last">\n                                <div class="count-link">\n                                    <span class="arrow"></span>\n                                </div>\n                            </div>\n                            <div class="prices">\n                                <span class="actual-price last">View all</span>\n                            </div>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="scroller-wrapper scroller-wrapper-left out show-for-large" ng-show="vm.showScroller.left">\n            <div class="scroller scroller-left" scroller parent="\'.groups-\'+vm.trendings.position"\n                 child="\'.inline-group-wrapper-\'+vm.trendings.position" fraction="1.1" show-scroller="vm.showScroller"></div>\n        </div>\n        <div class="scroller-wrapper scroller-wrapper-right out show-for-large" ng-show="vm.showScroller.right">\n            <div class="scroller scroller-right" scroller parent="\'.groups-\'+vm.trendings.position"\n                 child="\'.inline-group-wrapper-\'+vm.trendings.position" fraction="1.1" show-scroller="vm.showScroller"></div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/loader/filter/filter-loader.html",'<div class="filter-loader">\n    <div class="filter-loader-row">\n        <div class="filter-loader-row-column">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n        <div class="filter-loader-row-column">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n        <div class="filter-loader-row-column">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n        <div class="filter-loader-row-column hide-for-small-only">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n        <div class="filter-loader-row-column hide-for-small-only">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n        <div class="filter-loader-row-column hide-for-small-only">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n        <div class="filter-loader-row-column last hide-for-small-only">\n            <div class="filter-placeholder">\n                <div class="inner-loader"> </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/loader/order-detail/order-detail-loader.html",'<div class="medium-12 columns order-detail-loader-container hide-for-small-only">\n        <div class="medium-12 columns order-detail-loader-header">\n                <div class="medium-12 columns">\n                        <div class="medium-3 columns order-loader-name"></div>\n                </div>\n                <div class="medium-12 columns">\n                        <div class="medium-2 columns order-loader-description"></div>\n                </div>\n        </div>\n        <div class="medium-12 columns order-datail-card-payment-info-container">\n                <div class="medium-8 columns order-detail-card-loader-container">\n                        <div class="medium-2 columns empty-card"></div>\n                        <div class="medium-3 columns float-right empty-card"></div>\n                </div>\n                <div class="medium-4 columns order-payment-loader-container">\n                        <div class="small-12 columns">\n                                <div class="medium-4 columns empty-card top-card"></div>\n                        </div>\n                        <div class="small-12 columns">\n                                <div class="medium-3 columns empty-card bottom-card"></div>\n                        </div>\n                        <div class="small-12 columns divider-loader"></div>\n                </div>\n        </div>\n</div>\n<div class="small-12 columns order-detail-loader-container show-for-small-only">\n        <div class="small-12 columns order-detail-loader-header">\n                <div class="small-10 columns">\n                        <div class="small-10 columns order-loader-name"></div>\n                </div>\n                <div class="small-12 columns">\n                        <div class="small-5 columns order-loader-name"></div>\n                </div>\n                <div class="small-12 columns">\n                        <div class="small-3 columns order-loader-name"></div>\n                </div>\n        </div>\n        <div class="small-12 columns order-datail-card-payment-info-container">\n                <div class="small-12 columns order-detail-card-loader-container">\n                        <div class="small-12 columns">\n                                <div class="small-4 columns empty-card"></div>\n                        </div>\n                        <div class="small-12 columns">\n                                <div class="small-5 columns empty-card"></div>\n                        </div>\n                </div>\n        </div>\n</div>\n'),
e.put("app/components/widgets/loader/pdp/pdp-loader.html",'<div class="pdp-loader-wrapper">\n    <div class="row pdp-loader">\n        <div class="small-12 medium-7 large-8 columns pdp-loader-image"> </div>\n        <div class="small-12 medium-5 large-4 columns pdp-loader-detail">\n            <div class="row header-loader">\n                <div class="header-loader-title"> </div>\n                <div class="header-loader-title subtitle"> </div>\n                <div class="header-loader-title subtitle subtitle-last"> </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/loader/placeholder/placeholder.html",'<div class="row" ng-class="{\'{{vm.class}}\':true}">\n    <div class="column"  ng-repeat="blockIndex in vm.maxBlocks track by $index" ng-class=\n         "{\'show-for-medium\': ($index + 1) > vm.smallBlocks && ($index + 1) <= vm.mediumBlocks,\n         \'show-for-large\': ($index + 1) > vm.mediumBlocks}">\n        <div class="mask"><div ng-show="vm.isPlp" class="mask-plp"></div></div>\n        <div class="boutique-loader"></div>\n    </div>\n</div>'),e.put("app/components/widgets/loader/spinner/spinner.html","<div class='spinner-wrapper'>\n    <div class='spinner'>\n        <div class='bullet'></div>\n        <div class='bullet'></div>\n        <div class='bullet'></div>\n        <div class='bullet'></div>\n    </div>\n</div>"),e.put("app/components/widgets/loader/title/title-loader.html",'<div class="header-loader">\n    <div class="header-loader-title"> </div>\n    <div class="header-loader-title subtitle"> </div>\n</div>\n'),e.put("app/components/widgets/moments/card/moment-card.html",'<div class="moment" ng-class="{\'hide-for-small-only\': vm.moment.isProfile }">\n    <a ng-href="{{vm.getHref()}}" ng-click="vm.setSegmentParams($event)" ng-if="!vm.moment.isProfile">\n        <div class="image moments-placeholder link" ng-style="{height: vm.getHeight()}">\n            <div class="moment-bg" ng-style="{\'padding-bottom\': vm.moment.isTile? vm.getHeight(): \'100%\'}"\n                 lazy-bg="{{::vm.moment.imageUrl}}" animate-visible="true" animate-speed="0.5s"></div>\n        </div>\n        <div class="winner-badge" ng-if="vm.moment.isWinner">\n            <span class="icon icon-winner-feed winner-badge-icon"></span>\n        </div>\n    </a>\n    <div ng-if="vm.moment.isProfile" class="image hide-for-small-only profile-block" ng-style="{height: vm.getHeight()}">\n        <div class="moment-bg profile" ng-style="{\'padding-bottom\': vm.getHeight()}">\n            <div class="wrapper">\n                <div ng-if="vm.moment.imageUrl" class="user-image" lazy-bg="{{::vm.moment.imageUrl}}"></div>\n                <div ng-if="!vm.moment.imageUrl" class="user-image initials" ng-bind="vm.initials"></div>\n                <div class="name" ng-bind="vm.moment.name"></div>\n                <div class="details">\n                    <span ng-if="vm.moment.uploads" class="detail uploads" ng-bind="vm.moment.uploads + (vm.moment.uploads>1?\' Moments\':\' Moment\')"></span>\n                    <span ng-if="vm.moment.uploads && vm.moment.likes" class="detail dot" ng-if="vm.moment.likes"> &bull; </span>\n                    <span class="detail likes" ng-if="vm.moment.likes" ng-bind="vm.moment.likes + (vm.moment.likes>1?\' Likes\':\' Like\')"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="like-details" ng-if="!vm.moment.isTile" ng-style="{\'visibility\': vm.moment.isProfile?\'hidden\': \'visible\'}">\n        <span class="like-icon-container" ng-click="vm.toggleMomentLike()">\n            <span class="icon-18 show-for-small-only"\n                  ng-class="{\'icon-like-filled\': vm.moment.isLiked, \'icon-like-empty\': !vm.moment.isLiked}"></span>\n            <span class="icon-20 icon-like-empty hide-for-small-only"\n                  ng-class="{\'icon-like-filled\': vm.moment.isLiked, \'icon-heart-inactive\': !vm.moment.isLiked}"></span>\n        </span><!--\n        --><span class="like-count" ng-bind="vm.moment.likes > 0 ?vm.moment.likes:\'\'"></span>\n        <span ng-if="!vm.moment.isPopular" class="like-count ago" ng-bind="vm.getAgo(vm.moment.createdDate)"></span>\n        <span ng-if="vm.moment.isPopular && !vm.moment.isWinner" class="like-count ago tag">TOP PICK</span>\n    </div>\n</div>\n'),e.put("app/components/widgets/moments/detail/detail.html",'<div class="moment-upload-container moment-detail" id="moment-detail" ng-click="vm.clickedBody($event)" ng-if="vm.momentDetail.imageUrl">\n    <div class="row">\n        <div class="columns small-12 medium-7 large-8 border-right">\n            <div class="row moment-wrapper">\n                <div class="columns small-12 medium-10 large-10 image-detail moments-placeholder">\n                    <div class="image-block" lazy-bg="{{::vm.momentDetail.imageUrl}}" ng-style="{\'padding-bottom\': vm.paddingBottom}" animate-visible="true" animate-speed="0.5s">\n                        <div class="size-selector-primary" ng-style="{\'left\': vm.positions.left, \'bottom\': vm.positions.bottom}">\n                            <div class="row">\n                                <div class="sizes">\n                                    <span ng-repeat="kid in vm.momentDetail.kidNames" class="size" >\n                                        <span class="icon-baby icon icon-small"></span> {{kid}}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                        <span ng-class="{\'icon-source-fb\': vm.momentDetail.source==\'Facebook\', \'icon-source-insta\': vm.momentDetail.source==\'Instagram\', \'source-icon\': vm.momentDetail.source==\'Facebook\' || vm.momentDetail.source==\'Instagram\'}"\n                              ng-style="{\'right\': vm.positions.left, \'bottom\': vm.positions.bottom}"></span>\n                        <div class="winner" ng-if="vm.momentDetail.isWinner" ng-style="{\'right\': vm.positions.left, \'top\': vm.positions.bottom}"></div>\n                    </div>\n                </div>\n                <div class="columns small-12 medium-2 large-2 tools-column">\n                    <div class="tools-wrapper">\n                        <div class="block like-block" ng-click="vm.like()" ng-class="{\'liked\': vm.isLiked, \'four-cols\': vm.momentDetail.likes, \'disable\': vm.likeClicked || vm.detailsLoading}">\n                            <span class="icon"></span>\n                            <span class="text show-for-small-only" ng-bind="(vm.isLiked||!vm.momentDetail.likes?\' \': \'Like it\')"></span>\n                            <span class="text" ng-if="!vm.momentDetail.likes">Like it</span>\n                            <span class="text underline hide-for-small-only" ng-if="vm.momentDetail.likes" ng-bind="vm.momentDetail.likes+(vm.momentDetail.likes>1?\' likes\': \' like\')" ng-click="vm.showLikes($event)"></span>\n                        </div>\n                        <div class="block like-block show-for-small-only" ng-if="vm.momentDetail.likes" ng-click="vm.showLikes($event)" ng-class="{\'four-cols\': vm.momentDetail.likes, \'disable\': vm.likeClicked || vm.detailsLoading }">\n                            <span class="text" ng-bind="vm.momentDetail.likes+(vm.momentDetail.likes>1?\' likes\': \' like\')"></span>\n                        </div>\n                        <div class="block share-block hide-for-small-only" ng-click="vm.share()" ng-class="{\'four-cols\': vm.momentDetail.likes, \'disable\': vm.detailsLoading}">\n                            <span class="icon"></span>\n                            <span class="text">Share</span>\n                        </div>\n                        <div class="block share-block link tooltip show-for-small-only"\n                             ng-class="{\'four-cols\': vm.momentDetail.likes, \'disable\': vm.detailsLoading}"\n                             ng-click="vm.openTooltip(true)">\n                            <span class="icon"></span>\n                            <span class="text">Share</span>\n                            <div class="tooltip-body share"\n                                 ng-class="{\'tooltip-on\': vm.showShareTooltip}"\n                                 ng-show="vm.showShareTooltip"\n                                 ng-click="vm.tooltipBodyClick($event)">\n                                <span class="text header">Share on</span>\n                                <div class="block share-block" ng-click="vm.share()">\n                                    <span class="icon"></span>\n                                    <span class="text">Facebook</span>\n                                </div>\n                                <a id="whatsapp-link" data-action="{{vm.whatsappUrl}}"\n                                   data-text="Awesome place to shop for kids"\n                                   data-href="" class="wa_btn wa_btn_s"\n                                   ng-click="vm.trackSegmentShare(\'Whatsapp\')">\n                                    <div class="block share-block">\n                                        <span class="icon whatsapp"></span>\n                                        <span class="text">Whatsapp</span>\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                        <div class="block tool-block link tooltip show-for-small-only"\n                             ng-class="{\'four-cols\': vm.momentDetail.likes, \'disable\': vm.detailsLoading}"\n                             ng-click="vm.openTooltip(false)">\n                            <span class="icon"></span>\n                            <div class="tooltip-body"\n                                 ng-class="{\'tooltip-on\': vm.showTooltip}"\n                                 ng-show="vm.showTooltip"\n                                 ng-click="vm.tooltipBodyClick($event)">\n                                <div class="block report-block"\n                                     ng-class="{\'disable\': vm.detailsLoading, \'delete\': vm.momentDetail.isEdit}"\n                                     ng-click="vm.momentDetail.isEdit?vm.deleteMoment():vm.report()">\n                                    <span class="icon icon-medium"></span>\n                                    <span class="text" ng-bind="vm.momentDetail.isEdit? \'Delete Moment\': \'Report Moment\'"></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="block report-block hide-for-small-only"\n                             ng-class="{\'disable\': vm.detailsLoading, \'delete\': vm.momentDetail.isEdit}"\n                             ng-click="vm.momentDetail.isEdit?vm.deleteMoment():vm.report()">\n                            <span class="icon"></span>\n                            <span class="text" ng-bind="vm.momentDetail.isEdit? \'Delete\': \'Report\'"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="form-data-wrapper columns small-12 medium-5 large-4">\n            <div class="image-data">\n                <div class="row user-info">\n                    <div class="columns small-2">\n                        <a ui-sref="momentProfile({id: vm.momentDetail.uploaderId, source: vm.momentDetail.source})">\n                            <div class="image-thumb" ng-if="vm.momentDetail.customerProfileImageUrl" ng-style="{\'background-image\':\'url(\'+vm.momentDetail.customerProfileImageUrl+\')\'}"></div>\n                            <div class="avatar-circle" ng-if="!vm.momentDetail.customerProfileImageUrl">\n                                <span class="initials">{{vm.initials}}</span>\n                            </div>\n                        </a>\n                    </div>\n                    <div class="columns small-10">\n                        <div class="upload-info">\n                            <a ui-sref="momentProfile({id: vm.momentDetail.uploaderId, source: vm.momentDetail.source})">\n                                <span class="name">{{vm.momentDetail.customerName}}</span>\n                            </a>\n                            <span class="days" ng-if="vm.momentDetail.createdDate">{{vm.getAgo(vm.momentDetail.createdDate)}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class="row user-info last">\n                    <div class="columns small-2"></div>\n                    <div class="columns small-10">\n                        <div ng-if="vm.description" class="description" ng-bind-html="vm.description"></div>\n                    </div>\n                </div>\n                <div class="row upload-status"\n                     ng-if="vm.momentDetail.statusMessage"\n                     ng-class="{\'pending\': vm.momentDetail.status == \'PENDING\', \'rejected\': vm.momentDetail.status == \'REJECTED\'}"><!-- ng-if="vm.momentDetail.statusMessage"-->\n                    <div class="columns small-2">\n                        <div class="image-thumb">\n                        </div>\n                    </div>\n                    <div class="columns small-10" >\n                        <div class="header">{{vm.momentDetail.status == \'REJECTED\'?\'Moment not approved\': \'Awaiting approval\'}}</div>\n                        <div class="body" ng-bind="vm.momentDetail.statusMessage"></div>\n                        <div class="footer" ng-if="vm.momentDetail.status == \'REJECTED\'">\n                            <a class="moments-rule" href="/about/Terms#moments">View Rules</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="image-data" ng-if="vm.momentDetail.productInfos.length">\n                <div class="row info pid-list">\n                    <h2>Shop {{vm.kidNames}} look</h2>\n                    <div class="pids-wrapper row">\n                        <div class=" columns small-6 pids-preview" ng-repeat="pid in vm.momentDetail.productInfos" ng-class="{\'end\': $last}">\n                            <div class="link">\n                                <a ng-href="{{vm.getPidHref(pid)}}" ng-click="vm.setSegmentTrackData(pid)">\n                                    <div class="pid-bg" lazy-bg="{{pid.imageUrl}}">\n                                        <div ng-if="!pid.qty" class="extra sold">Sold out</div>\n                                        <div ng-if="!pid.qty" class="extra text">{{pid.caption}}<div class="icon-16 icon-track-arrow"></div> </div>\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("app/components/widgets/moments/modal/report-modal.html",'<div class="moment-report-container report" ng-if="vm.reportData.type == \'report\'">\n    <div class="heading">Report this moment</div>\n    <span class="icon icon-dismiss modal-close" ng-click="vm.closeReportModal()"></span>\n    <div class="report-img" lazy-bg="{{::vm.reportData.imgUrl}}" animate-visible="true" animate-speed="0.5s"></div>\n    <div class="report-text">Help us understand the issue</div>\n    <div class="row form-container">\n        <div class="columns small-12">\n            <form name="reportForm">\n                <div class="row" ng-if="!vm.isLoggedIn">\n                    <div class="group">\n                        <input type="text" required class="round" ng-model="vm.reportForm.name">\n                        <label>Full name</label>\n                    </div>\n                </div>\n                <div class="row" ng-if="!vm.isLoggedIn">\n                    <div class="group">\n                        <input type="text" required class="round" ng-model="vm.reportForm.email" ng-pattern="vm.emailRegex">\n                        <label>Email address</label>\n                    </div>\n                </div>\n                <div class="row" ng-if="vm.reportOptions">\n                    <div class="group">\n                        <select ng-model="vm.reportForm.optionSelected" required>\n                            <option ng-repeat="(key , value) in vm.reportOptions" value="{{key}}">{{value}}</option>\n                        </select>\n                        <label ng-if="!vm.reportForm.optionSelected">Select a reason</label>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="group">\n                        <textarea type="text" class="round" rows="3" maxlength="280" ng-model="vm.reportForm.comments"></textarea>\n                        <label>Additional comments</label>\n                    </div>\n                </div>\n                <div class="button-wrapper">\n                    <button ng-if="!vm.reportUploading" type="submit" class="button primary"\n                            ng-disabled="reportForm.$invalid"\n                            ng-click="vm.postReport()">\n                        Report Moment\n                    </button>\n                    <button ng-if="vm.reportUploading" type="button" class="button primary loader" disabled>\n                        <div class="loading">\n                            <!-- Mask of the quarter of circle -->\n                            <div class="mask">\n                                <!-- Inner masked circle -->\n                                <div class="maskedCircle"></div>\n                            </div>\n                        </div>\n                    </button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n\n<div class="moment-report-container delete" ng-if="vm.reportData.type == \'delete\'">\n    <div class="heading">DELETE MOMENT</div>\n    <span class="icon icon-dismiss modal-close" ng-click="vm.closeReportModal()"></span>\n    <div class="body">Are you sure you want to delete this Moment?</div>\n    <div class="button-wrapper">\n        <button ng-show="!vm.deleteLoading" class="button primary" ng-click="vm.deleteMoment()"> Delete </button>\n        <button ng-show="vm.deleteLoading" type="button" class="button primary loader" disabled>\n            <div class="loading">\n                <!-- Mask of the quarter of circle -->\n                <div class="mask">\n                    <!-- Inner masked circle -->\n                    <div class="maskedCircle"></div>\n                </div>\n            </div>\n        </button>\n    </div>\n</div>\n\n\n<div class="moment-report-container likes" ng-if="vm.reportData.type == \'likes\'">\n    <div class="heading">LIKES</div>\n    <span class="icon icon-dismiss modal-close" ng-click="vm.closeReportModal()"></span>\n    <div class="row form-container">\n        <div class="columns small-12 cols" ng-repeat="like in vm.likes">\n            <a ui-sref="momentProfile({id: like.customerId, source: \'Hopscotch\'})">\n                <div class="block image-thumb" ng-if="like.customerProfileImageUrl" lazy-bg="{{like.customerProfileImageUrl}}"></div>\n                <div class="block image-thumb" ng-if="!like.customerProfileImageUrl"></div>\n                <div class="block name" ng-bind="like.name"></div>\n            </a>\n        </div>\n    </div>\n</div>'),e.put("app/components/widgets/moments/profile/profile.html",'<div class="moments-container">\n    <div ng-if="vm.moments.length > 1" class="moment show-for-small-only" ng-if="vm.userTile">\n        <div class="image">\n            <div class="moment-bg profile">\n                <div class="wrapper">\n                    <div ng-if="vm.userTile.imageUrl" class="user-image" lazy-bg="{{::vm.userTile.imageUrl}}"></div>\n                    <div ng-if="!vm.userTile.imageUrl" class="user-image initials" ng-bind="vm.initials"></div>\n                    <div class="name" ng-bind="vm.userTile.name"></div>\n                    <div class="details">\n                        <span ng-if="vm.userTile.uploads" class="detail uploads" ng-bind="vm.userTile.uploads + (vm.userTile.uploads>1?\' Moments\':\' Moment\')"></span>\n                        <span ng-if="vm.userTile.uploads && vm.userTile.likes" class="detail dot" ng-if="vm.userTile.likes"> &bull; </span>\n                        <span class="detail likes" ng-if="vm.userTile.likes" ng-bind="vm.userTile.likes + (vm.userTile.likes>1?\' Likes\':\' Like\')"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div ng-if="vm.moments.length > 1" class="moment-header-container sticky-moment-header hide-for-small-only" sticky-on-scroll check-element=".profile-block">\n        <div class="moment-header profile">\n            <span class="name" ng-bind="vm.userTile.name"></span>\n            <span ng-if="vm.userTile.uploads" class="detail uploads" ng-bind="vm.userTile.uploads + (vm.userTile.uploads>1?\' Moments\':\' Moment\')"></span>\n            <span ng-if="vm.userTile.uploads && vm.userTile.likes" class="detail dot" ng-if="vm.userTile.likes"> &bull; </span>\n            <span class="detail likes" ng-if="vm.userTile.likes" ng-bind="vm.userTile.likes + (vm.userTile.likes>1?\' Likes\':\' Like\')"></span>\n        </div>\n    </div>\n\n    <div class="moments-list" ng-show="vm.moments.length > 1" id="container">\n        <div salvattore-moments\n             class="moments-image clearfix"\n             data-columns=""\n             moments="vm.moments">\n        </div>\n    </div>\n    <div class="moments-empty" ng-show="vm.moments && vm.moments.length === 1">\n        <div class="moment">\n            <div class="image profile-block">\n                <div class="moment-bg profile empty">\n                    <div class="wrapper empty">\n                        <div ng-if="vm.userTile.imageUrl" class="user-image empty" lazy-bg="{{::vm.userTile.imageUrl}}"></div>\n                        <div ng-if="!vm.userTile.imageUrl" class="user-image initials empty" ng-bind="vm.initials"></div>\n                        <div class="name empty" ng-bind="vm.userTile.name"></div>\n                        <div class="details empty">\n                            <div>\n                                <hr>\n                            </div>\n                            <span class="detail uploads">No moments added yet.</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="text-center load-more-moments-btn" ng-if="!vm.hideLoadMore" ng-hide="vm.momentsLoading">\n        <button class="button secondary" ng-click="vm.viewMoreMoments()" ng-disabled="vm.loadingMoreMoments">\n            <span ng-class="{\'empty-block\': vm.loadingMoreMoments}">View more moments</span>\n            <div class="loading" ng-show="vm.loadingMoreMoments">\n                <div class="mask">\n                    <div class="maskedCircle bold-text"></div>\n                </div>\n            </div>\n        </button>\n    </div>\n\n\n    <div class="cart-loader-overlay" ng-show="vm.momentsLoading">\n        <div>\n            <div class=\'cart-spinner\'>\n                <div class=\'spinner\'>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                    <div class=\'bullet\'></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/moments/upload/upload.html",'<div class="moment-upload-container" ng-if="vm.pids.length">\n    <div class="heading">\n        ADD A MOMENT\n    </div>\n    <span class="icon icon-dismiss modal-close" ng-click="vm.closeUploadModal()"></span>\n    <script type="text/javascript-lazy" src="https://static.hopscotch.in/web2/aws-sdk-2.14.0.min.js"></script>\n    <div class="file-wrapper">\n        <input id="file-data" type="file" name="file" file="vm.uploadedFile" accept="image/*" onchange="angular.element(this).scope().uploadImage(event)">\n    </div>\n    <div class="row scrollable-content" ng-class="{\'animate-uploader\' : vm.showUpload}" ng-show="vm.showUpload">\n        <div class="columns small-12 medium-9">\n            <div class="moment-wrapper cropper" ng-class="{\'no-image\': !vm.file.size}">\n                <div class="cart-loader-overlay" ng-if="vm.refresh">\n                    <div>\n                        <div class=\'cart-spinner\'>\n                            <div class=\'spinner\'>\n                                <div class=\'bullet\'></div>\n                                <div class=\'bullet\'></div>\n                                <div class=\'bullet\'></div>\n                                <div class=\'bullet\'></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div id="crop-block" ng-if="vm.cropUrl && !vm.refresh">\n                    <image-cropper ng-if="vm.cropUrl && !vm.refresh" image-url="{{vm.cropUrl}}"\n                       width="{{vm.outputImage.width}}"\n                       height="{{vm.outputImage.height}}"\n                       fit-on-init="true"\n                       show-controls="false"\n                       center-on-init="true"\n                       api="vm.cropAPI"\n                       crop-callback="vm.crop"\n                       zoom-step="-0.9"\n                       action-labels="vm.buttonLabels">\n                    </image-cropper>\n                    <div class="imgCropper-controls">\n                        <button type="button">\n                            <span class="icon icon-medium icon-minus-square" ng-click="vm.zoomOut()"></span>\n                        </button>\n                        <!--<button type="button">\n                            <span class="icon icon-32" ng-click="vm.fit()">=</span>\n                        </button>-->\n                        <button type="button">\n                            <span class="icon icon-medium icon-plus-square" ng-click="vm.zoomIn()"></span>\n                        </button>\n                    </div>\n                </div>\n                <label for="file-data" class="image-block" ng-if="!vm.file.size">\n                    <div class="download">\n                    </div>\n                </label>\n            </div>\n        </div>\n        <div class="form-data-wrapper columns small-12 medium-3 cropper">\n            <div class="form-data">\n                <div class="tools clearfix upload">\n                    <div class="tool select-image" ng-class="{\'inactive\': !vm.file.size}">\n                        <label for="file-data">\n                            <span class="icon icon-folder"></span>Change photo\n                        </label>\n                    </div>\n                    <hr class="show-for-medium"/>\n                    <div class="tool rotate-image" ng-class="{\'inactive\': !vm.file.size}">\n                        <a ng-click="vm.rotate()">\n                            <span class="icon icon-rotate"></span>Rotate photo\n                        </a>\n                    </div>\n                    <hr class="show-for-medium"/>\n                    <div class="tool show-for-small-only" ng-class="{\'inactive\': !vm.file.size}">\n                        <a ng-click="vm.croppedResult()">\n                            <span class="icon icon_done_white"></span>Done\n                        </a>\n                    </div>\n                </div>\n                <div class="next-wrapper hide-for-small-only" ng-class="{\'inactive\': !vm.file.size}">\n                    <button class="button next" ng-click="vm.croppedResult()">Done</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <form name="uploadForm" novalidate ng-if="!vm.showUpload" ng-class="{\'animate-uploader-reverse\' : !vm.showUpload}">\n        <div class="row scrollable-content">\n            <div class="columns small-12 medium-6">\n                <div class="moment-wrapper">\n                    <div class="image-block" ng-if="vm.imageData.url" ng-style="{\'background-image\':\'url(\'+vm.imageData.url+\')\'}"></div>\n                    <label for="file-data" class="image-block" ng-if="!vm.imageData.url">\n                        <div class="download"></div>\n                    </label>\n                    <div class="row tools upload">\n                        <div class="columns small-12 tool change-image first">\n                            <a ng-click="vm.edit()">\n                                <span class="icon icon-arrow-white"></span>Edit or change photo\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="form-data-wrapper columns small-12 medium-6">\n                <div class="form-data">\n                    <div class="row info kid-info" id="kid-info">\n                      <h2>Who\'s in this photo?</h2>\n                        <div class="size-selector-primary" ng-if="!vm.isKidAdding">\n                            <div class="row">\n                                <div class="sizes">\n                                    <span ng-repeat="kid in vm.addedKids | orderBy:\'-\'" class="size"\n                                          ng-bind="kid.kidName"\n                                          ng-click="vm.removeKid(kid)"\n                                          ng-class="{\'selected\': kid.isSelected}">\n                                    </span>\n                                    <span ng-repeat="kid in vm.kids" class="size"\n                                          ng-bind="kid.kidName"\n                                          ng-click="vm.selectKid(kid)"\n                                          ng-class="{\'selected\': kid.isSelected}">\n                                    </span>\n                                    <span class="size"\n                                          ng-click="vm.allowAdd()">+ Add a child\n                                    </span>\n                                </div>\n                            </div>\n                            <div class="scroller-wrapper scroller-wrapper-left show-for-large ng-hide" ng-show="vm.showScroller.left" ng-style="{\'background-image\': \'linear-gradient(to left, rgba(245, 245, 245, 0), \'+vm.colorCode+\')\'}">\n                                <div class="scroller scroller-left" scroller parent="\'.size-selector-primary .row\'" child="\'.size-selector-primary .sizes\'" fraction="0.6" show-scroller="vm.showScroller"></div>\n                            </div>\n                            <div class="scroller-wrapper scroller-wrapper-right show-for-large" ng-show="vm.showScroller.right" ng-style="{\'background-image\': \'linear-gradient(to right, rgba(245, 245, 245, 0), \'+vm.colorCode+\')\'}">\n                                <div class="scroller scroller-right" scroller parent="\'.size-selector-primary .row\'" child="\'.size-selector-primary .sizes\'" fraction="0.6" show-scroller="vm.showScroller"></div>\n                            </div>\n                        </div>\n                        <div class="size-selector-primary kids" ng-show="vm.allowAddChild">\n                            <div class="row group">\n                                <input type="text" class="round" name="kidName" ng-model="vm.addedKid">\n                                <label>Baby’s name</label>\n                                <span class="add-child" ng-class="{\'add-child-active\': vm.addedKid}" ng-click="vm.addChild()">ADD CHILD</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row info caption-info">\n                        <h2>Tell us about this photo</h2>\n                        <div class="caption">\n                            <div class="group">\n                                <textarea name="caption-text" class="round" maxlength="200" cols="40" rows="3" ng-model="vm.imageInfo.description"></textarea>\n                                <label>Caption for the photo (optional)</label>\n                            </div>\n                            <!--<div class="count">{{(vm.imageInfo.description.length || 0) + \'/200\'}}</div>-->\n                        </div>\n                    </div>\n\n                    <div class="row info pid-list" id="pid-list">\n                      <h2>Select products from this photo</h2>\n                        <div class="pids-wrapper row">\n                            <div class=" columns small-4 pids-preview" ng-repeat="pid in vm.pids" ng-click="vm.selectPid(pid)" ng-class="{\'end\': $last}">\n                                <div class="pid-bg">\n                                    <div class="bg-inner" ng-style="{\'background-image\':\'url(\'+pid.imageUrl+\')\'}" ng-class="{\'selected\': pid.isSelected}"></div>\n                                    <span></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="view-more">\n                            <button class="button secondary" ng-click="vm.viewMoreProducts()" ng-hide="vm.disableViewMore">View more</button>\n                        </div>\n                    </div>\n                    <input type="hidden" name="width" ng-model="vm.imageData.width" required>\n                    <input type="hidden" name="height" ng-model="vm.imageData.height" required>\n                    <input type="hidden" name="pids" ng-model="vm.imageInfo.taggedProductIds" ng-if="vm.pids.length" required>\n                    <input type="hidden" name="kids" ng-model="vm.imageInfo.taggedKidIds" ng-if="!vm.imageInfo.kidName" required>\n                    <input type="hidden" name="kids" ng-model="vm.imageInfo.kidName" ng-if="vm.imageInfo.kidName" required>\n                </div>\n            </div>\n        </div>\n        <div ng-show="vm.momentUploadLoading">\n            <button type="button" class="button default login-loading-btn submit-sticky" disabled>\n                <div class="loading">\n                    <!-- Mask of the quarter of circle -->\n                    <div class="mask">\n                        <!-- Inner masked circle -->\n                        <div class="maskedCircle"></div>\n                    </div>\n                </div>\n            </button>\n        </div>\n        <div class="button-wrapper submit-sticky" ng-show="!vm.momentUploadLoading">\n            <label class="terms" ng-if="vm.isFirstUpload">\n                <input type="checkbox" name="size" class="hs-checkbox" required ng-model="vm.agree" />\n                <span class="icon"></span>\n                <span class="content">I agree to the Hopscotch <a href="/about/Terms">Terms of Service.</a></span>\n            </label>\n            <div class="terms not-first" ng-if="!vm.isFirstUpload">\n                <span class="content">By posting a Moment, you agree to Hopscotch’s <a href="/about/Terms">Terms of Service.</a></span>\n            </div>\n            <!--ng-disabled="invalid(uploadForm)"-->\n            <button class="button primary"\n                    ng-click="vm.upload()">\n                Post your Moment\n            </button>\n        </div>\n    </form>\n</div>\n\n<div class="moment-upload-container" ng-if="!vm.pids.length && vm.userDataLoaded" ng-class="{\'no-order\': !vm.pids.length}">\n    <div class="heading"></div>\n    <span class="icon icon-dismiss modal-close" ng-click="vm.closeUploadModal()"></span>\n    <div class="row scrollable-content">\n        <div class="columns small-12">\n            <div class="moment-wrapper">\n                <div class="image-block" ng-if="!vm.imageData.url">\n                    <div class="empty icon-no-order"></div>\n                    <h2 class="">Uh-oh!</h2>\n                    <div class="info" ng-bind="vm.dataObj.message"></div>\n                </div>\n                <a href="{{vm.dataObj.actionUri}}" class="button primary" ng-bind="vm.dataObj.actionText">View more collections</a>\n            </div>\n        </div>\n    </div>\n</div>\n'),
e.put("app/components/widgets/product/card/product-card.html",'<div class="product" ng-class="::vm.productClass"\n     ng-mouseover="vm.displayQuickShop(true)"\n     ng-mouseleave="vm.displayQuickShop(false)">\n    <a ng-click="vm.trackProductClick()" ng-href="{{::(vm.product.action_type != \'VIDEO\'?vm.getUrlString(): \'\')}}" target="{{::vm.externalUrl ? \'_blank\': \'\'}}" itemprop="url">\n        <div ng-if="::vm.product.mediumImg" class="image-tags">\n            <div class="image disable-image-download" ng-class="::vm.soldOutClass" ng-click="vm.product.action_type == \'VIDEO\'?vm.openVideo():\'\'"\n                 lazy-bg="{{::vm.product.mediumImg | ImagePolicy}}" animate-visible="true" animate-speed="0.5s" itemprop="{{vm.product.action_type == \'VIDEO\'? \'video\' :  \'image\'}}">\n                <iframe class="hide-for-large"\n                    ng-if="::(vm.product.isTile && vm.product.action_type == \'VIDEO\')"\n                    width="100%"\n                    height="100%"\n                    style="position: absolute"\n                    src="{{vm.getUrl()}}"\n                    frameborder="0"\n                    wmode="Opaque"\n                    allowfullscreen></iframe>\n                <div class="show-for-large" ng-class="{\'transparent-img-overlay video-play-button\': vm.product.action_type ==\'VIDEO\'}"></div>\n            </div>\n\n            <div ng-class="::vm.soldImageOverlayClass"></div>\n            <div class="tags" ng-show="::(!vm.product.isTile)">\n                <span class="tag pre-order" ng-if="::vm.product.isPresale">Pre-order</span>\n                <span class="tag qty-left"\n                      ng-if="::((vm.product.quantity < 4) && (vm.product.quantity > 0) && !vm.isComingSoon)"\n                      ng-bind="::(vm.product.quantity+\' left\')" itemprop="availability" href="http://schema.org/InStock"></span>\n                <span class="tag sold-out"\n                      ng-hide="::(vm.product.quantity || vm.isComingSoon)">Sold out</span>\n            </div>\n        </div>\n        <div class="info-wrapper">\n            <h2 class="brand-name" ng-bind="::vm.product.brandName" itemprop="brand"></h2>\n            <h1 ng-bind="::vm.product.name" itemprop="name"></h1>\n            <div class="prices" ng-if="::(!vm.isComingSoon)" ng-class="{\'shaking-anim\': vm.priceUpdated}">\n                <span class="actual-price" ng-bind="vm.skuProduct.retailPrice | currency:\'&#8377;\':0" itemprop="price"></span>\n                <span ng-if="vm.skuProduct.regularPrice > vm.skuProduct.retailPrice"\n                      class="vendor-price" ng-bind="vm.skuProduct.regularPrice | currency:\'&#8377;\':0"  itemprop="price"></span>\n                <span ng-if="vm.skuProduct.discount && vm.skuProduct.discount > 5"\n                      ng-bind="vm.getDiscount(vm.skuProduct)" class="discount" itemprop="offers" itemscope itemtype="http://schema.org/Offer"></span>\n            </div>\n        </div>\n    </a>\n    <div class="quick-shop-wrapper show-for-large">\n        <div ng-if="vm.addQuickShop()" class="quick-shop">\n            <quick-shop product="vm.product" product-form="vm.productForm"></quick-shop>\n        </div>\n    </div>\n</div>'),e.put("app/components/widgets/product/carousel/product-carousel.html",'\n\n<div class="recommended-product-wrapper">\n    <a class="scroller scroller-left" ng-click="vm.scrollLeft()" ng-show="vm.showLeftScroller"></a>\n    <div class="recommended-product">\n        <recommended-product ng-repeat="product in vm.products"\n                             product="product"\n                             show-view-all="vm.showViewAll"\n                             last="$last"\n                             ng-class="{\'hide-for-large-only\': $index == vm.products.length-3, \'hide-for-large\': $index == vm.products.length-2}"\n                             view-all-action="vm.viewAllAction"\n                             total-products="vm.totalProducts"\n                             section="vm.section"\n                             from-screen="vm._$state.current.name"\n                             sub-section="vm.subSection"></recommended-product>\n    </div>\n    <a class="scroller scroller-right" ng-click="vm.scrollRight()" ng-show="vm.showRightScroller"></a>\n</div>\n'),e.put("app/components/widgets/product/custom-size-picker/custom-size-picker.html",'<div class="custom-size-picker-container">\n    <div class="custom-size-picker"\n         ng-class="{\'open\': vm.showOptions}"\n         ng-click="vm.togglePicker()">\n        <div class="select-preview">\n            <div ng-hide="vm.selectedSku" class="default">Select a size</div>\n            <div ng-show="vm.selectedSku">\n                <span ng-bind="vm.selectedSku.attributes.size"></span>\n                <span class="float-right" ng-show="vm.selectedSku.availableQuantity < 4" ng-bind="\'Only \' + vm.selectedSku.availableQuantity + \' left\'"></span>\n            </div>\n        </div>\n        <div class="option-preview" ng-show="vm.showOptions">\n            <div class="option"\n                 ng-click="vm.chooseSku(sku)"\n                 ng-class="{\'disabled\': sku.availableQuantity < 1, \'last\': $last, selected: sku.skuId === vm.selectedSku.skuId}"\n                 ng-repeat="sku in vm.skus">\n                <span class="attr-size" ng-bind="sku.attributes.size"></span>\n                <span class="float-right sold-out-span" ng-if="sku.availableQuantity < 1">Sold out</span>\n                <span class="float-right sku-hover" ng-if="!sku.availableQuantity < 1">\n                    <span ng-if="sku.availableQuantity > 0 && sku.availableQuantity < 4" class="low-inventory" ng-bind="sku.availableQuantity + \' left\'"></span>\n                    <span class="sku-edd" ng-style="{\'color\': sku.eddTextColor, \'background-color\': sku.eddColor}"><!--\n                        --><span class="icon-16 sku-edd-icon" ng-class="{\'icon-edd-fast\': sku.isFastEdd, \'icon-edd-slow\': !sku.isFastEdd}"></span><!--\n                        --><span class="sku-delivery-msg" ng-bind="sku.deliveryMsg"></span><!--\n                    --></span>\n                </span>\n            </div>\n        </div>\n    </div>\n    <div class="dummy-custom-size-picker"></div>\n</div>'),e.put("app/components/widgets/product/list/product-list.html",'<div class="row product-row" itemscope itemtype="http://schema.org/ItemList">\n    <div ng-repeat="product in vm.products track by $index"\n         class="small-6 medium-4 large-3 columns product-tile"\n         ng-hide="$index > vm.pagesize - 1"\n         ng-class="::vm.getEndClass($last)">\n        <product product="::product" is-coming-soon="::vm.isComingSoon" deregister-listeners="vm.deregisterListeners()"></product>\n    </div>\n</div>\n'),e.put("app/components/widgets/product/pincode-modal/pincode-modal.html",'<div>\n    <div class="header">\n        <div class="row">\n            <div class="title">\n                <span ng-bind="::(vm.data.addressList && vm.data.addressList.length ? \'Edit pincode\' : \'Check pincode\')"></span>\n                <span class="icon icon-dismiss modal-close float-right" ng-click="vm.closeModal()"></span>\n            </div>\n        </div>\n    </div>\n    <div class="pincode-body">\n        <div ng-if="vm.data.addressList && vm.data.addressList.length">\n            <div class="title">Select an address</div>\n            <div class="delivery-addresses-container">\n                <span class="scroll-scrim left" ng-show="vm.showLeft">\n                    <a class="scroller" ng-click="vm.scrollLeft()"></a>\n                </span>\n                <div class="address-scroller-container">\n                    <div class="addresses"\n                         ng-class="{\'disabled\': !address.isServicable, \'active\': address.isServicable, \'first\': $first, \'last\': $last}"\n                         ng-repeat="address in vm.data.addressList"\n                         ng-click="address.isServicable ? vm.checkPincode(address.zipCode, $index + 1) : \'\'">\n                        <div class="name" ng-bind="address.name"></div>\n                        <div ng-bind="address.city + \' - \' + address.zipCode"></div>\n                    </div>\n                </div>\n                <span class="scroll-scrim right" ng-show="vm.showRight">\n                    <a class="scroller" ng-click="vm.scrollRight()"></a>\n                </span>\n\n            </div>\n            <div class="title">Or, enter your pincode</div>\n        </div>\n        <div ng-if="!vm.data.addressList">\n            <div class="title">Enter your pincode</div>\n        </div>\n        <div class="pincode-input-form">\n            <div class="row">\n                <form name="pincodeForm">\n                    <div class="row">\n                        <div class="group"><!--\n                            --><input type="tel"\n                                   class="input-pincode"\n                                   required name="zipCode"\n                                   autocomplete="pincode zipCode zipcode"\n                                   format-zipcode\n                                   tabindex="-1"\n                                   class="round"\n                                   maxlength="7"\n                                   ng-if="(vm.data.addressList && vm.data.addressList.length)"\n                                   ng-blur="vm.checkPincode(vm.form.enteredPincode)"\n                                   ng-model="vm.form.enteredPincode"><!--\n                            --><input type="tel"\n                                   class="input-pincode"\n                                   required name="zipCode"\n                                   autocomplete="pincode zipCode zipcode"\n                                   format-zipcode\n                                   class="round"\n                                   maxlength="7"\n                                   autofocus\n                                   ng-if="!(vm.data.addressList && vm.data.addressList.length)"\n                                   ng-blur="vm.checkPincode(vm.form.enteredPincode)"\n                                   ng-model="vm.form.enteredPincode"><!--\n                            --><label>Pincode</label><!--\n                            --><button class="button primary button-block cta-btn" tabindex="-1"\n                                    ng-disabled="vm.gettingEdd || pincodeForm.$invalid"\n                                    ng-click="vm.checkPincode()">\n                                Check\n                            </button>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div ng-show=\'vm.form.enteredPincodeError\'>\n                            <div class="error-message" ng-bind="vm.form.enteredPincodeError"></div>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/recommended/carousel/recommended-carousel.html",'\n<divider ng-if="vm.recommended.details.length > 0">{{vm.recommended.title}}</divider>\n\n<product-carousel \n    products="vm.recommended.details" \n    section="\'RFYP\'" \n    sub-section="\'Carousel\'"></product-carousel>\n\n<div class="recommended-matching" ng-if="vm.recommended.matching.length > 0">\n    <recommended-matching \n        ng-repeat="product in vm.recommended.matching" \n        product="product" \n        section="\'RFYP\'"></recommended-matching>\n</div>\n'),e.put("app/components/widgets/recommended/matching/recommended-matching.html",'<div class="recommended-matching-product">\n    <a ui-sref="search( {filterQuery: vm.product.searchParams.filterQuery, brandId: vm.product.searchParams.brandId, subCategorys: vm.product.searchParams.subCategorys, colour: vm.product.searchParams.colour, searchBy: vm.product.name, resetFunnel: false, hsubSection: vm.product.type, hsection: vm.section, funnel: vm._PageTrackingService.getFunnel(), section: vm.section, subsection: vm.product.type, from_screen: vm._$state.current.name, from_section: \'RFY products\', recoType: vm.product.recoType, screenName : vm.product.screenName} )"\n    ng-bind="::vm.product.name"></a>\n</div>\n'),e.put("app/components/widgets/recommended/product/recommended-product.html",'<div class="recommended-product-item">\n    <a ng-href="{{vm.getProductUrl()}}" ng-click="vm.recommendationClicked()">\n        <div class="recommended-product-item-image" >\n            <div class="disable-image-download">\n                <img ng-src="{{(vm.product.imageUrl || vm.product.mediumImg) | ImagePolicy}}" ng-class="{\'fade-out\': vm.last && vm.showViewAll}">\n                <div class="transparent-img-overlay"></div>\n            </div>\n            <div ng-show="vm.last && vm.showViewAll" class="view-all-link">\n                <h3>View All</h3>\n                <span ng-bind="(vm.totalProducts > 1 ? vm.totalProducts + \' items\' : \'1 item\')"></span>\n            </div>\n\n        </div>\n    </a>\n    <h3 ng-class="{invisible: vm.last && vm.showViewAll}" class="recommended-product-item-price">{{::(vm.product.salePrice || vm.product.retailPrice)  | currency:\'&#8377;\':0}}</h3>\n</div>\n'),e.put("app/components/widgets/return/return-item/return-item.html",'<div class="cancellable-item">\n    <div ng-if="!vm.item.isSelected">\n        <div class="row" ng-class="{\'cursor-pointer\': !vm.item.reasonForNoReturn}" ng-click="vm.onItemUpdate(vm.item)">\n            <div class="small-1 medium-1 columns" ng-class="{\'invisible\': (vm.item.reasonForNoReturn || vm.firstLoad)}">\n                <label class="cancellable-item-checkox">\n                    <input type="checkbox" class="hs-checkbox" ng-model="vm.item.isSelected" disabled/>\n                    <span></span>\n                </label>\n            </div>\n            <div class="small-3 medium-3 columns">\n                <div class="thumb"\n                     ng-style="{\'background-image\': \'url(\' + vm.item.imgUrl + \')\'}">\n                </div>\n            </div>\n            <div class="small-8 medium-8 columns item-details">\n                <div class="row">\n                    <div class="product-name small-text" ng-bind="::vm.item.name"></div>\n                </div>\n                <div class="row">\n                    <div class="size small-text">\n                        <span class="title">Size: </span>\n                        <span ng-bind="::vm.item.size"></span>\n                    </div>\n                </div>\n                <div class="row small-text">\n                    <div class="row">\n                        <!--QTY SELECTOR-->\n                        <div class="small-12 medium-12 columns qty">\n                            <div class="row title">\n                                Qty\n                            </div>\n                            <div class="row">\n                        <span class="refund-qty-for-small"\n                              ng-bind="vm.item.returnQty + \' of \' + vm.item.number">\n                        </span>\n                            </div>\n                        </div>\n                        <!--END QTY SELECTOR-->\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div ng-if="vm.item.isSelected">\n        <div class="row">\n            <div class="small-1 medium-1 columns" ng-class="{\'invisible\': (vm.item.reasonForNoReturn || vm.firstLoad)}"  ng-click="vm.onItemUpdate(vm.item)">\n                <label class="cancellable-item-checkox">\n                    <input type="checkbox" class="hs-checkbox" ng-model="vm.item.isSelected" disabled/>\n                    <span></span>\n                </label>\n            </div>\n            <div class="small-3 medium-3 columns">\n                <div class="thumb"\n                     ng-style="{\'background-image\': \'url(\' + vm.item.imgUrl + \')\'}">\n                </div>\n            </div>\n            <div class="small-8 medium-8 columns item-details">\n                <div class="row">\n                    <div class="small-10 columns product-name small-text" ng-bind="::vm.item.name"></div>\n                    <div class="small-2 columns return-edit-btn" ng-click="vm.editReturnItem(item)">\n                        <span class="float-right">Edit</span>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="size small-text">\n                        <span class="title">Size: </span>\n                        <span ng-bind="::vm.item.size"></span>\n                    </div>\n                </div>\n                <div class="row small-text">\n                    <div class="row bold-text">\n                        <!--QTY SELECTOR-->\n                        <div class="small-4 medium-4 columns qty">\n                            <div class="row title">\n                                Return Qty\n                            </div>\n                            <div class="row">\n                                <span class="refund-qty-for-small cancelled"\n                                      ng-bind="vm.item.returnQty + \' of \' + vm.item.number">\n                                </span>\n                            </div>\n                        </div>\n                        <!--END QTY SELECTOR-->\n\n                        <div class="small-offset-2 small-6 medium-offset-2 medium-6 columns">\n                            <div class="row title">\n                                Refund\n                            </div>\n                            <div class="row refund-amount">\n                                <span class="positive" ng-bind="vm.item.refundAmount | currency: \'&#8377;\' : 0"></span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row reason-summary">\n                        <div class="row divider-right bold-text">\n                            <div class="title-div divider-title-reason">Reason</div>\n                        </div>\n                        <div class="row">\n                            <span ng-bind="vm.item.reason.description"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row" ng-if="vm.item.reasonForNoReturn">\n        <div class="small-11 small-offset-1 colummns non-returnable-item">\n            This item is not eligible for return.\n            <div class="link tooltip" ng-click="vm.openTooltip()">Why?\n                <div class="tooltip-body"\n                     ng-class="{\'tooltip-on\': vm.item.showTooltip}"\n                     ng-show="vm.item.showTooltip"\n                     ng-click="vm.tooltipBodyClick($event)">\n\n                    <div class="tooltip-header">\n                        <span class="text">Reason</span>\n                        <span class="icon-medium tooltip-close-icon icon-dismiss float-right" ng-click="vm.closeTooltip($event)"></span>\n                    </div>\n                    <div class="tooltip-reason">\n                        <span ng-bind="vm.item.reasonForNoReturn"></span>\n                    </div>\n                    <!--<div class="tooltip-return-policy">-->\n                        <!--<a ui-sref="help()" class="tooltip-link">Return Policy</a>-->\n                    <!--</div>-->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("app/components/widgets/account/order/order-detail/order-detail-item.html",'<div class="order-detail-item-wrapper" ng-class="{\'curved-top\': vm.borderTop, \'curved-bottom\': vm.borderBottom}">\n    <div class="row">\n        <div class="small-4 medium-2 columns">\n            <a class="image-anchor" ng-href="{{vm.product.productUrl}}">\n                <div class="item-image-container" ng-style="{\'background-image\': \'url(\' + vm.product.imgUrl + \')\'}" >\n                </div>\n            </a>\n        </div>\n        <div class="small-8 medium-10 columns">\n            <div class="row padding-left-small" ng-class="{\'centered-for-no-milestone\': !vm.product.milestone}">\n                <div class="small-12 medium-5 columns small-line-item">\n                    <div class="bold-text text-overflow-ellipsis" ng-bind="::vm.product.brand"></div>\n                    <div class="text-overflow-ellipsis" ng-bind="::vm.product.name"></div>\n                </div>\n                <div class="small-12 medium-4 columns small-line-item">\n                    <div ng-hide="vm.product.sizeValue.toLowerCase() == \'onesize\' || vm.product.sizeValue.toLowerCase() == \'one size\'">\n                        <span class="bold-text">Size&nbsp;</span><span ng-bind="::vm.product.sizeValue"></span>\n                    </div>\n                    <div>\n                        <span class="bold-text">Qty&nbsp;</span><span ng-bind="::vm.product.number"></span>\n                    </div>\n                </div>\n                <div class="small-12 medium-3 columns">\n                    <div class="price-tag">\n                        <div class="item-price bold-text" ng-bind="::(vm.product.priceAfterAllDiscount | currency:\'&#8377;\':0)"></div>\n                        <span class="striked-text vertical-align-top small-text show-for-small-only" ng-bind="::((vm.product.regularPrice * vm.product.number) | currency:\'&#8377;\':0)" ng-if="vm.product.regularPrice > vm.product.priceAfterAllDiscount"></span>\n                        <div class="striked-text small-text hide-for-small-only float-right" ng-bind="::((vm.product.regularPrice * vm.product.number) | currency:\'&#8377;\':0)" ng-if="vm.product.regularPrice > vm.product.priceAfterAllDiscount"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="row hide-for-small-only">\n                <div class="tracking-detail-row" ng-if="vm.product.milestone">\n                    <div class="tracking-milestone">\n                        <span class="item-status-icon icon-tracking-milestone" ng-class="vm.getMilestoneIconClasses()"></span>\n                        <span class="milestone"\n                              ng-class="{\'curved-border\': !vm.product.showTrackOrder}"\n                              ng-bind-html="::(vm.cancellationNotification || vm.product.notification.detail)"></span><!--\n                        --><span class="tracking-status-arrow" ng-show="vm.product.showTrackOrder"></span>\n                    </div><!--\n                    --><div class="track-now-connector" ng-show="vm.product.showTrackOrder"></div>\n                    <div class="track-now-container" ng-show="vm.product.showTrackOrder" ng-click="vm.onTrackItem()">\n                        <div class="track-now-icon"><span class="icon-16 icon-track-arrow"></span></div>\n                        <div class="track-now-link">Track</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row show-for-small-only">\n        <div class="tracking-detail-row" ng-if="vm.product.milestone">\n            <div class="tracking-milestone">\n                <span class="item-status-icon icon-tracking-milestone" ng-class="vm.getMilestoneIconClasses()"></span>\n                <span class="milestone"\n                      ng-class="{\'curved-border\': !vm.product.showTrackOrder}"\n                      ng-bind-html="::(vm.cancellationNotification || vm.product.notification.detail)"></span><!--\n                        --><span class="tracking-status-arrow" ng-show="vm.product.showTrackOrder"></span>\n            </div><!--\n                    --><div class="track-now-connector" ng-show="vm.product.showTrackOrder"></div>\n            <div class="track-now-container" ng-show="vm.product.showTrackOrder" ng-click="vm.onTrackItem()">\n                <div class="track-now-icon"><span class="icon-16 icon-track-arrow"></span></div>\n                <div class="track-now-link">Track</div>\n            </div>\n        </div>\n    </div>\n    <div class="row" ng-if="vm.product.reasonForNoReturn">\n        <div class="non-returnable-item">\n            This item is not eligible for return.\n            <div class="link tooltip" ng-click="vm.openTooltip()">Why?\n                <div class="tooltip-body"\n                     ng-class="{\'tooltip-on\': vm.product.showTooltip}"\n                     ng-show="vm.product.showTooltip"\n                     ng-click="vm.tooltipBodyClick($event)">\n\n                    <div class="tooltip-header">\n                        <span class="text">Reason</span>\n                        <span class="icon-medium tooltip-close-icon icon-dismiss float-right" ng-click="vm.closeTooltip($event)"></span>\n                    </div>\n                    <div class="tooltip-reason">\n                        <span ng-bind="vm.product.reasonForNoReturn || \'No return reason\'"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')}]);